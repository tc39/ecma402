# 2025-01-08 ECMA-402 Meeting

## Logistics

### Attendees

- Ben Allen - Igalia (BAN)
- Daniel Minor - Mozilla (DLM)
- Eemeli Aro - Mozilla (EAO)
- Henri Sivonen - Mozilla (HJS)
- Kevin Ness - Invited Expert (KDN)
- Philip Chimento - Igalia (PFC)
- Richard Gibson - Agoric (RGN)
- Shane Carr - Google i18n (SFC), Co-Moderator
- Yusuke Suzuki - Apple (YSZ)
- Zibi Braniecki - Amazon (ZB)

## Status Updates

### Updates from the Editors

BAN: I've been focused on Intl Era Month Code so don't have 402 updates

RGN: Similar

SFC: The only activity I've seen is the PR from Frank which is on the agenda later

### Updates from the MessageFormat Working Group

EAO: Not many updates, but the current version of the spec was recommended for adoption in CLDR 49. Nothing else to report.

### Updates from Implementers

https://github.com/tc39/ecma402/wiki/Proposal-and-PR-Progress-Tracking

DLM: We definitely need to do a better job tracking this prior to the meeting. The only thing that may be noteworthy is that we’re doing an update to CLDR 78 in Firefox nightly. 

YSZ: No particular update yet here.

KDN: Boa just merged DateTimeFormatter. It's a first pass and there's still work and it might be pulled out, but it's a good first step. Exciting!

ZB: Congratulations! I was looking at the patch and hope more could be rolled into ICU4X, but it's less than 1000 lines of code which is impressive.

KDN: Yes we will be working on that. There's still more to go.

### Updates from the W3C i18n Group

EAO: Nothing urgent comes to mind. The only thing that comes to mind is that I’ve asked them to weigh in on the import type text proposal, because of the internationalization concerns around handling non-UTF8 content. That discussion is ongoing, as Addison was not available in person on today’s call. The conversation was essentially the issue SFC raised in the repo.

SFC: Probably worth including a link in this month's minutes so people on TG2 can weigh in if they like.

## Proposals and Discussion Topics

https://github.com/tc39/ecma402/projects/2

### iso8601 as DateTimeFormat calendar #1036

https://github.com/tc39/ecma402/issues/1036

SFC: We discussed this one last month. EAO suggested that when the iso861 calendar was used.

SFC: I think having an iso8601 designed for human consumption is a good goal, but we need data from CLDR. Was discussed in CLDR Design WR, discovered that it was too difficult to get robust at this moment. 

EAO: My current position is that the behaviour we’re getting right now is the behaviour I’d like to keep, in that I think the data that CLDR is currently providing is the sort of data we want. Specifically, this is Y-M-D ordering, - for separator for date parts, : for time parts. Current data is what we want (CLDR/ICU), I don’t see what more than this field order and these separators is what we would want or need to encode in our spec for this, if we want to encode anything.

HJS: What do you mean they didn’t ship this? What EAO is talking about is present in Safari, Firefox, and Chrome right now.

SFC: What CLDR 48 didn’t ship is implementing the iso8601 calendar with locale-dependent separators, especially for non-short formats

```javascript
new Intl.DateTimeFormat("ja-u-ca-iso8601", { dateStyle: "long" }).format()
// '2025 12月 16'
```

HJS: Now I understand. As I said before, I think shipping locale-dependent separators would be a bug that should not be done. The whole point that makes this make sense is that when using the short date format you get - separation, when using the short time format you get : for separating h:m:s. Breaking that would be bad. It’s not ideal, but also not an issue that would justify unshipping this, but if you had a combination of property bag values that are not well-suited for the ISO calendar (ISO calendar, long date style, etc), then the result in Japanese your example is out of the ordinary when it says “12” for the month and then a Japanese calendar, for a lot it says year space month as a word, I think it’s more important that if the style says “short” then it gives desirable results. That’s more important than “if the style says “long” it gives unattested results”. We shouldn’t be too focused on whether the long form is weird, and be more focused on the short form as shipped right now in Firefox and Safari being exactly what one would expect, and in Chrome being almost there, the difference being that if the locale’s default hour cycle is not h23, in FF and Safari saying u-ca-iso8601, it makes the hour cycle h23, it doesn’t in Chrome apparently, but the behaviour you get in the short form in Firefox and Safari are exactly what you want, and unshipping would break things that now work very nicely. 

SFC: I think that clarifies what our objectives are, which was unclear last month because we didn’t think of long vs short, but the main concern coming from CLDR is that the long forms are kind of garbage-ish. It sounds like we care more about the short forms having a certain behaviour. One option for the long forms is that for this calendar all the forms are numeric, there’s no such thing as a spelled-out form. We could bring that back to CLDR. If we come to them with a specific ask it is more likely that that change could land. They seem to have their own objective and it would be good if we could align on what those are – if we could get a clearer set of goals and desires and objectives from here, I could bring it back to the CLDR working group.

EAO: So one dimension of this that I think we ought to resolve is whether we’re looking to communicate verbally or via issue tracker text or otherwise to the CLDR TC what our desires are here, or whether we’re considering adding explicit 402 spec text to define the behaviour with respect to ISO8601 calendar when it’s useful for date time formatting. It’s not clear which one of these we’re talking about this moment.

SFC: I don’t think those two things are decoupled. I don’t want to write any spec text that’s not implementable using CLDR, so getting CLDR aligned is a prerequisite. We can discuss whether we want to write the spec text later.

EAO: One way of handling this communication is for us to propose spec text that does make a requirement for a certain sort of behaviour. Communicating to the CLDR TC that “this is what we’re thinking of encoding”, or just talking non-spec-text-wise communicating with the CLDR TC, both are valid ways of proceeding. Spec text, from our perspective, is a much harder task, but that also sends a stronger message to the CLDR TC. It ensures the current behaviour is retained rather than discarded, which might happen in the future. 

SFC: I hope having spec text is not a prereq for that communication.

EAO: Definitely agreed.

SFC: Do we want to take a position on the behaviour of long formats for the date? Do we want to take a position on whether the hc should default to hc23 for all locales, as is the case in firefox but not chrome? Finally, do we want to take these and encode them into spec text stableformatting-style, or just have a liaison give a report?

HJS: For hour cycle, we should take what Firefox and Safari do, which is that u-ca-iso8601 sets the hour cycle to h23 (but can still be overridden by u-hc). For the purpose of making the calendar do international friendly datetime formatting in short format, it already happens in date format, and engines do this for time format (⅔ browsers).

EAO: I don’t think we should really be expressing any strong opinions on the long format. That is very much a CLDR decision, so long as the field order is maintained. But the third question got me thinking about something new: Should ECMA be a Unicode Consortium member, so that we could have explicit representation on the CLDR TC, since we are so heavily dependent on it as ECMA-402. I’m not sure that we have explicit representation as TC39-TG2 on the CLDR TC, even though we’re so often faced with the issue that they consider it sometimes okay to break stuff in updates in a way that we consider breaking the web. Has this been discussed or considered at some point? 

SFC: Webcompat concerns are shared by many members of the CLDR TC, including Google, so there isn’t a need for ECMA to be a member of Unicode in that sense. I already give periodic updates to the Unicode TCs on the work of 402, so I’m serving that role as liaison already. I’m not sure what value ECMA itself being a member of Unicode would bring. A liaison relationship seems more sound to me.

HJS: I don’t see ECMA as a liaison member of Unicode, though other standards organizations are. Do you know the history of this?

SFC: I think no one ever asked. I18n is responsive to the concerns of ECMA, since the problems are pretty much shared between what Chrome needs and what ECMA needs. Google has been serving that role, there hasn’t been a need to have a separate liaison.

EAO: The thing that a liaison membership of Unicode does not get you is voting rights, which means that in a situation like this we can only ask – “please don’t remove this functionality that we would like to keep” – and if we have an interest in maintaining this functionality to this extent, it feels like a situation where having an actual say and not just a voice in the CLDR TC would be beneficial. 

SFC: I see your point. Everyone in both of these groups already wears seven hats, I don’t need to wear an eighth one, I don’t see what the actual concrete benefit would be. To return to the discussion of the ISO8601 calendar, I hear that there are two things that I could bring back. Having this well-defined in ECMA is beneficial for google and chrome, because google and chrome like to have well-defined specifications for things, so those objectives are aligned.

Two things we need: format must be year dash month dash day, and hour cycle should be 23. Those are things we can ask CLDR to enforce, and something we could have spec text to enforce – but that’s an internal decision. The current state of CLDR is that this is the format they use, so we can ask them “please don’t change this, and if you do change anything please make the hour cycle behave the way we want it to behave.” I think that’s something they’d be amenable to.

EAO: And also : as the numeric time separator. 

HJS: between hours and minutes and minutes and seconds, but separator between seconds and smaller fractions should be a . 

SFC: Current Chrome behavior:

```
navigator.userAgent
// 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36'

new Intl.DateTimeFormat("en-u-ca-iso8601", { year: "numeric", month: "numeric", day: "numeric", hour: "numeric", minute: "numeric", second: "numeric", fractionalSecondDigits: 3 }).format()
// '2026-01-08, 10:51:19.973 AM'

new Intl.DateTimeFormat("de-u-ca-iso8601", { year: "numeric", month: "numeric", day: "numeric", hour: "numeric", minute: "numeric", second: "numeric", fractionalSecondDigits: 3 }).format()
// '2026-01-08, 10:51:24,061'
```

HJS: It seems Firefox does the localized decimal separator too, hmm. Safari does as well.

EAO: Honestly, I don’t care about the decimal separator. We’re dealing with something meant for human consumption, not machine consumption, and that will be in some localized context indicating which decimal separator is used. Using . or , is kind of okay, because that’s meant to be read by a human, rather than parsed.

SFC: Another direction we could maybe go could be to say that the time format inherits from the default generic calendar, but the date format is always numeric year-month-day. I worry that the : time separator with localized decimal separator could be illegible

HJS: : as separator is ISO-ish. Currently if you’re not using the localized date separator you expect the : on the time side as well. Given that it’s already the current behaviour for browsers – use : even if locale separates with . – we should keep the : there.

SFC: Nearly everything uses :, except some use . – oh, there’s one that uses dashes. Finnish uses .

HJS: Yes, and I was agreeing with EAO that we should use : in this case.

SFC: We don’t have to answer the decimal separator question right away, we can just say we want to use the root separators, which is what CLDR already does, and we just say that we like this and please keep it that way. We can keep the issue open to see if we want to actually incorporate this into 402. So that's one conclusion.

SFC: Would anyone like to opine on whether we want this to be in ECMA-402 spec text?

EAO: Getting alignment from CLDR is a good first step. I'd prefer to not write the spec text unless we find a reason to write the spec text.

SFC: How do you feel about the parsing use case?

EAO: For that we need to advance StableFormatting.

SFC: Do you see this as being part of a way to get to StableFormatting?

EAO: No, because even though StableFormatting would also be using iso8601 timestamps in its expression of datetimes, for that we’d like to explicitly define that at the level of using dot rather than comma.  I believe for date time formatting both a locale with an iso8601 calendar and also stable formatting would end up with a similar representation based on iso8601 standard, but the way they get to that is going to be different. 

SFC: Sounds like a good conclusion! Anyone else want to +1?

HJS: +1

EAO: +1

YSZ: +1

#### Conclusion

TG2 will recommend to CLDR to keep - and : as the date and time separators in all locales when using u-ca-iso8601, and to default to the h23 hour cycle unless another hour cycle is explicitly requested.

### Normative: Add 1 new numbering system "tols" for Unicode 17 #1035

https://github.com/tc39/ecma402/pull/1035

SFC: As usual we wait until ICU 78 is available. It was released in October.

YSK: Do you know which ICU version supports this?

SFC: Yes, it's ICU 78

YSK: I think it’s fine. 

SFC: Anyone else want to give this a +1 for bringing to TG1?

HJS: Do we need TG1 approval?

SFC: It's a normative pull request

HJS: +1, then

BAN: I approve of it

SFC: I support it too

#### Conclusion

TG2 approval. Bring to the next TG1.

### Intl Energy Units: Unit Choices

https://github.com/tc39/ecma402/issues/739

SFC: The proposal currently has the three units – watts, kilowatts, and kilowatt-hours. There’s other units we could include – watt-hour, megawatts – and there’s a good writeup on the proposal, which is not yet migrated into the tc39 namespace but should be. The author of the proposal says that the three units we are adding cover the majority of their use cases, and list some others for future considerations. When we brought this to TG1 before, we got feedback from WH and a couple of other people that if we’re including watts we should include joules. The conclusion from TG1 was supporting the use cases of electric vehicles and home energy uses could justify the proposal even if we don’t have joules. But also, maybe we should consider adding joules? That was not the consensus of TG1, though – they decided to advance the proposal to stage 1 even without joules. In my opinion watt-hour could be included, but the proposal author notes that it’s not included in CLDR for some reason, but perhaps we could include it as part of the proposal? That’s one question I had, whether we should support watt-hour. The other question is megawatt and gigawatt, milliwatt? If we’re pursuing energy units, should we also include those? I want to be clear that it’s the author who proposed these, and I cannot vouch for them personally – this isn’t my field ,I don’t work in industries that use these terms on a day-to-day basis. So I wanted to see what we all thought about whether these three pass a smell test, and what other evidence do we want to see? Are we happy with the evidence, or do we want to see some other evidence on the usage patterns? 

DLM: I’m also not an expert in this field, but offhand I think the author readme did a good job of justifying the choices they made, I remember WH’s concern about joules – I guess we’re in an awkward situation where we don’t have evidence to support these three choices, so it’s awkward to confront WH with his evidence for joules?

EAO: Who is the actual champion of this?

SFC: I got Kaleb from two meetings ago registered as an invited expert, I will be mentoring him (so we’re co-champions).

EAO: Regarding the units, expanding it to include joules would require demonstrating that it shows up in content on the web. Given that the set of units we support is already eclectic, I think it’s okay to support these units and also not support joules. I agree that watt-hours are a bit weak for us to include, particularly if there’s not CLDR data on this. I would be fine leaving watt-hours out, but I would also be fine keeping them in. 

ZB: If we were looking for a rationale for joule, I don’t think we have to make a case that base unit has to be represented in i18n, don’t think we’ll do it for every dimension, on the other hand something that I would like us to consider is calorie. It’s a common use-case for the web. I’m surprised that the proposal puts it for later evaluation. I would argue that a common web use I’d expect calorie to be at least as common as the units proposed right now. 

HJS: Framing this as “energy” is less useful than “consumer-facing electricity”. Calories opens up food-related topics, or health-related topics, and in both cases joule as base unit is – as a matter of principle, but it also hasn’t made it to the forefront of these use cases. I think it makes sense to evaluate this from the perspective of “consumer-facing electricity”, and treat other stuff as followups for domain-specific proposals.

ZB: That makes sense, HJS. IF we are concerned about that, I’m also wondering if we should evaluate whether this is dangerous to open up. The list of electricity-related units is very large, and I don’t feel like there is a clear threshold for those three or four or five are commonly used and the other one hundred are not. It’s more of a gradient. If we include the first three, it’s going to be a little arbitrary. In SI there are at least 10 dimensions,and they have at least five units – and some of them 50. I’m worried that we’re going to be on a slippery slope. There’s going to be a long chain of trying to find google queries for a given unit and saying one has five million but another has four and a half million. 

SFC: I found an EV scorecard site that gives watt-hour per mile. Another displays it as miles per kilowatt-hour. Might be US vs EU issue. Maybe it would be good to gate this – the units that we currently use are ones currently used in [connection dropped]. That might be a way to get these units in a more principled way, to ask CLDR to please add vehicle-unit mileage as a unit preference, and then CLDR can in the next survey tool cycle collect the units for that or do the research independently, and then their units could feed back into our proposal. So that could be a principled approach.

SFC: It seems risky to say we’re going to support all the energy units, because there are a lot of energy units, and that’s why I’m okay with this proposal being focused on the use cases listed out of electric vehicles – huh, it doesn’t say home electric usage. Ah, it says “many applications in building and power industries.” I think it’s useful to say that’s what we’re trying to do, so we don’t have to say we’re going to try to support all energy units, we just want to support these applications. It could be the case that the units proposed by the author are exactly the ones we want. Does that address ZB’s comment?

ZB: Yes, it does. If we want to claim that this is exclusively for vehicles and energy use at residences/commercial buildings, then that passes my sniff test, and I assume that the champion of the proposal can validate this selection. What I care about here is that we should look for situations where the selected units are disproportionately valuable. I would expect there to be a steep drop between the first three, the high-value bucket, and everything else, the low-value bucket. If we can’t find that, that’s potentially a problem. I think, though, if we narrow it down to the use case then that is fine. 

SFC: That’s an actionable next step: take these use cases and then make sure that CLDR has unit preferences for them, and then we feed from these unit preferences to see what ones we should support. I was thinking about trying for Stage 2 for the upcoming meeting, but I think we should do this CLDR process first – it might take a couple of months, but we’ll still be on good track with this proposal. 

### Unit Format Proposal

EAO: Quick different question: I noticed, ZB, that there is an old proposal that you’re a champion on about unit formatting, which I think got subsumed by intl numberfomatv3. 

ZB: I’ll have to take a look at this, I haven’t seen it in a while. I’ll respond after the break. 

(break)

SFC: Any findings?

ZB: Yes, I found that we decided to pursue Unified NumberFormat which added units to Intl.NumberFormat, following the precedent of currencies.

SFC: Should we formally mark Unit Format as withdrawn?

ZB: Yes please

### Intl Era Month Code #99

https://github.com/tc39/proposal-intl-era-monthcode/issues/99

BAN: This is the ultimate resolution to a number of issues relating to the Hijri calendars. This one does a couple specific things:

1. Previously the spec said that the calendar list must include those in the table. But now it says that it must exactly consist of that list. So it is now a closed list, as discussed in the previous TG2 meeting.
2. When the islamic-rgsa is specified, after discussion, we decided to ignore that calendar extension.

SFC: I think this PR does what we agreed and we should bring it to TG1 for approval.

HJS: I will double check the pull request but it sounds like I will.

EAO: +1 to the pull request

#### Conclusion

TG2 approves of the pull request, pending HJS's review.

### Are "islamic" and "islamic-rgsa" still supported by Intl.DisplayNames? #91

https://github.com/tc39/proposal-intl-era-monthcode/issues/91

HJS: In Gecko we're going to remove the "islamic-rgsa" display name. It's arguable that we should keep the display name for "islamic": it's more general so not "wrong". So I don't want to say that the display names mapping needs to be the same as the datetimeformat mapping.

SFC: I think this is something we can fix, if necessary, in 402. Not blocking this proposal.

### Be explicit about the Gregorian to Meiji switchover month and day in the Japanese calendar #86

https://github.com/tc39/proposal-intl-era-monthcode/issues/86

HJS: I'd like for everyone (this group, ICU4X, ICU4J, ICU4C, CLDR) to all agree on a single approach. I have a preference to start in 6 Meiji. Currently ICU is making up dates before 6 Meiji. For Meiji years before 6 Meiji… historically they were lunisolar monthdays. Interpreting them as Gregorian monthdays has been a source of mistakes. If we generate Meiji monthdays before 6 Meiji that are Gregorian, we're adding to the conclusion.

SFC: I agree on every point, but what happens if you construct a date with era meiji and year 1-5?

HJS: Same as if you created a Reiwa date in the future. We should resolve it and return it in Gregorian.

SFC: If someone asks for (meiji, year 1, month 1, day 1) then what do we return? Do we return January 1 or do we return the first day of the lunisolar year?

HJS: This calendar has no lunisolar data.

PFC: That's right

SFC: I'm fine making it resolve to January 1 but then returning it as a Gregorian date.

Proposed resolution: For dates up to and including 1872-12-31, the calendar "japanese" uses Gregorian eras. For dates of 1873-01-01 and later, the calendar "japanese" uses the solar Japanese eras defined by the government of Japan. All of the solar Japanese eras are defined proleptically to align with Gregorian if used out of their designated range.

HJS: Yeah. I think I agree with the last sentence but am not sure if it's the best way to say it.

### Stage 2.7 review feedback: Provide guidance on calculating a reference year for MonthDay when not provided. #60

https://github.com/tc39/proposal-intl-era-monthcode/issues/60

BAN: (introduces issue)

SFC: My main concern is that I want us to be forward-compatible when, for example, we extend the range of years when we handle reference years. For example, if we extend the range to cover a new leap year, I don't want things to break. Option D is bad because it could make MonthDays created from older engines return something completely bogus with newer engines. With Option B, the worst that happens is that old engines will have a MonthDay in a non-leap year.

HJS: It seems like Option B is better than hard-coding bogus years, and also better than letting engines do whatever. We should avoid implementation divergence.

PFC: I was originally in favor of just throwing when creating these instances, since it leaves us room in the future when we get more accurate data. And also throwing when converting PlainDate to PlainMonthDay for these dates. But I'm coming around to option B, since I mainly care about serialization. I didn't get this before but option B keeps serialization web-compatible, because it means you can't get one of these MonthDay instances to serialize. So I think this is fine.

BAN: It does raise the question about where to constrain to.

SFC: I'll opine that we should always constrain leap to non-leap; since we must do it already in certain months, let's do it in all the cases.

SFC: What do we do, constrain or reject, in toPlainMonthDay? I think it should probably constrain by default because that's what we do elsewhere.

PFC: There's an issue open in Temporal v2 about adding an option to those methods. It's not a concern now.

BAN: Do we need this for Stage 3?

SFC: I'd like a clean Stage 3

PFC: Are you saying we need to bring this back to TG2 again?

SFC: I don't think so, as long as the PR is written by the agenda deadline


