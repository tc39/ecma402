<!doctype html>
<head><meta charset="utf8">
<link rel="stylesheet" href="https://bterlson.github.io/ecmarkup/elements.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<style>
  emu-production.inline emu-mods {
    display: none;
  }

  .orange {
    color: #ff6600;
    margin: 0px;
  }

  h1.orange {
    font-size: 2em;
  }

  .list-of-names {
    list-style-type: none;
    margin-bottom: 10px;
    padding-left: 10px;
  }

</style>

<title>ECMAScript 2016 Internationalization API Specification</title>

</head><body><img src="http://www.ecma-international.org/ecma-262/6.0/Ecma_RVB-003.jpg">

<h1 class="orange">ECMAScript 2016 Internationalization API Specification</h1>
<h3 class="orange">Standard ECMA-402</h3>
<h3 class="orange">3<sup>rd</sup> Edition DRAFT</h3>


<div><h2>Table of Contents</h2><ol class="toc"><li><a href="#introduction"><span class="secnum"></span> Introduction</a></li><li><a href="#scope"><span class="secnum">1</span> Scope</a></li><li><a href="#conformance"><span class="secnum">2</span> Conformance</a></li><li><a href="#normative-references"><span class="secnum">3</span> Normative References</a></li><li><a href="#overview"><span class="secnum">4</span> Overview</a><ol class="toc"><li><a href="#sec-internationalization-localization-globalization"><span class="secnum">4.1</span> Internationalization, Localization, and Globalization</a></li><li><a href="#sec-api-overview"><span class="secnum">4.2</span> API Overview</a></li><li><a href="#sec-implementation-dependencies"><span class="secnum">4.3</span> Implementation Dependencies</a></li></ol></li></ol></div><emu-intro id="introduction">
  <h1><span class="secnum"></span>Introduction</h1>
  <p>
    This specification's source can be found at <a href="https://github.com/tc39/ecma402">https://github.com/tc39/ecma402</a>.
  </p>
  <p>
    The ECMAScript 2016 Internationalization API Specification (ECMA-402 3<sup>rd</sup> Edition) provides key language-sensitive functionality as a complement to the ECMAScript 2016 Language Specification (ECMA-262 7<sup>th</sup> Edition or successor). Its functionality has been selected from that of well-established internationalization APIs such as those of the Internationalization Components for Unicode (ICU) library, of the .NET framework, or of the Java platform.
  </p>
  <p>
    The 1<sup>st</sup> Edition API was developed by an ad-hoc group established by Ecma TC39 in September 2010 based on a proposal by Nebojša Ćirić and Jungshik Shin. The 2<sup>nd</sup> Edition was primarily updated to support subclassing capabilities introduced in ECMAScript 2015 Language Specification, but also delivered specification design and mechanical parity.
  </p>
  <p>
    Internationalization of software is never complete. We expect significant enhancements in future editions of this specification.
  </p>
  <ul class="list-of-names">
    <li>
      Editor, 3<sup>rd</sup> Edition
      <ul class="list-of-names">
        <li>
          Rick Waldron
        </li>
      </ul>
    </li>
    <li>
      Contributors
      <ul class="list-of-names">
        <li>Norbert Lindenberg</li>
        <li>Allen Wirfs-Brock</li>
        <li>Steven Atkin</li>
        <li>Steven R. Loomis</li>
        <li>Caridy Patiño</li>
        <li>Eric Ferraiuolo</li>
        <li>Rafael Xavier de Souza</li>
      </ul>
    </li>

    <li>
      Editor, 2<sup>nd</sup> Edition
      <ul class="list-of-names">
        <li>
          Rick Waldron
        </li>
      </ul>
    </li>
    <li>
      Contributors
      <ul class="list-of-names">
        <li>Norbert Lindenberg</li>
        <li>Allen Wirfs-Brock</li>
        <li>André Bargull</li>
        <li>Steven R. Loomis</li>
      </ul>
    </li>
    <li>
      Editor, 1<sup>st</sup> Edition
      <ul class="list-of-names">
        <li>
          Norbert Lindenberg
        </li>
      </ul>
    </li>
    <li>
      Contributors
      <ul class="list-of-names">
        <li>Eric Albright</li>
        <li>Nebojša Ćirić</li>
        <li>Peter Constable</li>
        <li>Mark Davis</li>
        <li>Richard Gillam</li>
        <li>Steven Loomis</li>
        <li>Mihai Nita</li>
        <li>Addison Phillips</li>
        <li>Roozbeh Pournader</li>
        <li>Jungshik Shin</li>
        <li>Shawn Steele</li>
        <li>Allen Wirfs-Brock</li>

      </ul>
    </li>
    <li>
      Feedback and Review from
      <ul class="list-of-names">
        <li>Erik Arvidsson</li>
        <li>John J. Barton</li>
        <li>Zbigniew Braniecki</li>
        <li>Marcos Cáceres</li>
        <li>Brendan Eich</li>
        <li>John Emmons</li>
        <li>Gordon P. Hemsley</li>
        <li>David Herman</li>
        <li>Luke Hoban</li>
        <li>Oliver Hunt</li>
        <li>Suresh Jayabalan</li>
        <li>Yehuda Katz</li>
        <li>Mark S. Miller</li>
        <li>Andrew Paprocki</li>
        <li>Adam Peller</li>
        <li>Axel Rauschmayer</li>
        <li>Andreas Rossberg</li>
        <li>Alex Russell</li>
        <li>Markus Scherer</li>
        <li>Dmitry Soshnikov</li>
        <li>Yusuke Suzuki</li>
        <li>John Tamplin</li>
        <li>Rick Waldron</li>
        <li>Anton Yatsenko</li>
        <li>Nicholas Zakas</li>
      </ul>
    </li>
  </ul>
</emu-intro>

<emu-clause id="scope">
  <h1><span class="secnum">1</span>Scope</h1>
  <p>
    This Standard defines the application programming interface for ECMAScript objects that support programs that need to adapt to the linguistic and cultural conventions used by different human languages and countries.
  </p>

</emu-clause>

<emu-clause id="conformance">
  <h1><span class="secnum">2</span>Conformance</h1>
  <p>
    A conforming implementation of the ECMAScript 2016 Internationalization API Specification must conform to the ECMAScript 2016 Language Specification (ECMA-262 6th Edition, or successor), and must provide and support all the objects, properties, functions, and program semantics described in this specification.
  </p>
  <p>
    A conforming implementation of the ECMAScript 2016 Internationalization API Specification is permitted to provide additional objects, properties, and functions beyond those described in this specification. In particular, a conforming implementation of the ECMAScript 2016 Internationalization API Specification is permitted to provide properties not described in this specification, and values for those properties, for objects that are described in this specification. A conforming implementation is not permitted to add optional arguments to the functions defined in this specification.
  </p>
  <p>
    A conforming implementation is permitted to accept additional values, and then have implementation-defined behaviour instead of throwing a RangeError, for the following properties of <var>options</var> arguments:
  </p>
  <p>
    </p><ul>
      <li>The <var>options</var> property localeMatcher in all constructors and supportedLocalesOf methods.</li>
      <li>The <var>options</var> properties usage and sensitivity in the Collator constructor.</li>
      <li>The <var>options</var> properties style and currencyDisplay in the NumberFormat constructor.</li>
      <li>The <var>options</var> properties minimumIntegerDigits, minimumFractionDigits, maximumFractionDigits, minimumSignificantDigits, and maximumSignificantDigits in the NumberFormat constructor, provided that the additional values are interpreted as integer values higher than the specified limits.</li>
      <li>The <var>options</var> properties listed in table 3 in the DateTimeFormat constructor.</li>
      <li>The <var>options</var> property formatMatcher in the DateTimeFormat constructor.</li>
    </ul>
  <p></p>
</emu-clause>

<emu-clause id="normative-references">
  <h1><span class="secnum">3</span>Normative References</h1>
  <p>
    The following referenced documents are required for the application of this document. For dated references, only the edition cited applies. For undated references, the latest edition of the referenced document (including any amendments) applies.
  </p>

  <ul>
    <li>
      <a href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">ECMAScript 2016 Language Specification (ECMA-262 7<sup>th</sup> Edition, or successor)</a>
    </li>
    <li>
      ISO/IEC 10646:2003: Information Technology – Universal Multiple-Octet Coded Character Set (UCS) plus Amendment 1:2005 and Amendment 2:2006, Amendment 3:2008, and Amendment 4:2008, plus additional amendments and corrigenda, or successor

      <ul>
        <li><a href="http://www.iso.org/iso/catalogue_detail.htm?csnumber=39921)">http://www.iso.org/iso/catalogue_detail.htm?csnumber=39921)</a></li>
        <li><a href="http://www.iso.org/iso/catalogue_detail.htm?csnumber=40755)">http://www.iso.org/iso/catalogue_detail.htm?csnumber=40755)</a></li>
        <li><a href="http://www.iso.org/iso/catalogue_detail.htm?csnumber=41419)">http://www.iso.org/iso/catalogue_detail.htm?csnumber=41419)</a></li>
        <li><a href="http://www.iso.org/iso/catalogue_detail.htm?csnumber=44871)">http://www.iso.org/iso/catalogue_detail.htm?csnumber=44871)</a></li>
        <li><a href="http://www.iso.org/iso/catalogue_detail.htm?csnumber=46311)">http://www.iso.org/iso/catalogue_detail.htm?csnumber=46311)</a></li>
      </ul>
    </li>
    <li>
      <a href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=46121">ISO 4217:2008, Codes for the representation of currencies and funds, or successor</a>
    </li>
    <li>
      <a href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=46121">ISO 4217:2008, Codes for the representation of currencies and funds, or successor</a>
    </li>
    <li>
      IETF BCP 47:
      <ul>
        <li>
          <a href="http://tools.ietf.org/html/rfc5646">RFC 5646, Tags for Identifying Languages, or successor</a>
        </li>
        <li>
          <a href="http://tools.ietf.org/html/rfc4647">RFC 4647, Matching of Language Tags, or successor</a>
        </li>
      </ul>
    </li>
    <li>
      <a href="http://tools.ietf.org/html/rfc6067">IETF RFC 6067, BCP 47 Extension U, or successor</a>
    </li>
    <li>
      <a href="http://www.iana.org/time-zones/">IANA Time Zone Database</a>
    </li>
    <li>
      <a href="http://www.unicode.org/versions/latest">The Unicode Standard, Version 5.1, or successor</a>

      TODO: Update to latest version.
    </li>
    <li>
      <a href="http://unicode.org/reports/tr35/">Unicode Technical Standard 35, Unicode Locale Data Markup Language, version 21.0.1 or successor</a>

      TODO: Update to latest version.
    </li>
  </ul>


  <emu-note><span class="note">Note</span>
    Throughout this document, the phrase “ES2016, x” (where x is a sequence of numbers separated by periods) may be used as shorthand for “ECMAScript 2016 Language Specification (ECMA-262 7<sup>th</sup> Edition, sub clause x)”.
  </emu-note>
</emu-clause>

<emu-clause id="overview">
  <h1><span class="secnum">4</span>Overview</h1>

  <p>
    This section contains a non-normative overview of the ECMAScript 2016 Internationalization API Specification.
  </p>

  <emu-clause id="sec-internationalization-localization-globalization">
    <h1><span class="secnum">4.1</span>Internationalization, Localization, and Globalization</h1>

    <p>
      Internationalization of software means designing it such that it supports or can be easily adapted to support the needs of users speaking different languages and having different cultural expectations, and enables worldwide communication between them. Localization then is the actual adaptation to a specific language and culture. Globalization of software is commonly understood to be the combination of internationalization and localization. Globalization starts at the lowest level by using a text representation that supports all languages in the world, and using standard identifiers to identify languages, countries, time zones, and other relevant parameters. It continues with using a user interface language and data presentation that the user understands, and finally often requires product-specific adaptations to the user’s language, culture, and environment.
    </p>
    <p>
      The ECMAScript 2016 Language Specification lays the foundation by using Unicode for text representation and by providing a few language-sensitive functions, but gives applications little control over the behaviour of these functions. The ECMAScript 2016 Internationalization API Specification builds on this by providing a set of customizable language-sensitive functionality. The API is useful even for applications that themselves are not internationalized, as even applications targeting only one language and one region need to properly support that one language and region. However, the API also enables applications that support multiple languages and regions, even concurrently, as may be needed in server environments.
    </p>
  </emu-clause>


  <emu-clause id="sec-api-overview">
    <h1><span class="secnum">4.2</span>API Overview</h1>

    <p>
      The ECMAScript 2016 Internationalization API Specification is designed to complement the ECMAScript 2016 Language Specification by providing key language-sensitive functionality. The API can be added to an implementation of the ECMAScript 2016 Language Specification (ECMA-262 7<sup>th</sup> Edition, or successor).
    </p>
    <p>
      The ECMAScript 2016 Internationalization API Specification provides several key pieces of language-sensitive functionality that are required in most applications: String comparison (collation), number formatting, date and time formatting, and case conversion. While the ECMAScript 2016 Language Specification provides functions for this basic functionality (on Array.prototype: toLocaleString; on String.prototype: localeCompare, toLocaleLowerCase, toLocaleUpperCase; on Number.prototype: toLocaleString; on Date.prototype: toLocaleString, toLocaleDateString, and toLocaleTimeString), it leaves the actual behaviour of these functions largely up to implementations to define. The ECMAScript 2016 Internationalization API Specification provides additional functionality, control over the language and over details of the behaviour to be used, and a more complete specification of required functionality.
    </p>

    <p>
      Applications can use the API in two ways:

      </p><ol>
        <li>
          Directly, by using the constructors Intl.Collator, Intl.NumberFormat, or Intl.DateTimeFormat to construct an object, specifying a list of preferred languages and options to configure the behaviour of the resulting object. The object then provides a main function (compare or format), which can be called repeatedly. It also provides a resolvedOptions function, which the application can use to find out the exact configuration of the object.
        </li>
        <li>
          Indirectly, by using the functions of the ECMAScript 2016 Language Specification mentioned above. The collation and formatting functions are respecified in this specification to accept the same arguments as the Collator, NumberFormat, and DateTimeFormat constructors and produce the same results as their compare or format methods. The case conversion functions are respecified to accept a list of preferred languages.
        </li>
      </ol>
    <p></p>

    <p>
      The Intl object is used to package all functionality defined in the ECMAScript 2016 Internationalization API Specification to avoid name collisions.
    </p>
  </emu-clause>

  <emu-clause id="sec-implementation-dependencies">
    <h1><span class="secnum">4.3</span>Implementation Dependencies</h1>

    <p>
      Due to the nature of internationalization, the API specification has to leave several details implementation dependent:

      </p><ul>
        <li>
          <em>The set of locales that an implementation supports with adequate localizations:</em> Linguists estimate the number of human languages to around 6000, and the more widely spoken ones have variations based on regions or other parameters. Even large locale data collections, such as the Common Locale Data Repository, cover only a subset of this large set. Implementations targeting resource-constrained devices may have to further reduce the subset.
        </li>
        <li>
          <em>The exact form of localizations such as format patterns:</em> In many cases locale-dependent conventions are not standardized, so different forms may exist side by side, or they vary over time. Different internationalization libraries may have implemented different forms, without any of them being actually wrong. In order to allow this API to be implemented on top of existing libraries, such variations have to be permitted.
        </li>
        <li>
          <em>Subsets of Unicode:</em> Some operations, such as collation, operate on strings that can include characters from the entire Unicode character set. However, both the Unicode standard and the ECMAScript standard allow implementations to limit their functionality to subsets of the Unicode character set. In addition, locale conventions typically don’t specify the desired behaviour for the entire Unicode character set, but only for those characters that are relevant for the locale. While the Unicode Collation Algorithm combines a default collation order for the entire Unicode character set with the ability to tailor for local conventions, subsets and tailorings still result in differences in behaviour.
        </li>
      </ul>
    <p></p>
  </emu-clause>
</emu-clause>

</body>