<!doctype html>
<html lang="en-GB-oxendict"><head><meta charset="utf-8"><meta property="og:image" content="https://tc39.es/ecmarkup/ecma-logo.png"><meta property="og:title" content="ECMAScript® 2026 Internationalization API Specification"><meta property="og:description" content="Introduction
  This specification's source can be found at https://github.com/tc39/ecma402.
  The ECMAScript 2026 Internationalization API Specification (ECMA-402 13th Edition), provides key language sensitive functionality as a complement to ECMA-262. Its functionality has been selected from tha">
<link rel="icon" href="img/favicon.ico">
<link rel="stylesheet" href="css/ecmarkup.css"><link rel="stylesheet" href="css/print.css" media="print"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<script>
  if (location.hostname === 'tc39.es' && location.protocol !== 'https:') {
    location.protocol = 'https:';
  }
</script>
<style>
#metadata-block {
  margin: 4em 0;
  padding: 10px;
  border: 1px solid #ee8421;
}
#metadata-block h1 {
  font-size: 1.5em;
  margin-top: 0;
}
#metadata-block > ul {
  list-style-type: none;
  margin: 0; padding: 0;
}
#ecma-logo {
  width: 500px;
}
</style>
<title>ECMAScript® 2026 Internationalization API Specification</title><script src="js/ecmarkup.js?cache=9eCYlbW0" defer=""></script><style>
    @media print {
      @page :left {
        @bottom-right {
          content: '© Ecma International 2025';
        }
      }
      @page :right {
        @bottom-left {
          content: '© Ecma International 2025';
        }
      }
      @page :first {
        @bottom-left {
          content: '';
        }
        @bottom-right {
          content: '';
        }
      }
      @page :blank {
        @bottom-left {
          content: '';
        }
        @bottom-right {
          content: '';
        }
      }
    }
    </style><style>
      @import url("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/styles/base16/solarized-light.min.css");
      @import url("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/styles/a11y-dark.min.css") (prefers-color-scheme: dark);
    </style></head><body><div id="shortcuts-help">
<ul>
  <li><span>Toggle shortcuts help</span><code>?</code></li>
  <li><span>Toggle "can call user code" annotations</span><code>u</code></li>

  <li><span>Jump to search box</span><code>/</code></li>
  <li><span>Toggle pinning of the current clause</span><code>p</code></li>
  <li><span>Jump to <i>n</i>th pin</span><code>1-9</code></li>
</ul></div><div id="menu-toggle"><svg xmlns="http://www.w3.org/2000/svg" style="width:100%; height:100%; stroke:currentColor" viewBox="0 0 120 120" width="54" height="54">
      <title>Menu</title>
      <path stroke-width="10" stroke-linecap="round" d="M30,60 h60  M30,30 m0,5 h60  M30,90 m0,-5 h60"></path>
    </svg></div><div id="menu-spacer" class="menu-spacer"></div><div id="menu"><div id="menu-search"><input type="text" id="menu-search-box" placeholder="Search..."><div id="menu-search-results" class="inactive"></div></div><div id="menu-pins"><div class="menu-pane-header">Pins<button class="unpin-all">clear</button></div><ul id="menu-pins-list"></ul></div><div class="menu-pane-header">Table of Contents</div><div id="menu-toc"><ol class="toc"><li><span class="item-toggle-none"></span><a href="#introduction" title="Introduction">Introduction</a></li><li><span class="item-toggle-none"></span><a href="#scope" title="Scope"><span class="secnum">1</span> Scope</a></li><li><span class="item-toggle-none"></span><a href="#conformance" title="Conformance"><span class="secnum">2</span> Conformance</a></li><li><span class="item-toggle-none"></span><a href="#normative-references" title="Normative References"><span class="secnum">3</span> Normative References</a></li><li><span class="item-toggle">+</span><a href="#overview" title="Overview"><span class="secnum">4</span> Overview</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-internationalization-localization-globalization" title="Internationalization, Localization, and Globalization"><span class="secnum">4.1</span> Internationalization, Localization, and Globalization</a></li><li><span class="item-toggle-none"></span><a href="#sec-api-overview" title="API Overview"><span class="secnum">4.2</span> API Overview</a></li><li><span class="item-toggle-none"></span><a href="#sec-api-conventions" title="API Conventions"><span class="secnum">4.3</span> API Conventions</a></li><li><span class="item-toggle">+</span><a href="#sec-implementation-dependencies" title="Implementation Dependencies"><span class="secnum">4.4</span> Implementation Dependencies</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-compatibility" title="Compatibility across implementations"><span class="secnum">4.4.1</span> Compatibility across implementations</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#conventions" title="Notational Conventions"><span class="secnum">5</span> Notational Conventions</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-402-well-known-intrinsic-objects" title="Well-Known Intrinsic Objects"><span class="secnum">5.1</span> Well-Known Intrinsic Objects</a></li></ol></li><li><span class="item-toggle">+</span><a href="#locales-currencies-tz" title="Identification of Locales, Currencies, Time Zones, Measurement Units, Numbering Systems, Collations, and Calendars"><span class="secnum">6</span> Identification of Locales, Currencies, Time Zones, Measurement Units, Numbering Systems, Collations, and Calendars</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-case-sensitivity-and-case-mapping" title="Case Sensitivity and Case Mapping"><span class="secnum">6.1</span> Case Sensitivity and Case Mapping</a></li><li><span class="item-toggle">+</span><a href="#sec-language-tags" title="Language Tags"><span class="secnum">6.2</span> Language Tags</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-isstructurallyvalidlanguagetag" title="IsStructurallyValidLanguageTag ( locale )"><span class="secnum">6.2.1</span> IsStructurallyValidLanguageTag ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-canonicalizeunicodelocaleid" title="CanonicalizeUnicodeLocaleId ( locale )"><span class="secnum">6.2.2</span> CanonicalizeUnicodeLocaleId ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-defaultlocale" title="DefaultLocale ( )"><span class="secnum">6.2.3</span> DefaultLocale ( )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-currency-codes" title="Currency Codes"><span class="secnum">6.3</span> Currency Codes</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-iswellformedcurrencycode" title="IsWellFormedCurrencyCode ( currency )"><span class="secnum">6.3.1</span> IsWellFormedCurrencyCode ( <var>currency</var> )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-availablecanonicalcurrencies" title="AvailableCanonicalCurrencies ( )"><span class="secnum">6.4</span> AvailableCanonicalCurrencies ( )</a></li><li><span class="item-toggle">+</span><a href="#sec-use-of-iana-time-zone-database" title="Use of the IANA Time Zone Database"><span class="secnum">6.5</span> Use of the IANA Time Zone Database</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sup-availablenamedtimezoneidentifiers" title="AvailableNamedTimeZoneIdentifiers ( )"><span class="secnum">6.5.1</span> AvailableNamedTimeZoneIdentifiers ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getavailablenamedtimezoneidentifier" title="GetAvailableNamedTimeZoneIdentifier ( timeZoneIdentifier )"><span class="secnum">6.5.2</span> GetAvailableNamedTimeZoneIdentifier ( <var>timeZoneIdentifier</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-availableprimarytimezoneidentifiers" title="AvailablePrimaryTimeZoneIdentifiers ( )"><span class="secnum">6.5.3</span> AvailablePrimaryTimeZoneIdentifiers ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-string-split-to-list" title="StringSplitToList ( S, separator )"><span class="secnum">6.5.4</span> StringSplitToList ( <var>S</var>, <var>separator</var> )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-measurement-unit-identifiers" title="Measurement Unit Identifiers"><span class="secnum">6.6</span> Measurement Unit Identifiers</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-iswellformedunitidentifier" title="IsWellFormedUnitIdentifier ( unitIdentifier )"><span class="secnum">6.6.1</span> IsWellFormedUnitIdentifier ( <var>unitIdentifier</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-issanctionedsingleunitidentifier" title="IsSanctionedSingleUnitIdentifier ( unitIdentifier )"><span class="secnum">6.6.2</span> IsSanctionedSingleUnitIdentifier ( <var>unitIdentifier</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-availablecanonicalunits" title="AvailableCanonicalUnits ( )"><span class="secnum">6.6.3</span> AvailableCanonicalUnits ( )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-numberingsystem-identifiers" title="Numbering System Identifiers"><span class="secnum">6.7</span> Numbering System Identifiers</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-availablecanonicalnumberingsystems" title="AvailableCanonicalNumberingSystems ( )"><span class="secnum">6.7.1</span> AvailableCanonicalNumberingSystems ( )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-collation-types" title="Collation Types"><span class="secnum">6.8</span> Collation Types</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-availablecanonicalcollations" title="AvailableCanonicalCollations ( )"><span class="secnum">6.8.1</span> AvailableCanonicalCollations ( )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-calendar-types" title="Calendar Types"><span class="secnum">6.9</span> Calendar Types</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-availablecalendars" title="AvailableCalendars ( )"><span class="secnum">6.9.1</span> AvailableCalendars ( )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-pattern-string-types" title="Pattern String Types"><span class="secnum">6.10</span> Pattern String Types</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#requirements" title="Requirements for Standard Built-in ECMAScript Objects"><span class="secnum">7</span> Requirements for Standard Built-in ECMAScript Objects</a></li><li><span class="item-toggle">+</span><a href="#intl-object" title="The Intl Object"><span class="secnum">8</span> The Intl Object</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-value-properties-of-the-intl-object" title="Value Properties of the Intl Object"><span class="secnum">8.1</span> Value Properties of the Intl Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl-%symbol.tostringtag%" title="Intl [ %Symbol.toStringTag% ]"><span class="secnum">8.1.1</span> Intl [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-constructor-properties-of-the-intl-object" title="Constructor Properties of the Intl Object"><span class="secnum">8.2</span> Constructor Properties of the Intl Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.collator-intro" title="Intl.Collator ( . . . )"><span class="secnum">8.2.1</span> Intl.Collator ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat-intro" title="Intl.DateTimeFormat ( . . . )"><span class="secnum">8.2.2</span> Intl.DateTimeFormat ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.displaynames-intro" title="Intl.DisplayNames ( . . . )"><span class="secnum">8.2.3</span> Intl.DisplayNames ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.durationformat-intro" title="Intl.DurationFormat ( . . . )"><span class="secnum">8.2.4</span> Intl.DurationFormat ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.listformat-intro" title="Intl.ListFormat ( . . . )"><span class="secnum">8.2.5</span> Intl.ListFormat ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.locale-intro" title="Intl.Locale ( . . . )"><span class="secnum">8.2.6</span> Intl.Locale ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat-intro" title="Intl.NumberFormat ( . . . )"><span class="secnum">8.2.7</span> Intl.NumberFormat ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules-intro" title="Intl.PluralRules ( . . . )"><span class="secnum">8.2.8</span> Intl.PluralRules ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.relativetimeformat-intro" title="Intl.RelativeTimeFormat ( . . . )"><span class="secnum">8.2.9</span> Intl.RelativeTimeFormat ( . . . )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter-intro" title="Intl.Segmenter ( . . . )"><span class="secnum">8.2.10</span> Intl.Segmenter ( . . . )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-function-properties-of-the-intl-object" title="Function Properties of the Intl Object"><span class="secnum">8.3</span> Function Properties of the Intl Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.getcanonicallocales" title="Intl.getCanonicalLocales ( locales )"><span class="secnum">8.3.1</span> Intl.getCanonicalLocales ( <var>locales</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.supportedvaluesof" title="Intl.supportedValuesOf ( key )"><span class="secnum">8.3.2</span> Intl.supportedValuesOf ( <var>key</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#locale-and-parameter-negotiation" title="Locale and Parameter Negotiation"><span class="secnum">9</span> Locale and Parameter Negotiation</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-internal-slots" title="Internal slots of Service Constructors"><span class="secnum">9.1</span> Internal slots of Service Constructors</a></li><li><span class="item-toggle">+</span><a href="#sec-abstract-operations" title="Abstract Operations"><span class="secnum">9.2</span> Abstract Operations</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-canonicalizelocalelist" title="CanonicalizeLocaleList ( locales )"><span class="secnum">9.2.1</span> CanonicalizeLocaleList ( <var>locales</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-canonicalizeuvalue" title="CanonicalizeUValue ( ukey, uvalue )"><span class="secnum">9.2.2</span> CanonicalizeUValue ( <var>ukey</var>, <var>uvalue</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-lookupmatchinglocalebyprefix" title="LookupMatchingLocaleByPrefix ( availableLocales, requestedLocales )"><span class="secnum">9.2.3</span> LookupMatchingLocaleByPrefix ( <var>availableLocales</var>, <var>requestedLocales</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-lookupmatchinglocalebybestfit" title="LookupMatchingLocaleByBestFit ( availableLocales, requestedLocales )"><span class="secnum">9.2.4</span> LookupMatchingLocaleByBestFit ( <var>availableLocales</var>, <var>requestedLocales</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-unicode-extension-components" title="UnicodeExtensionComponents ( extension )"><span class="secnum">9.2.5</span> UnicodeExtensionComponents ( <var>extension</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-insert-unicode-extension-and-canonicalize" title="InsertUnicodeExtensionAndCanonicalize ( locale, attributes, keywords )"><span class="secnum">9.2.6</span> InsertUnicodeExtensionAndCanonicalize ( <var>locale</var>, <var>attributes</var>, <var>keywords</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-resolvelocale" title="ResolveLocale ( availableLocales, requestedLocales, options, relevantExtensionKeys, localeData )"><span class="secnum">9.2.7</span> ResolveLocale ( <var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>, <var>relevantExtensionKeys</var>, <var>localeData</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-resolveoptions" title="ResolveOptions ( constructor, localeData, locales, options [ , specialBehaviours [ , modifyResolutionOptions ] ] )"><span class="secnum">9.2.8</span> ResolveOptions ( <var>constructor</var>, <var>localeData</var>, <var>locales</var>, <var>options</var> [ , <var>specialBehaviours</var> [ , <var>modifyResolutionOptions</var> ] ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-filterlocales" title="FilterLocales ( availableLocales, requestedLocales, options )"><span class="secnum">9.2.9</span> FilterLocales ( <var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getoptionsobject" title="GetOptionsObject ( options )"><span class="secnum">9.2.10</span> GetOptionsObject ( <var>options</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-coerceoptionstoobject" title="CoerceOptionsToObject ( options )"><span class="secnum">9.2.11</span> CoerceOptionsToObject ( <var>options</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getoption" title="GetOption ( options, property, type, values, default )"><span class="secnum">9.2.12</span> GetOption ( <var>options</var>, <var>property</var>, <var>type</var>, <var>values</var>, <var>default</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getbooleanorstringnumberformatoption" title="GetBooleanOrStringNumberFormatOption ( options, property, stringValues, fallback )"><span class="secnum">9.2.13</span> GetBooleanOrStringNumberFormatOption ( <var>options</var>, <var>property</var>, <var>stringValues</var>, <var>fallback</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-defaultnumberoption" title="DefaultNumberOption ( value, minimum, maximum, fallback )"><span class="secnum">9.2.14</span> DefaultNumberOption ( <var>value</var>, <var>minimum</var>, <var>maximum</var>, <var>fallback</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getnumberoption" title="GetNumberOption ( options, property, minimum, maximum, fallback )"><span class="secnum">9.2.15</span> GetNumberOption ( <var>options</var>, <var>property</var>, <var>minimum</var>, <var>maximum</var>, <var>fallback</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitionpattern" title="PartitionPattern ( pattern )"><span class="secnum">9.2.16</span> PartitionPattern ( <var>pattern</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#collator-objects" title="Collator Objects"><span class="secnum">10</span> Collator Objects</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-collator-constructor" title="The Intl.Collator Constructor"><span class="secnum">10.1</span> The Intl.Collator Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.collator" title="Intl.Collator ( [ locales [ , options ] ] )"><span class="secnum">10.1.1</span> Intl.Collator ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-the-intl-collator-constructor" title="Properties of the Intl.Collator Constructor"><span class="secnum">10.2</span> Properties of the Intl.Collator Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.collator.prototype" title="Intl.Collator.prototype"><span class="secnum">10.2.1</span> Intl.Collator.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.collator.supportedlocalesof" title="Intl.Collator.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">10.2.2</span> Intl.Collator.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl-collator-internal-slots" title="Internal slots"><span class="secnum">10.2.3</span> Internal slots</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-the-intl-collator-prototype-object" title="Properties of the Intl.Collator Prototype Object"><span class="secnum">10.3</span> Properties of the Intl.Collator Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.collator.prototype.constructor" title="Intl.Collator.prototype.constructor"><span class="secnum">10.3.1</span> Intl.Collator.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.collator.prototype.resolvedoptions" title="Intl.Collator.prototype.resolvedOptions ( )"><span class="secnum">10.3.2</span> Intl.Collator.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle">+</span><a href="#sec-intl.collator.prototype.compare" title="get Intl.Collator.prototype.compare"><span class="secnum">10.3.3</span> get Intl.Collator.prototype.compare</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-collator-compare-functions" title="Collator Compare Functions"><span class="secnum">10.3.3.1</span> Collator Compare Functions</a></li><li><span class="item-toggle-none"></span><a href="#sec-collator-comparestrings" title="CompareStrings ( collator, x, y )"><span class="secnum">10.3.3.2</span> CompareStrings ( <var>collator</var>, <var>x</var>, <var>y</var> )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-intl.collator.prototype-%symbol.tostringtag%" title="Intl.Collator.prototype [ %Symbol.toStringTag% ]"><span class="secnum">10.3.4</span> Intl.Collator.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-collator-instances" title="Properties of Intl.Collator Instances"><span class="secnum">10.4</span> Properties of Intl.Collator Instances</a></li></ol></li><li><span class="item-toggle">+</span><a href="#datetimeformat-objects" title="DateTimeFormat Objects"><span class="secnum">11</span> DateTimeFormat Objects</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-datetimeformat-constructor" title="The Intl.DateTimeFormat Constructor"><span class="secnum">11.1</span> The Intl.DateTimeFormat Constructor</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl.datetimeformat" title="Intl.DateTimeFormat ( [ locales [ , options ] ] )"><span class="secnum">11.1.1</span> Intl.DateTimeFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-chaindatetimeformat" title="ChainDateTimeFormat ( dateTimeFormat, newTarget, this )"><span class="secnum">11.1.1.1</span> ChainDateTimeFormat ( <var>dateTimeFormat</var>, <var>newTarget</var>, <var>this</var> )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-createdatetimeformat" title="CreateDateTimeFormat ( newTarget, locales, options, required, defaults )"><span class="secnum">11.1.2</span> CreateDateTimeFormat ( <var>newTarget</var>, <var>locales</var>, <var>options</var>, <var>required</var>, <var>defaults</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatoffsettimezoneidentifier" title="FormatOffsetTimeZoneIdentifier ( offsetMinutes )"><span class="secnum">11.1.3</span> FormatOffsetTimeZoneIdentifier ( <var>offsetMinutes</var> )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-datetimeformat-constructor" title="Properties of the Intl.DateTimeFormat Constructor"><span class="secnum">11.2</span> Properties of the Intl.DateTimeFormat Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.prototype" title="Intl.DateTimeFormat.prototype"><span class="secnum">11.2.1</span> Intl.DateTimeFormat.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.supportedlocalesof" title="Intl.DateTimeFormat.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">11.2.2</span> Intl.DateTimeFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle">+</span><a href="#sec-intl.datetimeformat-internal-slots" title="Internal slots"><span class="secnum">11.2.3</span> Internal slots</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-format-record" title="DateTime Format Records"><span class="secnum">11.2.3.1</span> DateTime Format Records</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-range-pattern-record" title="DateTime Range Pattern Records"><span class="secnum">11.2.3.2</span> DateTime Range Pattern Records</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-range-pattern-format-record" title="DateTime Range Pattern Format Records"><span class="secnum">11.2.3.3</span> DateTime Range Pattern Format Records</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-range-pattern-part-record" title="DateTime Range Pattern Part Records"><span class="secnum">11.2.3.4</span> DateTime Range Pattern Part Records</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-styles-record" title="DateTime Styles Records"><span class="secnum">11.2.3.5</span> DateTime Styles Records</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-style-record" title="DateTime Style Records"><span class="secnum">11.2.3.6</span> DateTime Style Records</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-connector-record" title="DateTime Connector Records"><span class="secnum">11.2.3.7</span> DateTime Connector Records</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-date-range-record" title="DateTime Date Range Records"><span class="secnum">11.2.3.8</span> DateTime Date Range Records</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-time-range-record" title="DateTime Time Range Records"><span class="secnum">11.2.3.9</span> DateTime Time Range Records</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-style-range-record" title="DateTime Style Range Records"><span class="secnum">11.2.3.10</span> DateTime Style Range Records</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-datetimeformat-prototype-object" title="Properties of the Intl.DateTimeFormat Prototype Object"><span class="secnum">11.3</span> Properties of the Intl.DateTimeFormat Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.prototype.constructor" title="Intl.DateTimeFormat.prototype.constructor"><span class="secnum">11.3.1</span> Intl.DateTimeFormat.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.prototype.resolvedoptions" title="Intl.DateTimeFormat.prototype.resolvedOptions ( )"><span class="secnum">11.3.2</span> Intl.DateTimeFormat.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.prototype.format" title="get Intl.DateTimeFormat.prototype.format"><span class="secnum">11.3.3</span> get Intl.DateTimeFormat.prototype.format</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.prototype.formatRange" title="Intl.DateTimeFormat.prototype.formatRange ( startDate, endDate )"><span class="secnum">11.3.4</span> Intl.DateTimeFormat.prototype.formatRange ( <var>startDate</var>, <var>endDate</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DateTimeFormat.prototype.formatRangeToParts" title="Intl.DateTimeFormat.prototype.formatRangeToParts ( startDate, endDate )"><span class="secnum">11.3.5</span> Intl.DateTimeFormat.prototype.formatRangeToParts ( <var>startDate</var>, <var>endDate</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DateTimeFormat.prototype.formatToParts" title="Intl.DateTimeFormat.prototype.formatToParts ( date )"><span class="secnum">11.3.6</span> Intl.DateTimeFormat.prototype.formatToParts ( <var>date</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.datetimeformat.prototype-%symbol.tostringtag%" title="Intl.DateTimeFormat.prototype [ %Symbol.toStringTag% ]"><span class="secnum">11.3.7</span> Intl.DateTimeFormat.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-datetimeformat-instances" title="Properties of Intl.DateTimeFormat Instances"><span class="secnum">11.4</span> Properties of Intl.DateTimeFormat Instances</a></li><li><span class="item-toggle">+</span><a href="#sec-datetimeformat-abstracts" title="Abstract Operations for DateTimeFormat Objects"><span class="secnum">11.5</span> Abstract Operations for DateTimeFormat Objects</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-date-time-style-format" title="DateTimeStyleFormat ( dateStyle, timeStyle, styles )"><span class="secnum">11.5.1</span> DateTimeStyleFormat ( <var>dateStyle</var>, <var>timeStyle</var>, <var>styles</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-basicformatmatcher" title="BasicFormatMatcher ( options, formats )"><span class="secnum">11.5.2</span> BasicFormatMatcher ( <var>options</var>, <var>formats</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-bestfitformatmatcher" title="BestFitFormatMatcher ( options, formats )"><span class="secnum">11.5.3</span> BestFitFormatMatcher ( <var>options</var>, <var>formats</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetime-format-functions" title="DateTime Format Functions"><span class="secnum">11.5.4</span> DateTime Format Functions</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatdatetimepattern" title="FormatDateTimePattern ( dateTimeFormat, format, pattern, epochNanoseconds )"><span class="secnum">11.5.5</span> FormatDateTimePattern ( <var>dateTimeFormat</var>, <var>format</var>, <var>pattern</var>, <var>epochNanoseconds</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitiondatetimepattern" title="PartitionDateTimePattern ( dateTimeFormat, x )"><span class="secnum">11.5.6</span> PartitionDateTimePattern ( <var>dateTimeFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatdatetime" title="FormatDateTime ( dateTimeFormat, x )"><span class="secnum">11.5.7</span> FormatDateTime ( <var>dateTimeFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatdatetimetoparts" title="FormatDateTimeToParts ( dateTimeFormat, x )"><span class="secnum">11.5.8</span> FormatDateTimeToParts ( <var>dateTimeFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitiondatetimerangepattern" title="PartitionDateTimeRangePattern ( dateTimeFormat, x, y )"><span class="secnum">11.5.9</span> PartitionDateTimeRangePattern ( <var>dateTimeFormat</var>, <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatdatetimerange" title="FormatDateTimeRange ( dateTimeFormat, x, y )"><span class="secnum">11.5.10</span> FormatDateTimeRange ( <var>dateTimeFormat</var>, <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatdatetimerangetoparts" title="FormatDateTimeRangeToParts ( dateTimeFormat, x, y )"><span class="secnum">11.5.11</span> FormatDateTimeRangeToParts ( <var>dateTimeFormat</var>, <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-tolocaltime" title="ToLocalTime ( epochNs, calendar, timeZoneIdentifier )"><span class="secnum">11.5.12</span> ToLocalTime ( <var>epochNs</var>, <var>calendar</var>, <var>timeZoneIdentifier</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-datetimeformat-tolocaltime-records" title="ToLocalTime Records"><span class="secnum">11.5.13</span> ToLocalTime Records</a></li><li><span class="item-toggle-none"></span><a href="#sec-unwrapdatetimeformat" title="UnwrapDateTimeFormat ( dtf )"><span class="secnum">11.5.14</span> UnwrapDateTimeFormat ( <var>dtf</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#intl-displaynames-objects" title="DisplayNames Objects"><span class="secnum">12</span> DisplayNames Objects</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-displaynames-constructor" title="The Intl.DisplayNames Constructor"><span class="secnum">12.1</span> The Intl.DisplayNames Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames" title="Intl.DisplayNames ( locales, options )"><span class="secnum">12.1.1</span> Intl.DisplayNames ( <var>locales</var>, <var>options</var> )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-displaynames-constructor" title="Properties of the Intl.DisplayNames Constructor"><span class="secnum">12.2</span> Properties of the Intl.DisplayNames Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames.prototype" title="Intl.DisplayNames.prototype"><span class="secnum">12.2.1</span> Intl.DisplayNames.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames.supportedLocalesOf" title="Intl.DisplayNames.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">12.2.2</span> Intl.DisplayNames.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames-internal-slots" title="Internal slots"><span class="secnum">12.2.3</span> Internal slots</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-displaynames-prototype-object" title="Properties of the Intl.DisplayNames Prototype Object"><span class="secnum">12.3</span> Properties of the Intl.DisplayNames Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames.prototype.constructor" title="Intl.DisplayNames.prototype.constructor"><span class="secnum">12.3.1</span> Intl.DisplayNames.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames.prototype.resolvedOptions" title="Intl.DisplayNames.prototype.resolvedOptions ( )"><span class="secnum">12.3.2</span> Intl.DisplayNames.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DisplayNames.prototype.of" title="Intl.DisplayNames.prototype.of ( code )"><span class="secnum">12.3.3</span> Intl.DisplayNames.prototype.of ( <var>code</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.displaynames.prototype-%symbol.tostringtag%" title="Intl.DisplayNames.prototype [ %Symbol.toStringTag% ]"><span class="secnum">12.3.4</span> Intl.DisplayNames.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-displaynames-instances" title="Properties of Intl.DisplayNames Instances"><span class="secnum">12.4</span> Properties of Intl.DisplayNames Instances</a></li><li><span class="item-toggle">+</span><a href="#sec-intl-displaynames-abstracts" title="Abstract Operations for DisplayNames Objects"><span class="secnum">12.5</span> Abstract Operations for DisplayNames Objects</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-canonicalcodefordisplaynames" title="CanonicalCodeForDisplayNames ( type, code )"><span class="secnum">12.5.1</span> CanonicalCodeForDisplayNames ( <var>type</var>, <var>code</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-isvaliddatetimefieldcode" title="IsValidDateTimeFieldCode ( field )"><span class="secnum">12.5.2</span> IsValidDateTimeFieldCode ( <var>field</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#durationformat-objects" title="DurationFormat Objects"><span class="secnum">13</span> DurationFormat Objects</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-durationformat-constructor" title="The Intl.DurationFormat Constructor"><span class="secnum">13.1</span> The Intl.DurationFormat Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat" title="Intl.DurationFormat ( [ locales [ , options ] ] )"><span class="secnum">13.1.1</span> Intl.DurationFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-durationformat-constructor" title="Properties of the Intl.DurationFormat Constructor"><span class="secnum">13.2</span> Properties of the Intl.DurationFormat Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.prototype" title="Intl.DurationFormat.prototype"><span class="secnum">13.2.1</span> Intl.DurationFormat.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.supportedLocalesOf" title="Intl.DurationFormat.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">13.2.2</span> Intl.DurationFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat-internal-slots" title="Internal slots"><span class="secnum">13.2.3</span> Internal slots</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-durationformat-prototype-object" title="Properties of the Intl.DurationFormat Prototype Object"><span class="secnum">13.3</span> Properties of the Intl.DurationFormat Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.prototype.constructor" title="Intl.DurationFormat.prototype.constructor"><span class="secnum">13.3.1</span> Intl.DurationFormat.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.prototype.resolvedOptions" title="Intl.DurationFormat.prototype.resolvedOptions ( )"><span class="secnum">13.3.2</span> Intl.DurationFormat.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.prototype.format" title="Intl.DurationFormat.prototype.format ( duration )"><span class="secnum">13.3.3</span> Intl.DurationFormat.prototype.format ( <var>duration</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.prototype.formatToParts" title="Intl.DurationFormat.prototype.formatToParts ( duration )"><span class="secnum">13.3.4</span> Intl.DurationFormat.prototype.formatToParts ( <var>duration</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.DurationFormat.prototype-%symbol.tostringtag%" title="Intl.DurationFormat.prototype [ %Symbol.toStringTag% ]"><span class="secnum">13.3.5</span> Intl.DurationFormat.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-durationformat-instances" title="Properties of Intl.DurationFormat Instances"><span class="secnum">13.4</span> Properties of Intl.DurationFormat Instances</a></li><li><span class="item-toggle">+</span><a href="#sec-intl-durationformat-abstracts" title="Abstract Operations for DurationFormat Objects"><span class="secnum">13.5</span> Abstract Operations for DurationFormat Objects</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-duration-records" title="Duration Records"><span class="secnum">13.5.1</span> Duration Records</a></li><li><span class="item-toggle-none"></span><a href="#sec-tointegerifintegral" title="ToIntegerIfIntegral ( argument )"><span class="secnum">13.5.2</span> ToIntegerIfIntegral ( <var>argument</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-todurationrecord" title="ToDurationRecord ( input )"><span class="secnum">13.5.3</span> ToDurationRecord ( <var>input</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-durationsign" title="DurationSign ( duration )"><span class="secnum">13.5.4</span> DurationSign ( <var>duration</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-isvalidduration" title="IsValidDuration ( years, months, weeks, days, hours, minutes, seconds, milliseconds, microseconds, nanoseconds )"><span class="secnum">13.5.5</span> IsValidDuration ( <var>years</var>, <var>months</var>, <var>weeks</var>, <var>days</var>, <var>hours</var>, <var>minutes</var>, <var>seconds</var>, <var>milliseconds</var>, <var>microseconds</var>, <var>nanoseconds</var> )</a></li><li><span class="item-toggle">+</span><a href="#sec-getdurationunitoptions" title="GetDurationUnitOptions ( unit, options, baseStyle, stylesList, digitalBase, prevStyle, twoDigitHours )"><span class="secnum">13.5.6</span> GetDurationUnitOptions ( <var>unit</var>, <var>options</var>, <var>baseStyle</var>, <var>stylesList</var>, <var>digitalBase</var>, <var>prevStyle</var>, <var>twoDigitHours</var> )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-durationformat-unit-options-record" title="Duration Unit Options Records"><span class="secnum">13.5.6.1</span> Duration Unit Options Records</a></li><li><span class="item-toggle-none"></span><a href="#sec-validatedurationunitstyle" title="ValidateDurationUnitStyle ( unit, style, display, prevStyle )"><span class="secnum">13.5.6.2</span> ValidateDurationUnitStyle ( <var>unit</var>, <var>style</var>, <var>display</var>, <var>prevStyle</var> )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-computefractionaldigits" title="ComputeFractionalDigits ( durationFormat, duration )"><span class="secnum">13.5.7</span> ComputeFractionalDigits ( <var>durationFormat</var>, <var>duration</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-nextunitfractional" title="NextUnitFractional ( durationFormat, unit )"><span class="secnum">13.5.8</span> NextUnitFractional ( <var>durationFormat</var>, <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumerichours" title="FormatNumericHours ( durationFormat, hoursValue, signDisplayed )"><span class="secnum">13.5.9</span> FormatNumericHours ( <var>durationFormat</var>, <var>hoursValue</var>, <var>signDisplayed</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumericminutes" title="FormatNumericMinutes ( durationFormat, minutesValue, hoursDisplayed, signDisplayed )"><span class="secnum">13.5.10</span> FormatNumericMinutes ( <var>durationFormat</var>, <var>minutesValue</var>, <var>hoursDisplayed</var>, <var>signDisplayed</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumericseconds" title="FormatNumericSeconds ( durationFormat, secondsValue, minutesDisplayed, signDisplayed )"><span class="secnum">13.5.11</span> FormatNumericSeconds ( <var>durationFormat</var>, <var>secondsValue</var>, <var>minutesDisplayed</var>, <var>signDisplayed</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumericunits" title="FormatNumericUnits ( durationFormat, duration, firstNumericUnit, signDisplayed )"><span class="secnum">13.5.12</span> FormatNumericUnits ( <var>durationFormat</var>, <var>duration</var>, <var>firstNumericUnit</var>, <var>signDisplayed</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-isfractionalsecondunitname" title="IsFractionalSecondUnitName ( unit )"><span class="secnum">13.5.13</span> IsFractionalSecondUnitName ( <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-listformatparts" title="ListFormatParts ( durationFormat, partitionedPartsList )"><span class="secnum">13.5.14</span> ListFormatParts ( <var>durationFormat</var>, <var>partitionedPartsList</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitiondurationformatpattern" title="PartitionDurationFormatPattern ( durationFormat, duration )"><span class="secnum">13.5.15</span> PartitionDurationFormatPattern ( <var>durationFormat</var>, <var>duration</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#listformat-objects" title="ListFormat Objects"><span class="secnum">14</span> ListFormat Objects</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-listformat-constructor" title="The Intl.ListFormat Constructor"><span class="secnum">14.1</span> The Intl.ListFormat Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat" title="Intl.ListFormat ( [ locales [ , options ] ] )"><span class="secnum">14.1.1</span> Intl.ListFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-listformat-constructor" title="Properties of the Intl.ListFormat Constructor"><span class="secnum">14.2</span> Properties of the Intl.ListFormat Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.prototype" title="Intl.ListFormat.prototype"><span class="secnum">14.2.1</span> Intl.ListFormat.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.supportedLocalesOf" title="Intl.ListFormat.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">14.2.2</span> Intl.ListFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat-internal-slots" title="Internal slots"><span class="secnum">14.2.3</span> Internal slots</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-listformat-prototype-object" title="Properties of the Intl.ListFormat Prototype Object"><span class="secnum">14.3</span> Properties of the Intl.ListFormat Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.prototype.constructor" title="Intl.ListFormat.prototype.constructor"><span class="secnum">14.3.1</span> Intl.ListFormat.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.prototype.resolvedoptions" title="Intl.ListFormat.prototype.resolvedOptions ( )"><span class="secnum">14.3.2</span> Intl.ListFormat.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.prototype.format" title="Intl.ListFormat.prototype.format ( list )"><span class="secnum">14.3.3</span> Intl.ListFormat.prototype.format ( <var>list</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.prototype.formatToParts" title="Intl.ListFormat.prototype.formatToParts ( list )"><span class="secnum">14.3.4</span> Intl.ListFormat.prototype.formatToParts ( <var>list</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.ListFormat.prototype-toStringTag" title="Intl.ListFormat.prototype [ %Symbol.toStringTag% ]"><span class="secnum">14.3.5</span> Intl.ListFormat.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-listformat-instances" title="Properties of Intl.ListFormat Instances"><span class="secnum">14.4</span> Properties of Intl.ListFormat Instances</a></li><li><span class="item-toggle">+</span><a href="#sec-intl-listformat-abstracts" title="Abstract Operations for ListFormat Objects"><span class="secnum">14.5</span> Abstract Operations for ListFormat Objects</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-deconstructpattern" title="DeconstructPattern ( pattern, placeables )"><span class="secnum">14.5.1</span> DeconstructPattern ( <var>pattern</var>, <var>placeables</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-createpartsfromlist" title="CreatePartsFromList ( listFormat, list )"><span class="secnum">14.5.2</span> CreatePartsFromList ( <var>listFormat</var>, <var>list</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatlist" title="FormatList ( listFormat, list )"><span class="secnum">14.5.3</span> FormatList ( <var>listFormat</var>, <var>list</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatlisttoparts" title="FormatListToParts ( listFormat, list )"><span class="secnum">14.5.4</span> FormatListToParts ( <var>listFormat</var>, <var>list</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-createstringlistfromiterable" title="StringListFromIterable ( iterable )"><span class="secnum">14.5.5</span> StringListFromIterable ( <var>iterable</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#locale-objects" title="Locale Objects"><span class="secnum">15</span> Locale Objects</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-locale-constructor" title="The Intl.Locale Constructor"><span class="secnum">15.1</span> The Intl.Locale Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale" title="Intl.Locale ( tag [ , options ] )"><span class="secnum">15.1.1</span> Intl.Locale ( <var>tag</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-updatelanguageid" title="UpdateLanguageId ( tag, options )"><span class="secnum">15.1.2</span> UpdateLanguageId ( <var>tag</var>, <var>options</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-makelocalerecord" title="MakeLocaleRecord ( tag, options, localeExtensionKeys )"><span class="secnum">15.1.3</span> MakeLocaleRecord ( <var>tag</var>, <var>options</var>, <var>localeExtensionKeys</var> )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-locale-constructor" title="Properties of the Intl.Locale Constructor"><span class="secnum">15.2</span> Properties of the Intl.Locale Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype" title="Intl.Locale.prototype"><span class="secnum">15.2.1</span> Intl.Locale.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.locale-internal-slots" title="Internal slots"><span class="secnum">15.2.2</span> Internal slots</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-locale-prototype-object" title="Properties of the Intl.Locale Prototype Object"><span class="secnum">15.3</span> Properties of the Intl.Locale Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.constructor" title="Intl.Locale.prototype.constructor"><span class="secnum">15.3.1</span> Intl.Locale.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.baseName" title="get Intl.Locale.prototype.baseName"><span class="secnum">15.3.2</span> get Intl.Locale.prototype.baseName</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.calendar" title="get Intl.Locale.prototype.calendar"><span class="secnum">15.3.3</span> get Intl.Locale.prototype.calendar</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.caseFirst" title="get Intl.Locale.prototype.caseFirst"><span class="secnum">15.3.4</span> get Intl.Locale.prototype.caseFirst</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.collation" title="get Intl.Locale.prototype.collation"><span class="secnum">15.3.5</span> get Intl.Locale.prototype.collation</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.hourCycle" title="get Intl.Locale.prototype.hourCycle"><span class="secnum">15.3.6</span> get Intl.Locale.prototype.hourCycle</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.language" title="get Intl.Locale.prototype.language"><span class="secnum">15.3.7</span> get Intl.Locale.prototype.language</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.maximize" title="Intl.Locale.prototype.maximize ( )"><span class="secnum">15.3.8</span> Intl.Locale.prototype.maximize ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.minimize" title="Intl.Locale.prototype.minimize ( )"><span class="secnum">15.3.9</span> Intl.Locale.prototype.minimize ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.numberingSystem" title="get Intl.Locale.prototype.numberingSystem"><span class="secnum">15.3.10</span> get Intl.Locale.prototype.numberingSystem</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.numeric" title="get Intl.Locale.prototype.numeric"><span class="secnum">15.3.11</span> get Intl.Locale.prototype.numeric</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.region" title="get Intl.Locale.prototype.region"><span class="secnum">15.3.12</span> get Intl.Locale.prototype.region</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.script" title="get Intl.Locale.prototype.script"><span class="secnum">15.3.13</span> get Intl.Locale.prototype.script</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.toString" title="Intl.Locale.prototype.toString ( )"><span class="secnum">15.3.14</span> Intl.Locale.prototype.toString ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.Locale.prototype.variants" title="get Intl.Locale.prototype.variants"><span class="secnum">15.3.15</span> get Intl.Locale.prototype.variants</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.locale.prototype-%symbol.tostringtag%" title="Intl.Locale.prototype [ %Symbol.toStringTag% ]"><span class="secnum">15.3.16</span> Intl.Locale.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-locale-instances" title="Properties of Intl.Locale Instances"><span class="secnum">15.4</span> Properties of Intl.Locale Instances</a></li><li><span class="item-toggle">+</span><a href="#sec-intl-locale-abstracts" title="Abstract Operations for Locale Objects"><span class="secnum">15.5</span> Abstract Operations for Locale Objects</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-getlocalebasename" title="GetLocaleBaseName ( locale )"><span class="secnum">15.5.1</span> GetLocaleBaseName ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getlocalelanguage" title="GetLocaleLanguage ( locale )"><span class="secnum">15.5.2</span> GetLocaleLanguage ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getlocalescript" title="GetLocaleScript ( locale )"><span class="secnum">15.5.3</span> GetLocaleScript ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getlocaleregion" title="GetLocaleRegion ( locale )"><span class="secnum">15.5.4</span> GetLocaleRegion ( <var>locale</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getlocalevariants" title="GetLocaleVariants ( locale )"><span class="secnum">15.5.5</span> GetLocaleVariants ( <var>locale</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#numberformat-objects" title="NumberFormat Objects"><span class="secnum">16</span> NumberFormat Objects</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-numberformat-constructor" title="The Intl.NumberFormat Constructor"><span class="secnum">16.1</span> The Intl.NumberFormat Constructor</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl.numberformat" title="Intl.NumberFormat ( [ locales [ , options ] ] )"><span class="secnum">16.1.1</span> Intl.NumberFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-chainnumberformat" title="ChainNumberFormat ( numberFormat, newTarget, this )"><span class="secnum">16.1.1.1</span> ChainNumberFormat ( <var>numberFormat</var>, <var>newTarget</var>, <var>this</var> )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-setnumberformatdigitoptions" title="SetNumberFormatDigitOptions ( intlObj, options, mnfdDefault, mxfdDefault, notation )"><span class="secnum">16.1.2</span> SetNumberFormatDigitOptions ( <var>intlObj</var>, <var>options</var>, <var>mnfdDefault</var>, <var>mxfdDefault</var>, <var>notation</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-setnumberformatunitoptions" title="SetNumberFormatUnitOptions ( intlObj, options )"><span class="secnum">16.1.3</span> SetNumberFormatUnitOptions ( <var>intlObj</var>, <var>options</var> )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-numberformat-constructor" title="Properties of the Intl.NumberFormat Constructor"><span class="secnum">16.2</span> Properties of the Intl.NumberFormat Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype" title="Intl.NumberFormat.prototype"><span class="secnum">16.2.1</span> Intl.NumberFormat.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.supportedlocalesof" title="Intl.NumberFormat.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">16.2.2</span> Intl.NumberFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat-internal-slots" title="Internal slots"><span class="secnum">16.2.3</span> Internal slots</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-numberformat-prototype-object" title="Properties of the Intl.NumberFormat Prototype Object"><span class="secnum">16.3</span> Properties of the Intl.NumberFormat Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype.constructor" title="Intl.NumberFormat.prototype.constructor"><span class="secnum">16.3.1</span> Intl.NumberFormat.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype.resolvedoptions" title="Intl.NumberFormat.prototype.resolvedOptions ( )"><span class="secnum">16.3.2</span> Intl.NumberFormat.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype.format" title="get Intl.NumberFormat.prototype.format"><span class="secnum">16.3.3</span> get Intl.NumberFormat.prototype.format</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype.formatrange" title="Intl.NumberFormat.prototype.formatRange ( start, end )"><span class="secnum">16.3.4</span> Intl.NumberFormat.prototype.formatRange ( <var>start</var>, <var>end</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype.formatrangetoparts" title="Intl.NumberFormat.prototype.formatRangeToParts ( start, end )"><span class="secnum">16.3.5</span> Intl.NumberFormat.prototype.formatRangeToParts ( <var>start</var>, <var>end</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype.formattoparts" title="Intl.NumberFormat.prototype.formatToParts ( value )"><span class="secnum">16.3.6</span> Intl.NumberFormat.prototype.formatToParts ( <var>value</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.numberformat.prototype-%symbol.tostringtag%" title="Intl.NumberFormat.prototype [ %Symbol.toStringTag% ]"><span class="secnum">16.3.7</span> Intl.NumberFormat.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-numberformat-instances" title="Properties of Intl.NumberFormat Instances"><span class="secnum">16.4</span> Properties of Intl.NumberFormat Instances</a></li><li><span class="item-toggle">+</span><a href="#sec-numberformat-abstracts" title="Abstract Operations for NumberFormat Objects"><span class="secnum">16.5</span> Abstract Operations for NumberFormat Objects</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-currencydigits" title="CurrencyDigits ( currency )"><span class="secnum">16.5.1</span> CurrencyDigits ( <var>currency</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-number-format-functions" title="Number Format Functions"><span class="secnum">16.5.2</span> Number Format Functions</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumerictostring" title="FormatNumericToString ( intlObject, x )"><span class="secnum">16.5.3</span> FormatNumericToString ( <var>intlObject</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitionnumberpattern" title="PartitionNumberPattern ( numberFormat, x )"><span class="secnum">16.5.4</span> PartitionNumberPattern ( <var>numberFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitionnotationsubpattern" title="PartitionNotationSubPattern ( numberFormat, x, n, exponent )"><span class="secnum">16.5.5</span> PartitionNotationSubPattern ( <var>numberFormat</var>, <var>x</var>, <var>n</var>, <var>exponent</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumber" title="FormatNumeric ( numberFormat, x )"><span class="secnum">16.5.6</span> FormatNumeric ( <var>numberFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumbertoparts" title="FormatNumericToParts ( numberFormat, x )"><span class="secnum">16.5.7</span> FormatNumericToParts ( <var>numberFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-torawprecision" title="ToRawPrecision ( x, minPrecision, maxPrecision, unsignedRoundingMode )"><span class="secnum">16.5.8</span> ToRawPrecision ( <var>x</var>, <var>minPrecision</var>, <var>maxPrecision</var>, <var>unsignedRoundingMode</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-torawfixed" title="ToRawFixed ( x, minFraction, maxFraction, roundingIncrement, unsignedRoundingMode )"><span class="secnum">16.5.9</span> ToRawFixed ( <var>x</var>, <var>minFraction</var>, <var>maxFraction</var>, <var>roundingIncrement</var>, <var>unsignedRoundingMode</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-unwrapnumberformat" title="UnwrapNumberFormat ( nf )"><span class="secnum">16.5.10</span> UnwrapNumberFormat ( <var>nf</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getnumberformatpattern" title="GetNumberFormatPattern ( numberFormat, x )"><span class="secnum">16.5.11</span> GetNumberFormatPattern ( <var>numberFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getnotationsubpattern" title="GetNotationSubPattern ( numberFormat, exponent )"><span class="secnum">16.5.12</span> GetNotationSubPattern ( <var>numberFormat</var>, <var>exponent</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-computeexponent" title="ComputeExponent ( numberFormat, x )"><span class="secnum">16.5.13</span> ComputeExponent ( <var>numberFormat</var>, <var>x</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-computeexponentformagnitude" title="ComputeExponentForMagnitude ( numberFormat, magnitude )"><span class="secnum">16.5.14</span> ComputeExponentForMagnitude ( <var>numberFormat</var>, <var>magnitude</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-runtime-semantics-stringintlmv" title="Runtime Semantics: StringIntlMV"><span class="secnum">16.5.15</span> RS: StringIntlMV</a></li><li><span class="item-toggle-none"></span><a href="#sec-tointlmathematicalvalue" title="ToIntlMathematicalValue ( value )"><span class="secnum">16.5.16</span> ToIntlMathematicalValue ( <var>value</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-getunsignedroundingmode" title="GetUnsignedRoundingMode ( roundingMode, sign )"><span class="secnum">16.5.17</span> GetUnsignedRoundingMode ( <var>roundingMode</var>, <var>sign</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-applyunsignedroundingmode" title="ApplyUnsignedRoundingMode ( x, r1, r2, unsignedRoundingMode )"><span class="secnum">16.5.18</span> ApplyUnsignedRoundingMode ( <var>x</var>, <var>r1</var>, <var>r2</var>, <var>unsignedRoundingMode</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-partitionnumberrangepattern" title="PartitionNumberRangePattern ( numberFormat, x, y )"><span class="secnum">16.5.19</span> PartitionNumberRangePattern ( <var>numberFormat</var>, <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatapproximately" title="FormatApproximately ( numberFormat, result )"><span class="secnum">16.5.20</span> FormatApproximately ( <var>numberFormat</var>, <var>result</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-collapsenumberrange" title="CollapseNumberRange ( numberFormat, result )"><span class="secnum">16.5.21</span> CollapseNumberRange ( <var>numberFormat</var>, <var>result</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumericrange" title="FormatNumericRange ( numberFormat, x, y )"><span class="secnum">16.5.22</span> FormatNumericRange ( <var>numberFormat</var>, <var>x</var>, <var>y</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-formatnumericrangetoparts" title="FormatNumericRangeToParts ( numberFormat, x, y )"><span class="secnum">16.5.23</span> FormatNumericRangeToParts ( <var>numberFormat</var>, <var>x</var>, <var>y</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#pluralrules-objects" title="PluralRules Objects"><span class="secnum">17</span> PluralRules Objects</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-pluralrules-constructor" title="The Intl.PluralRules Constructor"><span class="secnum">17.1</span> The Intl.PluralRules Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules" title="Intl.PluralRules ( [ locales [ , options ] ] )"><span class="secnum">17.1.1</span> Intl.PluralRules ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-pluralrules-constructor" title="Properties of the Intl.PluralRules Constructor"><span class="secnum">17.2</span> Properties of the Intl.PluralRules Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.prototype" title="Intl.PluralRules.prototype"><span class="secnum">17.2.1</span> Intl.PluralRules.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.supportedlocalesof" title="Intl.PluralRules.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">17.2.2</span> Intl.PluralRules.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules-internal-slots" title="Internal slots"><span class="secnum">17.2.3</span> Internal slots</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-pluralrules-prototype-object" title="Properties of the Intl.PluralRules Prototype Object"><span class="secnum">17.3</span> Properties of the Intl.PluralRules Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.prototype.constructor" title="Intl.PluralRules.prototype.constructor"><span class="secnum">17.3.1</span> Intl.PluralRules.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.prototype.resolvedoptions" title="Intl.PluralRules.prototype.resolvedOptions ( )"><span class="secnum">17.3.2</span> Intl.PluralRules.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.prototype.select" title="Intl.PluralRules.prototype.select ( value )"><span class="secnum">17.3.3</span> Intl.PluralRules.prototype.select ( <var>value</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.prototype.selectrange" title="Intl.PluralRules.prototype.selectRange ( start, end )"><span class="secnum">17.3.4</span> Intl.PluralRules.prototype.selectRange ( <var>start</var>, <var>end</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.pluralrules.prototype-%symbol.tostringtag%" title="Intl.PluralRules.prototype [ %Symbol.toStringTag% ]"><span class="secnum">17.3.5</span> Intl.PluralRules.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-pluralrules-instances" title="Properties of Intl.PluralRules Instances"><span class="secnum">17.4</span> Properties of Intl.PluralRules Instances</a></li><li><span class="item-toggle">+</span><a href="#sec-intl-pluralrules-abstracts" title="Abstract Operations for PluralRules Objects"><span class="secnum">17.5</span> Abstract Operations for PluralRules Objects</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-pluralruleselect" title="PluralRuleSelect ( locale, type, notation, compactDisplay, s )"><span class="secnum">17.5.1</span> PluralRuleSelect ( <var>locale</var>, <var>type</var>, <var>notation</var>, <var>compactDisplay</var>, <var>s</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-resolveplural" title="ResolvePlural ( pluralRules, n )"><span class="secnum">17.5.2</span> ResolvePlural ( <var>pluralRules</var>, <var>n</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-pluralruleselectrange" title="PluralRuleSelectRange ( locale, type, notation, compactDisplay, xp, yp )"><span class="secnum">17.5.3</span> PluralRuleSelectRange ( <var>locale</var>, <var>type</var>, <var>notation</var>, <var>compactDisplay</var>, <var>xp</var>, <var>yp</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-resolvepluralrange" title="ResolvePluralRange ( pluralRules, x, y )"><span class="secnum">17.5.4</span> ResolvePluralRange ( <var>pluralRules</var>, <var>x</var>, <var>y</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#relativetimeformat-objects" title="RelativeTimeFormat Objects"><span class="secnum">18</span> RelativeTimeFormat Objects</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-relativetimeformat-constructor" title="The Intl.RelativeTimeFormat Constructor"><span class="secnum">18.1</span> The Intl.RelativeTimeFormat Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat" title="Intl.RelativeTimeFormat ( [ locales [ , options ] ] )"><span class="secnum">18.1.1</span> Intl.RelativeTimeFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-relativetimeformat-constructor" title="Properties of the Intl.RelativeTimeFormat Constructor"><span class="secnum">18.2</span> Properties of the Intl.RelativeTimeFormat Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat.prototype" title="Intl.RelativeTimeFormat.prototype"><span class="secnum">18.2.1</span> Intl.RelativeTimeFormat.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat.supportedLocalesOf" title="Intl.RelativeTimeFormat.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">18.2.2</span> Intl.RelativeTimeFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat-internal-slots" title="Internal slots"><span class="secnum">18.2.3</span> Internal slots</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-relativetimeformat-prototype-object" title="Properties of the Intl.RelativeTimeFormat Prototype Object"><span class="secnum">18.3</span> Properties of the Intl.RelativeTimeFormat Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat.prototype.constructor" title="Intl.RelativeTimeFormat.prototype.constructor"><span class="secnum">18.3.1</span> Intl.RelativeTimeFormat.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.relativetimeformat.prototype.resolvedoptions" title="Intl.RelativeTimeFormat.prototype.resolvedOptions ( )"><span class="secnum">18.3.2</span> Intl.RelativeTimeFormat.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat.prototype.format" title="Intl.RelativeTimeFormat.prototype.format ( value, unit )"><span class="secnum">18.3.3</span> Intl.RelativeTimeFormat.prototype.format ( <var>value</var>, <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat.prototype.formatToParts" title="Intl.RelativeTimeFormat.prototype.formatToParts ( value, unit )"><span class="secnum">18.3.4</span> Intl.RelativeTimeFormat.prototype.formatToParts ( <var>value</var>, <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-Intl.RelativeTimeFormat.prototype-toStringTag" title="Intl.RelativeTimeFormat.prototype [ %Symbol.toStringTag% ]"><span class="secnum">18.3.5</span> Intl.RelativeTimeFormat.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-relativetimeformat-instances" title="Properties of Intl.RelativeTimeFormat Instances"><span class="secnum">18.4</span> Properties of Intl.RelativeTimeFormat Instances</a></li><li><span class="item-toggle">+</span><a href="#sec-intl-relativetimeformat--abstracts" title="Abstract Operations for RelativeTimeFormat Objects"><span class="secnum">18.5</span> Abstract Operations for RelativeTimeFormat Objects</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-singularrelativetimeunit" title="SingularRelativeTimeUnit ( unit )"><span class="secnum">18.5.1</span> SingularRelativeTimeUnit ( <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-PartitionRelativeTimePattern" title="PartitionRelativeTimePattern ( relativeTimeFormat, value, unit )"><span class="secnum">18.5.2</span> PartitionRelativeTimePattern ( <var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-makepartslist" title="MakePartsList ( pattern, unit, parts )"><span class="secnum">18.5.3</span> MakePartsList ( <var>pattern</var>, <var>unit</var>, <var>parts</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-FormatRelativeTime" title="FormatRelativeTime ( relativeTimeFormat, value, unit )"><span class="secnum">18.5.4</span> FormatRelativeTime ( <var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-FormatRelativeTimeToParts" title="FormatRelativeTimeToParts ( relativeTimeFormat, value, unit )"><span class="secnum">18.5.5</span> FormatRelativeTimeToParts ( <var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#segmenter-objects" title="Segmenter Objects"><span class="secnum">19</span> Segmenter Objects</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sec-intl-segmenter-constructor" title="The Intl.Segmenter Constructor"><span class="secnum">19.1</span> The Intl.Segmenter Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter" title="Intl.Segmenter ( [ locales [ , options ] ] )"><span class="secnum">19.1.1</span> Intl.Segmenter ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-segmenter-constructor" title="Properties of the Intl.Segmenter Constructor"><span class="secnum">19.2</span> Properties of the Intl.Segmenter Constructor</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter.prototype" title="Intl.Segmenter.prototype"><span class="secnum">19.2.1</span> Intl.Segmenter.prototype</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter.supportedlocalesof" title="Intl.Segmenter.supportedLocalesOf ( locales [ , options ] )"><span class="secnum">19.2.2</span> Intl.Segmenter.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter-internal-slots" title="Internal slots"><span class="secnum">19.2.3</span> Internal slots</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-properties-of-intl-segmenter-prototype-object" title="Properties of the Intl.Segmenter Prototype Object"><span class="secnum">19.3</span> Properties of the Intl.Segmenter Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter.prototype.constructor" title="Intl.Segmenter.prototype.constructor"><span class="secnum">19.3.1</span> Intl.Segmenter.prototype.constructor</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter.prototype.resolvedoptions" title="Intl.Segmenter.prototype.resolvedOptions ( )"><span class="secnum">19.3.2</span> Intl.Segmenter.prototype.resolvedOptions ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter.prototype.segment" title="Intl.Segmenter.prototype.segment ( string )"><span class="secnum">19.3.3</span> Intl.Segmenter.prototype.segment ( <var>string</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-intl.segmenter.prototype-%symbol.tostringtag%" title="Intl.Segmenter.prototype [ %Symbol.toStringTag% ]"><span class="secnum">19.3.4</span> Intl.Segmenter.prototype [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-intl-segmenter-instances" title="Properties of Intl.Segmenter Instances"><span class="secnum">19.4</span> Properties of Intl.Segmenter Instances</a></li><li><span class="item-toggle">+</span><a href="#sec-segments-objects" title="Segments Objects"><span class="secnum">19.5</span> Segments Objects</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-createsegmentsobject" title="CreateSegmentsObject ( segmenter, string )"><span class="secnum">19.5.1</span> CreateSegmentsObject ( <var>segmenter</var>, <var>string</var> )</a></li><li><span class="item-toggle">+</span><a href="#sec-%intlsegmentsprototype%-object" title="The %IntlSegmentsPrototype% Object"><span class="secnum">19.5.2</span> The %IntlSegmentsPrototype% Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-%intlsegmentsprototype%.containing" title="%IntlSegmentsPrototype%.containing ( index )"><span class="secnum">19.5.2.1</span> %IntlSegmentsPrototype%.containing ( <var>index</var> )</a></li><li><span class="item-toggle-none"></span><a href="#sec-%intlsegmentsprototype%-%symbol.iterator%" title="%IntlSegmentsPrototype% [ %Symbol.iterator% ] ( )"><span class="secnum">19.5.2.2</span> %IntlSegmentsPrototype% [ %Symbol.iterator% ] ( )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-segments-instances" title="Properties of Segments Instances"><span class="secnum">19.5.3</span> Properties of Segments Instances</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-segment-iterator-objects" title="Segment Iterator Objects"><span class="secnum">19.6</span> Segment Iterator Objects</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-createsegmentiterator" title="CreateSegmentIterator ( segmenter, string )"><span class="secnum">19.6.1</span> CreateSegmentIterator ( <var>segmenter</var>, <var>string</var> )</a></li><li><span class="item-toggle">+</span><a href="#sec-%intlsegmentiteratorprototype%-object" title="The %IntlSegmentIteratorPrototype% Object"><span class="secnum">19.6.2</span> The %IntlSegmentIteratorPrototype% Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-%intlsegmentiteratorprototype%.next" title="%IntlSegmentIteratorPrototype%.next ( )"><span class="secnum">19.6.2.1</span> %IntlSegmentIteratorPrototype%.next ( )</a></li><li><span class="item-toggle-none"></span><a href="#sec-%intlsegmentiteratorprototype%.%symbol.tostringtag%" title="%IntlSegmentIteratorPrototype% [ %Symbol.toStringTag% ]"><span class="secnum">19.6.2.2</span> %IntlSegmentIteratorPrototype% [ %Symbol.toStringTag% ]</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sec-properties-of-segment-iterator-instances" title="Properties of Segment Iterator Instances"><span class="secnum">19.6.3</span> Properties of Segment Iterator Instances</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-segment-data-objects" title="Segment Data Objects"><span class="secnum">19.7</span> Segment Data Objects</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-createsegmentdataobject" title="CreateSegmentDataObject ( segmenter, string, startIndex, endIndex )"><span class="secnum">19.7.1</span> CreateSegmentDataObject ( <var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <var>endIndex</var> )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sec-intl-segmenter-abstracts" title="Abstract Operations for Segmenter Objects"><span class="secnum">19.8</span> Abstract Operations for Segmenter Objects</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-findboundary" title="FindBoundary ( segmenter, string, startIndex, direction )"><span class="secnum">19.8.1</span> FindBoundary ( <var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <var>direction</var> )</a></li></ol></li></ol></li><li><span class="item-toggle">+</span><a href="#locale-sensitive-functions" title="Locale Sensitive Functions of the ECMAScript Language Specification"><span class="secnum">20</span> Locale Sensitive Functions of the ECMAScript Language Specification</a><ol class="toc"><li><span class="item-toggle">+</span><a href="#sup-properties-of-the-string-prototype-object" title="Properties of the String Prototype Object"><span class="secnum">20.1</span> Properties of the String Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sup-String.prototype.localeCompare" title="String.prototype.localeCompare ( that [ , locales [ , options ] ] )"><span class="secnum">20.1.1</span> String.prototype.localeCompare ( <var>that</var> [ , <var>locales</var> [ , <var>options</var> ] ] )</a></li><li><span class="item-toggle">+</span><a href="#sup-string.prototype.tolocalelowercase" title="String.prototype.toLocaleLowerCase ( [ locales ] )"><span class="secnum">20.1.2</span> String.prototype.toLocaleLowerCase ( [ <var>locales</var> ] )</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sec-transform-case" title="TransformCase ( S, locales, targetCase )"><span class="secnum">20.1.2.1</span> TransformCase ( <var>S</var>, <var>locales</var>, <var>targetCase</var> )</a></li></ol></li><li><span class="item-toggle-none"></span><a href="#sup-string.prototype.tolocaleuppercase" title="String.prototype.toLocaleUpperCase ( [ locales ] )"><span class="secnum">20.1.3</span> String.prototype.toLocaleUpperCase ( [ <var>locales</var> ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sup-properties-of-the-number-prototype-object" title="Properties of the Number Prototype Object"><span class="secnum">20.2</span> Properties of the Number Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sup-number.prototype.tolocalestring" title="Number.prototype.toLocaleString ( [ locales [ , options ] ] )"><span class="secnum">20.2.1</span> Number.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sup-properties-of-the-bigint-prototype-object" title="Properties of the BigInt Prototype Object"><span class="secnum">20.3</span> Properties of the BigInt Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sup-bigint.prototype.tolocalestring" title="BigInt.prototype.toLocaleString ( [ locales [ , options ] ] )"><span class="secnum">20.3.1</span> BigInt.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sup-properties-of-the-date-prototype-object" title="Properties of the Date Prototype Object"><span class="secnum">20.4</span> Properties of the Date Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sup-date.prototype.tolocalestring" title="Date.prototype.toLocaleString ( [ locales [ , options ] ] )"><span class="secnum">20.4.1</span> Date.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li><li><span class="item-toggle-none"></span><a href="#sup-date.prototype.tolocaledatestring" title="Date.prototype.toLocaleDateString ( [ locales [ , options ] ] )"><span class="secnum">20.4.2</span> Date.prototype.toLocaleDateString ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li><li><span class="item-toggle-none"></span><a href="#sup-date.prototype.tolocaletimestring" title="Date.prototype.toLocaleTimeString ( [ locales [ , options ] ] )"><span class="secnum">20.4.3</span> Date.prototype.toLocaleTimeString ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li><li><span class="item-toggle">+</span><a href="#sup-properties-of-the-array-prototype-object" title="Properties of the Array Prototype Object"><span class="secnum">20.5</span> Properties of the Array Prototype Object</a><ol class="toc"><li><span class="item-toggle-none"></span><a href="#sup-array.prototype.tolocalestring" title="Array.prototype.toLocaleString ( [ locales [ , options ] ] )"><span class="secnum">20.5.1</span> Array.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</a></li></ol></li></ol></li><li><span class="item-toggle-none"></span><a href="#annex-implementation-dependent-behaviour" title="Implementation Dependent Behaviour"><span class="secnum">Annex A <span class="annex-kind">(informative)</span></span> Implementation Dependent Behaviour</a></li><li><span class="item-toggle-none"></span><a href="#annex-incompatibilities" title="Additions and Changes That Introduce Incompatibilities with Prior Editions"><span class="secnum">Annex B <span class="annex-kind">(informative)</span></span> Additions and Changes That Introduce Incompatibilities with Prior Editions</a></li><li><span class="item-toggle-none"></span><a href="#sec-colophon" title="Colophon"><span class="secnum">Annex C <span class="annex-kind">(informative)</span></span> Colophon</a></li><li><span class="item-toggle-none"></span><a href="#sec-copyright-and-software-license" title="Copyright &amp; Software License">Copyright &amp; Software License</a></li></ol></div></div><div id="spec-container"><h1 class="version">Draft ECMA-402 / December 9, 2025</h1><h1 class="title">ECMAScript® 2026 Internationalization API Specification</h1>
<p><img src="img/ecma-logo.svg" id="ecma-logo"></p>
<div id="metadata-block">
  <h1>Contributing to this Specification</h1>
  <p>This specification is developed on GitHub with the help of the ECMAScript community. There are a number of ways to contribute to the development of this specification:</p>
  <ul>
    <li>GitHub Repository: <a href="https://github.com/tc39/ecma402">https://github.com/tc39/ecma402</a></li>
    <li>Issues: <a href="https://github.com/tc39/ecma402/issues">All Issues</a>, <a href="https://github.com/tc39/ecma402/issues/new">File a New Issue</a></li>
    <li>Pull Requests: <a href="https://github.com/tc39/ecma402/pulls">All Pull Requests</a>, <a href="https://github.com/tc39/ecma402/pulls/new">Create a New Pull Request</a></li>
    <li>Test Suite: <a href="https://github.com/tc39/test262">Test262</a></li>
    <li>TC39-TG2:
      <ul>
        <li>Convener: <a href="mailto:shane@unicode.org">Shane F. Carr</a> (<a href="https://github.com/sffc">@sffc</a>)</li>
        <li>Admin group: <a href="mailto:ecma402-admin@chromium.org">contact by email</a></li>
      </ul>
    </li>
    <li>Editors:
      <ul>
        <li><a href="mailto:benallen@igalia.com">Ben Allen</a> (<a href="https://github.com/ben-allen">@ben-allen</a>)</li>
        <li><a href="mailto:richard.gibson+ecma402@gmail.com">Richard Gibson</a> (<a href="https://github.com/gibson042">@gibson042</a>)</li>
        <li><a href="mailto:ryzokuken@igalia.com">Ujjwal Sharma</a> (<a href="https://github.com/ryzokuken">@ryzokuken</a>)</li>
      </ul>
    </li>
    <li>
      Community:
      <ul>
        <li>Matrix: <a href="https://matrix.to/#/#tc39:matrix.org">#tc39:matrix.org</a></li>
        <li>Matrix: <a href="https://matrix.to/#/#tc39-ecma402:matrix.org">#tc39-ecma402:matrix.org</a></li>
      </ul>
    </li>
  </ul>
  <p>Refer to the <emu-xref href="#sec-colophon" id="_ref_0"><a href="#sec-colophon">colophon</a></emu-xref> for more information on how this document is created.</p>
</div>

<emu-intro id="introduction">
  <h1>Introduction</h1>
  <p>This specification's source can be found at <a href="https://github.com/tc39/ecma402">https://github.com/tc39/ecma402</a>.</p>
  <p>The ECMAScript 2026 Internationalization API Specification (ECMA-402 13<sup>th</sup> Edition), provides key language sensitive functionality as a complement to <emu-xref href="#ecma262" id="_ref_230"><a href="#ecma262">ECMA-262</a></emu-xref>. Its functionality has been selected from that of well-established internationalization APIs such as those of the <dfn id="icu" tabindex="-1">Internationalization Components for Unicode (ICU) library</dfn> (<a href="https://unicode-org.github.io/icu-docs/">https://unicode-org.github.io/icu-docs/</a>), of the .NET framework, or of the Java platform.</p>
  <p>The 1<sup>st</sup> Edition API was developed by an ad-hoc group established by Ecma TC39 in September 2010 based on a proposal by Nebojša Ćirić and Jungshik Shin.</p>
  <p>The 2<sup>nd</sup> Edition API was adopted by the General Assembly of June 2015, as a complement to the ECMAScript 6<sup>th</sup> Edition.</p>
  <p>The 3<sup>rd</sup> Edition API was the first edition released under Ecma TC39's new yearly release cadence and open development process. A plain-text source document was built from the ECMA-402 source document to serve as the base for further development entirely on GitHub. Over the year of this standard's development, dozens of pull requests and issues were filed representing several of bug fixes, editorial fixes and other improvements. Additionally, numerous software tools were developed to aid in this effort including Ecmarkup, Ecmarkdown, and Grammarkdown.</p>
  <p>Dozens of individuals representing many organizations have made very significant contributions within Ecma TC39 to the development of this edition and to the prior editions. In addition, a vibrant community has emerged supporting TC39's ECMAScript efforts. This community has reviewed numerous drafts, filed dozens of bug reports, performed implementation experiments, contributed test suites, and educated the world-wide developer community about ECMAScript Internationalization. Unfortunately, it is impossible to identify and acknowledge every person and organization who has contributed to this effort.</p>
  <p>
    Norbert Lindenberg<br>
    ECMA-402, 1<sup>st</sup> Edition Project Editor
  </p>
  <p>
    Rick Waldron<br>
    ECMA-402, 2<sup>nd</sup> Edition Project Editor
  </p>
  <p>
    Caridy Patiño<br>
    ECMA-402, 3<sup>rd</sup>, 4<sup>th</sup> and 5<sup>th</sup> Editions Project Editor
  </p>
  <p>
    Caridy Patiño, Daniel Ehrenberg, Leo Balter<br>
    ECMA-402, 6<sup>th</sup> Edition Project Editors
  </p>
  <p>
    Leo Balter, Valerie Young, Isaac Durazo<br>
    ECMA-402, 7<sup>th</sup> Edition Project Editors
  </p>
  <p>
    Leo Balter, Richard Gibson<br>
    ECMA-402, 8<sup>th</sup> Edition Project Editors
  </p>
  <p>
    Leo Balter, Richard Gibson, Ujjwal Sharma<br>
    ECMA-402, 9<sup>th</sup> Edition Project Editors
  </p>
  <p>
    Richard Gibson, Ujjwal Sharma<br>
    ECMA-402, 10<sup>th</sup> Edition Project Editors
  </p>
  <p>
    Richard Gibson, Ujjwal Sharma<br>
    ECMA-402, 11<sup>th</sup> Edition Project Editors
  </p>
  <p>
    Ben Allen, Richard Gibson, Ujjwal Sharma<br>
    ECMA-402, 12<sup>th</sup> Edition Project Editors
  </p>
  <p>
    Ben Allen, Richard Gibson, Ujjwal Sharma<br>
    ECMA-402, 13<sup>th</sup> Edition Project Editors
  </p>
</emu-intro>

<emu-clause id="scope">
  <h1><span class="secnum">1</span> Scope</h1>
  <p>This Standard defines the application programming interface for ECMAScript objects that support programs that need to adapt to the linguistic and cultural conventions used by different human languages and countries.</p>
</emu-clause>

<emu-clause id="conformance">
  <h1><span class="secnum">2</span> Conformance</h1>
  <p>A conforming implementation of this specification must conform to <emu-xref href="#ecma262" id="_ref_231"><a href="#ecma262">ECMA-262</a></emu-xref>, and must provide and support all the objects, properties, functions, and program semantics described in this specification. Nothing in this specification is intended to allow behaviour that is otherwise prohibited by <emu-xref href="#ecma262" id="_ref_232"><a href="#ecma262">ECMA-262</a></emu-xref>, and any such conflict should be considered an editorial error rather than an override of constraints from <emu-xref href="#ecma262" id="_ref_233"><a href="#ecma262">ECMA-262</a></emu-xref>.</p>
  <p>A conforming implementation is permitted to provide additional objects, properties, and functions beyond those described in this specification. In particular, a conforming implementation is permitted to provide properties not described in this specification, and values for those properties, for objects that are described herein. A conforming implementation is not permitted to add optional arguments to the functions defined in this specification.</p>
  <p>A conforming implementation is permitted to accept additional values, and then have <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> behaviour instead of throwing a <emu-val>RangeError</emu-val>, for the following properties of <var>options</var> arguments:</p>
  <ul>
    <li>The <var>options</var> property <emu-val>"localeMatcher"</emu-val> in all <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructors</a></emu-xref> and <code>supportedLocalesOf</code> methods.</li>
    <li>The <var>options</var> properties <emu-val>"usage"</emu-val> and <emu-val>"sensitivity"</emu-val> in the Collator <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>.</li>
    <li>The <var>options</var> properties <emu-val>"style"</emu-val>, <emu-val>"currencyDisplay"</emu-val>, <emu-val>"notation"</emu-val>, <emu-val>"compactDisplay"</emu-val>, <emu-val>"signDisplay"</emu-val>, <emu-val>"currencySign"</emu-val>, and <emu-val>"unitDisplay"</emu-val> in the NumberFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>.</li>
    <li>The <var>options</var> properties <emu-val>"minimumIntegerDigits"</emu-val>, <emu-val>"minimumFractionDigits"</emu-val>, <emu-val>"maximumFractionDigits"</emu-val>, <emu-val>"minimumSignificantDigits"</emu-val>, and <emu-val>"maximumSignificantDigits"</emu-val> in the NumberFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>, provided that the additional values are interpreted as <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> values higher than the specified limits.</li>
    <li>The <var>options</var> properties listed in <emu-xref href="#table-datetimeformat-components" id="_ref_1"><a href="#table-datetimeformat-components">Table 16</a></emu-xref> in the DateTimeFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>.</li>
    <li>The <var>options</var> property <emu-val>"formatMatcher"</emu-val> in the DateTimeFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>.</li>
    <li>The <var>options</var> properties <emu-val>"minimumIntegerDigits"</emu-val>, <emu-val>"minimumFractionDigits"</emu-val>, <emu-val>"maximumFractionDigits"</emu-val>, and <emu-val>"minimumSignificantDigits"</emu-val> in the PluralRules <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>, provided that the additional values are interpreted as <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> values higher than the specified limits.</li>
    <li>The <var>options</var> property <emu-val>"type"</emu-val> in the PluralRules <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>.</li>
    <li>The <var>options</var> property <emu-val>"style"</emu-val> and <emu-val>"numeric"</emu-val> in the RelativeTimeFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>.</li>
    <li>The <var>options</var> property <emu-val>"style"</emu-val> and <emu-val>"type"</emu-val> in the DisplayNames <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>.</li>
  </ul>
</emu-clause>

<emu-clause id="normative-references">
  <h1><span class="secnum">3</span> Normative References</h1>
  <p>The following referenced documents are required for the application of this document. For dated references, only the edition cited applies. For undated references, the latest edition of the referenced document (including any amendments) applies.</p>

  <p>
    ECMAScript 2026 Language Specification (<dfn id="ecma262" tabindex="-1">ECMA-262</dfn> 17<sup>th</sup> Edition, or successor).<br>
    <a href="https://www.ecma-international.org/publications/standards/Ecma-262.htm">https://www.ecma-international.org/publications/standards/Ecma-262.htm</a>
  </p>

  <ul>
    <li>
      ISO/IEC 10646:2014: Information Technology – Universal Multiple-Octet Coded Character Set (UCS) plus Amendment 1:2015 and Amendment 2, plus additional amendments and corrigenda, or successor
      <ul>
        <li><a href="https://www.iso.org/iso/catalogue_detail.htm?csnumber=63182">https://www.iso.org/iso/catalogue_detail.htm?csnumber=63182</a></li>
        <li><a href="https://www.iso.org/iso/catalogue_detail.htm?csnumber=65047">https://www.iso.org/iso/catalogue_detail.htm?csnumber=65047</a></li>
        <li><a href="https://www.iso.org/iso/catalogue_detail.htm?csnumber=66791">https://www.iso.org/iso/catalogue_detail.htm?csnumber=66791</a></li>
      </ul>
    </li>
    <li>
      <a href="https://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=64758">ISO 4217:2015, Codes for the representation of currencies and funds, or successor</a>
    </li>
    <li>
      <a href="https://tools.ietf.org/html/rfc4647">IETF RFC 4647, Matching of Language Tags, or successor</a>
    </li>
    <li>
      <a href="https://www.iana.org/time-zones/">IANA Time Zone Database</a>
    </li>
    <li>
      <a href="https://unicode.org/versions/latest">The Unicode Standard</a>
    </li>
    <li>
      <a href="https://unicode.org/reports/tr29/">Unicode Standard Annex #29: Unicode Text Segmentation</a>
    </li>
    <li>
      <a href="https://unicode.org/reports/tr10/">Unicode Technical Standard #10: Unicode Collation Algorithm</a>
    </li>
    <li>
      <a href="https://unicode.org/reports/tr35/">Unicode Technical Standard #35: Unicode Locale Data Markup Language (LDML)</a>
      <ul>
        <li>
          <a href="https://unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers">Part 1 Core, Section 3 Unicode Language and Locale Identifiers</a>
        </li>
        <li>
          <a href="https://unicode.org/reports/tr35/tr35-general.html#Unit_Identifiers">Part 2 General, Section 6.2 Unit Identifiers</a>
        </li>
        <li>
          <a href="https://unicode.org/reports/tr35/tr35-numbers.html#Operands">Part 3 Numbers, Section 5.1.1 Operands</a>
        </li>
      </ul>
    </li>
  </ul>
  <emu-note><span class="note">Note</span><div class="note-contents">
    Sections of this specification that depend on these references are updated on a best-effort basis, but are not guaranteed to be up-to-date with those standards.
  </div></emu-note>
</emu-clause>

<emu-clause id="overview">
  <h1><span class="secnum">4</span> Overview</h1>

  <p>This section is non-normative.</p>

  <emu-clause id="sec-internationalization-localization-globalization">
    <h1><span class="secnum">4.1</span> Internationalization, Localization, and Globalization</h1>

    <p>Internationalization of software means designing it such that it supports or can be easily adapted to support the needs of users speaking different languages and having different cultural expectations, and enables worldwide communication between them. Localization then is the actual adaptation to a specific language and culture. Globalization of software is commonly understood to be the combination of internationalization and localization. Globalization starts at the lowest level by using a text representation that supports all languages in the world, and using standard identifiers to identify languages, countries, time zones, and other relevant parameters. It continues with using a user interface language and data presentation that the user understands, and finally often requires product-specific adaptations to the user's language, culture, and environment.</p>
    <p><emu-xref href="#ecma262" id="_ref_234"><a href="#ecma262">ECMA-262</a></emu-xref> lays the foundation by using Unicode for text representation and by providing a few language-sensitive functions, but gives applications little control over the behaviour of these functions. This specification builds on that foundation by providing a set of customizable language-sensitive functionality. The API is useful even for applications that themselves are not internationalized, as even applications targeting only one language and one region need to properly support that one language and region. However, the API also enables applications that support multiple languages and regions, even concurrently, as may be needed in server environments.</p>
  </emu-clause>

  <emu-clause id="sec-api-overview">
    <h1><span class="secnum">4.2</span> API Overview</h1>

    <p>This specification is designed to complement <emu-xref href="#ecma262" id="_ref_235"><a href="#ecma262">ECMA-262</a></emu-xref> by providing key language-sensitive functionality, and can be added to an implementation thereof in whole or in part. This specification introduces new language values observable to ECMAScript code (such as the value of a <var class="field">[[FallbackSymbol]]</var> internal slot and the set of values transitively reachable from <emu-xref href="#intl-object" id="_ref_236"><a href="#intl-object">%Intl%</a></emu-xref> by <emu-xref href="#sec-property-accessors"><a href="https://tc39.es/ecma262/#sec-property-accessors">property access</a></emu-xref>), and also refines the definition of some functions specified in <emu-xref href="#ecma262" id="_ref_237"><a href="#ecma262">ECMA-262</a></emu-xref> (as described below). Neither category prohibits behaviour that is otherwise permitted for values and interfaces defined in <emu-xref href="#ecma262" id="_ref_238"><a href="#ecma262">ECMA-262</a></emu-xref>, in order to support adoption of this specification by any implementation.</p>
    <p>This specification provides several key pieces of language-sensitive functionality that are required in most applications: locale selection and inspection, string comparison (collation) and case conversion, pluralization rules, text segmentation, and formatting of numbers, absolute and relative dates and times, durations, and lists. While <emu-xref href="#ecma262" id="_ref_239"><a href="#ecma262">ECMA-262</a></emu-xref> provides functions for this basic functionality (on <emu-xref href="#sec-array.prototype"><a href="https://tc39.es/ecma262/#sec-array.prototype">Array.prototype</a></emu-xref>: <code>toLocaleString</code>; on <emu-xref href="#sec-string.prototype"><a href="https://tc39.es/ecma262/#sec-string.prototype">String.prototype</a></emu-xref>: <code>localeCompare</code>, <code>toLocaleLowerCase</code>, <code>toLocaleUpperCase</code>; on <emu-xref href="#sec-number.prototype"><a href="https://tc39.es/ecma262/#sec-number.prototype">Number.prototype</a></emu-xref>: <code>toLocaleString</code>; on <emu-xref href="#sec-date.prototype"><a href="https://tc39.es/ecma262/#sec-date.prototype">Date.prototype</a></emu-xref>: <code>toLocaleString</code>, <code>toLocaleDateString</code>, and <code>toLocaleTimeString</code>), their actual behaviour is left largely implemenation-defined. This specification provides additional functionality, control over the language and over details of the behaviour to be used, and a more complete specification of required functionality.</p>

    <p>Applications can use the API in two ways:</p>
    <ol>
      <li>
        Directly, by using a <emu-xref href="#service-constructor" id="_ref_240"><a href="#service-constructor">service constructor</a></emu-xref> to construct an object, specifying a list of preferred languages and options to configure its behaviour. The object provides a main function (<code>compare</code>, <code>select</code>, <code>format</code>, etc.), which can be called repeatedly. It also provides a <code>resolvedOptions</code> function, which the application can use to find out the exact configuration of the object.
      </li>
      <li>
        Indirectly, by using the functions of <emu-xref href="#ecma262" id="_ref_241"><a href="#ecma262">ECMA-262</a></emu-xref> mentioned above. The collation and formatting functions are respecified in this specification to accept the same arguments as the Collator, NumberFormat, and DateTimeFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructors</a></emu-xref> and produce the same results as their compare or format methods. The case conversion functions are respecified to accept a list of preferred languages.
      </li>
    </ol>

    <p>The <emu-xref href="#intl-object" id="_ref_242"><a href="#intl-object">Intl object</a></emu-xref> is used to package all functionality defined in this specification in order to avoid name collisions.</p>

    <emu-note><span class="note">Note</span><div class="note-contents">While the API includes a variety of formatters, it does not provide any parsing facilities. This is intentional, has been discussed extensively, and concluded after weighing in all the benefits and drawbacks of including said functionality. See the discussion on the <a href="https://github.com/tc39/ecma402/issues/424">issue tracker</a>.</div></emu-note>
  </emu-clause>

  <emu-clause id="sec-api-conventions">
    <h1><span class="secnum">4.3</span> API Conventions</h1>

    <p>Every <emu-xref href="#sec-constructor-properties-of-the-intl-object" id="_ref_2"><a href="#sec-constructor-properties-of-the-intl-object">Intl constructor</a></emu-xref> should behave as if defined by a class, throwing a <emu-val>TypeError</emu-val> exception when called as a function (without NewTarget). For backwards compatibility with past editions, this does not apply to <emu-xref href="#sec-intl-collator-constructor" id="_ref_243"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>, <emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_244"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, or <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_245"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, each of which construct and return a new object when called as a function.</p>

    <emu-note id="legacy-constructor"><span class="note"><a href="#legacy-constructor">Note</a></span><div class="note-contents">
      In ECMA 402 v1, Intl <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructors</a></emu-xref> supported a mode of operation where calling them with an existing object as a receiver would add relevant internal slots to the receiver, effectively transforming it into an instance of the class. In ECMA 402 v2, this capability was removed, to avoid adding internal slots to existing objects. In ECMA 402 v3, the capability was re-added as "normative optional" in a mode which chains the underlying Intl instance on any object, when the <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> is called. See <a href="https://github.com/tc39/ecma402/issues/57">Issue 57</a> for details.
    </div></emu-note>
  </emu-clause>

  <emu-clause id="sec-implementation-dependencies">
    <h1><span class="secnum">4.4</span> Implementation Dependencies</h1>

    <p>Due to the nature of internationalization, this specification has to leave several details implementation dependent:</p>
    <ul>
      <li>
        <em>The set of locales that an implementation supports with adequate localizations:</em> Linguists have described thousands of human languages, with the IANA Language <emu-xref href="#bcp-47-subtag" id="_ref_246"><a href="#bcp-47-subtag">Subtag</a></emu-xref> Registry containing over 7000 primary language <emu-xref href="#bcp-47-subtag" id="_ref_247"><a href="#bcp-47-subtag">subtags</a></emu-xref> (used as the base for locale identifiers). Even large locale data collections, such as the Common Locale Data Repository, cover only a tiny subset of all languages and their regional or dialectical variations. Implementations targeting resource-constrained devices may have to further reduce the subset.
      </li>
      <li>
        <em>The exact form of localizations such as format patterns:</em> In many cases locale-dependent conventions are not standardized, so different forms may exist side by side, or they vary over time. Different internationalization libraries may have implemented different forms, without any of them being actually wrong. In order to allow this API to be implemented on top of existing libraries, such variations have to be permitted.
      </li>
      <li>
        <em>Subsets of Unicode:</em> Some operations, such as collation, operate on strings that can include characters from the entire Unicode character set. However, both the Unicode Standard and the ECMAScript standard allow implementations to limit their functionality to subsets of the Unicode character set. In addition, locale conventions typically don't specify the desired behaviour for the entire Unicode character set, but only for those characters that are relevant for the locale. While the Unicode Collation Algorithm combines a default collation order for the entire Unicode character set with the ability to tailor for local conventions, subsets and tailorings still result in differences in behaviour.
      </li>
    </ul>
    <p>
      In browser implementations the initial set of locales, currencies, calendars, numbering systems, and other enumerable items visible to a particular origin must be the same for all users sharing the same user <emu-xref href="#agent"><a href="https://tc39.es/ecma262/#agent">agent</a></emu-xref> string (engine and platform version). Furthermore, dynamic changes to these sets must not result in users becoming distinguishable from each other. This constraint is imposed to reduce the fingerprinting risk inherent in internationalization, and may be relaxed in future revisions. As a result of this constraint, the first time a browser implementation that allows on-demand locale installation receives a request from a particular origin that could require installing a new locale, it must not reveal whether or not that locale is already installed.
    </p>

    <p>Throughout this specification, implementation- and locale-dependent behaviour is referred to as <dfn tabindex="-1">ILD</dfn>, and implementation-, locale-, and numbering system-dependent behaviour is referred to as <dfn tabindex="-1">ILND</dfn>.</p>

    <emu-clause id="sec-compatibility">
      <h1><span class="secnum">4.4.1</span> Compatibility across implementations</h1>

      <p>
        ECMA 402 describes the schema of the data used by its functions. The
        data contained inside is implementation-dependent, and expected to
        change over time and vary between implementations. The variation is
        visible by programmers, and it is possible to construct programs which
        will depend on a particular output. However, this specification
        attempts to describe reasonable constraints which will allow
        well-written programs to function across implementations.
        Implementations are encouraged to continue their efforts to harmonize
        linguistic data.
      </p>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="conventions">
  <h1><span class="secnum">5</span> Notational Conventions</h1>

  <p>This standard uses a subset of the notational conventions of <emu-xref href="#ecma262" id="_ref_248"><a href="#ecma262">ECMA-262</a></emu-xref>:</p>

  <ul>
    <li>Object Internal Methods and Internal Slots, as described in <emu-xref href="#sec-object-internal-methods-and-internal-slots" title=""><a href="https://tc39.es/ecma262/#sec-object-internal-methods-and-internal-slots">Object Internal Methods and Internal Slots</a></emu-xref>.</li>
    <li>Algorithm conventions, as described in <emu-xref href="#sec-algorithm-conventions" title=""><a href="https://tc39.es/ecma262/#sec-algorithm-conventions">Algorithm Conventions</a></emu-xref>, and the use of <emu-xref href="#sec-algorithm-conventions-abstract-operations"><a href="https://tc39.es/ecma262/#sec-algorithm-conventions-abstract-operations">abstract operations</a></emu-xref> as described in <emu-xref href="#sec-type-conversion" title=""><a href="https://tc39.es/ecma262/#sec-type-conversion">Type Conversion</a></emu-xref>, <emu-xref href="#sec-testing-and-comparison-operations" title=""><a href="https://tc39.es/ecma262/#sec-testing-and-comparison-operations">Testing and Comparison Operations</a></emu-xref>, <emu-xref href="#sec-operations-on-objects" title=""><a href="https://tc39.es/ecma262/#sec-operations-on-objects">Operations on Objects</a></emu-xref>, and <emu-xref href="#sec-operations-on-iterator-objects" title=""><a href="https://tc39.es/ecma262/#sec-operations-on-iterator-objects">Operations on Iterator Objects</a></emu-xref>.</li>
    <li>Internal Slots, as described in <emu-xref href="#sec-ordinary-object-internal-methods-and-internal-slots" title=""><a href="https://tc39.es/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots">Ordinary Object Internal Methods and Internal Slots</a></emu-xref>.</li>
    <li>The <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> and <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> Specification Type, as described in <emu-xref href="#sec-list-and-record-specification-type" title=""><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">The List and Record Specification Types</a></emu-xref>.</li>
  </ul>

  <emu-note><span class="note">Note</span><div class="note-contents">
    As described in <emu-xref href="#ecma262" id="_ref_249"><a href="#ecma262">ECMA-262</a></emu-xref>, algorithms are used to precisely specify the required semantics of ECMAScript constructs, but are not intended to imply the use of any specific implementation technique. Internal slots are used to define the semantics of object values, but are not part of the API. They are defined purely for expository purposes. An implementation of the API must behave as if it produced and operated upon internal slots in the manner described here.
  </div></emu-note>

  <p>As an extension to the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> Specification Type, the notation “[[&lt;<var>name</var>&gt;]]” denotes a field whose name is given by the variable <var>name</var>, which must have a String value. For example, if a variable <var>s</var> has the value <emu-val>"a"</emu-val>, then [[&lt;<var>s</var>&gt;]] denotes the field <var class="field">[[a]]</var>.</p>

  <p>This specification uses blocks demarcated as <span class="normative-optional"><emu-xref href="#sec-conformance"><a href="https://tc39.es/ecma262/#sec-conformance">Normative Optional</a></emu-xref></span> to denote the sense of <a href="https://tc39.es/ecma262/#sec-additional-ecmascript-features-for-web-browsers">Annex B</a> in ECMA 262. That is, normative optional sections are required when the ECMAScript <emu-xref href="#host"><a href="https://tc39.es/ecma262/#host">host</a></emu-xref> is a web browser. The content of the section is normative but optional if the ECMAScript <emu-xref href="#host"><a href="https://tc39.es/ecma262/#host">host</a></emu-xref> is not a web browser.</p>

  <emu-clause id="sec-402-well-known-intrinsic-objects">
    <h1><span class="secnum">5.1</span> Well-Known Intrinsic Objects</h1>

    <p>The following table extends the Well-Known Intrinsic Objects table defined in <emu-xref href="#sec-well-known-intrinsic-objects" title=""><a href="https://tc39.es/ecma262/#sec-well-known-intrinsic-objects">Well-Known Intrinsic Objects</a></emu-xref>.</p>

    <emu-table id="table-402-well-known-intrinsic-objects"><figure><figcaption>Table 1: Well-known Intrinsic Objects (Extensions)</figcaption>
      
      <table class="real-table">
        <thead>
          <tr>
            <th>Intrinsic Name</th>
            <th>Global Name</th>
            <th>ECMAScript Language Association</th>
          </tr>
        </thead>
        <tbody><tr>
          <td><emu-xref href="#intl-object" id="_ref_250"><a href="#intl-object">%Intl%</a></emu-xref></td>
          <td><code>Intl</code></td>
          <td>The <code>Intl</code> object (<emu-xref href="#intl-object" id="_ref_3"><a href="#intl-object">8</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-collator-constructor" id="_ref_251"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref></td>
          <td><code>Intl.Collator</code></td>
          <td>The <code>Intl.Collator</code> <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> (<emu-xref href="#sec-intl-collator-constructor" id="_ref_4"><a href="#sec-intl-collator-constructor">10.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_252"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref></td>
          <td><code>Intl.DateTimeFormat</code></td>
          <td>The <code>Intl.DateTimeFormat</code> <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> (<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_5"><a href="#sec-intl-datetimeformat-constructor">11.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-displaynames-constructor" id="_ref_253"><a href="#sec-intl-displaynames-constructor">%Intl.DisplayNames%</a></emu-xref></td>
          <td><code>Intl.DisplayNames</code></td>
          <td>The <code>Intl.DisplayNames</code> <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> (<emu-xref href="#sec-intl-displaynames-constructor" id="_ref_6"><a href="#sec-intl-displaynames-constructor">12.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-durationformat-constructor" id="_ref_254"><a href="#sec-intl-durationformat-constructor">%Intl.DurationFormat%</a></emu-xref></td>
          <td><code>Intl.DurationFormat</code></td>
          <td>The <code>Intl.DurationFormat</code> <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> (<emu-xref href="#sec-intl-durationformat-constructor" id="_ref_7"><a href="#sec-intl-durationformat-constructor">13.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-listformat-constructor" id="_ref_255"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref></td>
          <td><code>Intl.ListFormat</code></td>
          <td>The <code>Intl.ListFormat</code> <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> (<emu-xref href="#sec-intl-listformat-constructor" id="_ref_8"><a href="#sec-intl-listformat-constructor">14.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-locale-constructor" id="_ref_256"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref></td>
          <td><code>Intl.Locale</code></td>
          <td>The <code>Intl.Locale</code> <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> (<emu-xref href="#sec-intl-locale-constructor" id="_ref_9"><a href="#sec-intl-locale-constructor">15.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-numberformat-constructor" id="_ref_257"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref></td>
          <td><code>Intl.NumberFormat</code></td>
          <td>The <code>Intl.NumberFormat</code> <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> (<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_10"><a href="#sec-intl-numberformat-constructor">16.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_258"><a href="#sec-intl-pluralrules-constructor">%Intl.PluralRules%</a></emu-xref></td>
          <td><code>Intl.PluralRules</code></td>
          <td>The <code>Intl.PluralRules</code> <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> (<emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_11"><a href="#sec-intl-pluralrules-constructor">17.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_259"><a href="#sec-intl-relativetimeformat-constructor">%Intl.RelativeTimeFormat%</a></emu-xref></td>
          <td><code>Intl.RelativeTimeFormat</code></td>
          <td>The <code>Intl.RelativeTimeFormat</code> <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> (<emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_12"><a href="#sec-intl-relativetimeformat-constructor">18.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-intl-segmenter-constructor" id="_ref_260"><a href="#sec-intl-segmenter-constructor">%Intl.Segmenter%</a></emu-xref></td>
          <td><code>Intl.Segmenter</code></td>
          <td>The <code>Intl.Segmenter</code> <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> (<emu-xref href="#sec-intl-segmenter-constructor" id="_ref_13"><a href="#sec-intl-segmenter-constructor">19.1</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-%intlsegmentiteratorprototype%-object" id="_ref_261"><a href="#sec-%intlsegmentiteratorprototype%-object">%IntlSegmentIteratorPrototype%</a></emu-xref></td>
          <td></td>
          <td>The prototype of <emu-xref href="#sec-segment-iterator-objects" id="_ref_262"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> objects (<emu-xref href="#sec-%intlsegmentiteratorprototype%-object" id="_ref_14"><a href="#sec-%intlsegmentiteratorprototype%-object">19.6.2</a></emu-xref>)</td>
        </tr>
        <tr>
          <td><emu-xref href="#sec-%intlsegmentsprototype%-object" id="_ref_263"><a href="#sec-%intlsegmentsprototype%-object">%IntlSegmentsPrototype%</a></emu-xref></td>
          <td></td>
          <td>The prototype of Segments objects (<emu-xref href="#sec-%intlsegmentsprototype%-object" id="_ref_15"><a href="#sec-%intlsegmentsprototype%-object">19.5.2</a></emu-xref>)</td>
        </tr>
      </tbody></table>
    </figure></emu-table>
  </emu-clause>
</emu-clause>

<emu-clause id="locales-currencies-tz">
  <h1><span class="secnum">6</span> Identification of Locales, Currencies, Time Zones, Measurement Units, Numbering Systems, Collations, and Calendars</h1>

  <p>This clause describes the String values used in this specification to identify locales, currencies, time zones, measurement units, numbering systems, collations, calendars, and pattern strings.</p>

  <emu-clause id="sec-case-sensitivity-and-case-mapping">
    <h1><span class="secnum">6.1</span> Case Sensitivity and Case Mapping</h1>

    <p>The String values used to identify locales, currencies, scripts, and time zones are interpreted in an ASCII-case-insensitive manner, treating the code units 0x0041 through 0x005A (corresponding to Unicode characters LATIN CAPITAL LETTER A through LATIN CAPITAL LETTER Z) as equivalent to the corresponding code units 0x0061 through 0x007A (corresponding to Unicode characters LATIN SMALL LETTER A through LATIN SMALL LETTER Z), both inclusive. No other case folding equivalences are applied.</p>
    <emu-note><span class="note">Note</span><div class="note-contents">
      For example, <emu-val>"ß"</emu-val> (U+00DF) must not match or be mapped to <emu-val>"SS"</emu-val> (U+0053, U+0053). <emu-val>"ı"</emu-val> (U+0131) must not match or be mapped to <emu-val>"I"</emu-val> (U+0049).
    </div></emu-note>
    <p>The <dfn tabindex="-1">ASCII-uppercase</dfn> of a String value <var>S</var> is the String value derived from <var>S</var> by replacing each occurrence of an ASCII lowercase letter code unit (0x0061 through 0x007A, inclusive) with the corresponding ASCII uppercase letter code unit (0x0041 through 0x005A, inclusive) while preserving all other code units.</p>
    <p>The <dfn tabindex="-1">ASCII-lowercase</dfn> of a String value <var>S</var> is the String value derived from <var>S</var> by replacing each occurrence of an ASCII uppercase letter code unit (0x0041 through 0x005A, inclusive) with the corresponding ASCII lowercase letter code unit (0x0061 through 0x007A, inclusive) while preserving all other code units.</p>
    <p>A String value <var>A</var> is an <dfn tabindex="-1">ASCII-case-insensitive match</dfn> for String value <var>B</var> if the ASCII-uppercase of <var>A</var> is exactly the same sequence of code units as the ASCII-uppercase of <var>B</var>. A sequence of Unicode code points <var>A</var> is an ASCII-case-insensitive match for <var>B</var> if <var>B</var> is an ASCII-case-insensitive match for <emu-xref aoid="CodePointsToString"><a href="https://tc39.es/ecma262/#sec-codepointstostring">CodePointsToString</a></emu-xref>(<var>A</var>).</p>
  </emu-clause>

  <emu-clause id="sec-language-tags">
    <h1><span class="secnum">6.2</span> Language Tags</h1>

    <p>
      This specification identifies locales using <dfn variants="Unicode BCP 47 locale identifier" tabindex="-1">Unicode BCP 47 locale identifiers</dfn> as defined by <a href="https://unicode.org/reports/tr35/#BCP_47_Conformance">Unicode Technical Standard #35 Part 1 Core, Section 3.3 BCP 47 Conformance</a>, and its algorithms refer to <dfn variants="Unicode locale nonterminal" tabindex="-1">Unicode locale nonterminals</dfn> defined in the grammars of <a href="https://unicode.org/reports/tr35/#Unicode_Language_and_Locale_Identifiers">Section 3 Unicode Language and Locale Identifiers</a>.
      Each such identifier can also be referred to as a <dfn variants="language tags" tabindex="-1">language tag</dfn>, and is in fact a valid language tag as that term is used in <a href="https://www.rfc-editor.org/rfc/bcp/bcp47.txt">BCP 47</a>.
      A locale identifier in canonical form as specified in <a href="https://unicode.org/reports/tr35/#Canonical_Unicode_Locale_Identifiers">Unicode Technical Standard #35 Part 1 Core, Section 3.2.1 Canonical Unicode Locale Identifiers</a> is referred to as a "<dfn variants="Unicode canonicalized locale identifiers" tabindex="-1">Unicode canonicalized locale identifier</dfn>".
    </p>

    <p>
      Locale identifiers consist of case-insensitive Unicode Basic Latin alphanumeric <dfn id="bcp-47-subtag" variants="subtag" tabindex="-1">subtags</dfn> separated by <emu-val>"-"</emu-val> (U+002D HYPHEN-MINUS) characters, with single-character <emu-not-ref>subtags</emu-not-ref> referred to as "<dfn variants="singleton subtag" tabindex="-1">singleton subtags</dfn>".
      <a href="https://unicode.org/reports/tr35/#u_Extension">Unicode Technical Standard #35 Part 1 Core, Section 3.6 Unicode BCP 47 U Extension</a> <emu-xref href="#bcp-47-subtag" id="_ref_264"><a href="#bcp-47-subtag">subtag</a></emu-xref> sequences are used extensively, and the term "<dfn id="unicode-locale-extension-sequence" oldids="sec-unicode-locale-extension-sequences" variants="Unicode locale extension sequences" tabindex="-1"><span id="sec-unicode-locale-extension-sequences"></span>Unicode locale extension sequence</dfn>" describes the longest <emu-not-ref>substring</emu-not-ref> of a language tag that can be matched by the <code>unicode_locale_extensions</code> Unicode locale nonterminal and is not part of a <emu-val>"-x-…"</emu-val> private use <emu-not-ref>subtag sequence</emu-not-ref>. It starts with <emu-val>"-u-"</emu-val> and includes all immediately following <emu-not-ref>subtags</emu-not-ref> that are not singleton subtags, along with their preceding <emu-val>"-"</emu-val> separators. For example, the <emu-not-ref>Unicode locale extension sequence</emu-not-ref> of <emu-val>"en-US-u-fw-mon-x-u-ex-foobar"</emu-val> is <emu-val>"-u-fw-mon"</emu-val>.
    </p>

    <p>All <emu-xref href="#sec-isstructurallyvalidlanguagetag" id="_ref_16"><a href="#sec-isstructurallyvalidlanguagetag">structurally valid language tags</a></emu-xref> are appropriate for use with the APIs defined by this specification, but implementations are not required to use Unicode Common Locale Data Repository (<a href="https://cldr.unicode.org">CLDR</a>) data for validating them; the set of locales and thus language tags that an implementation supports with adequate localizations is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref>. <emu-xref href="#sec-constructor-properties-of-the-intl-object" id="_ref_17"><a href="#sec-constructor-properties-of-the-intl-object">Intl constructors</a></emu-xref> map requested language tags to locales supported by their respective implementations.</p>

    <emu-clause id="sec-isstructurallyvalidlanguagetag" type="abstract operation" aoid="IsStructurallyValidLanguageTag">
      <h1><span class="secnum">6.2.1</span> IsStructurallyValidLanguageTag ( <var>locale</var> )</h1>
      <p>The abstract operation IsStructurallyValidLanguageTag takes argument <var>locale</var> (a String) and returns a Boolean. It determines whether <var>locale</var> is a syntactically well-formed <emu-xref href="#sec-language-tags" id="_ref_265"><a href="#sec-language-tags">language tag</a></emu-xref>. It does not consider whether <var>locale</var> conveys any meaningful semantics, nor does it differentiate between aliased <emu-xref href="#bcp-47-subtag" id="_ref_266"><a href="#bcp-47-subtag">subtags</a></emu-xref> and their preferred replacement <emu-xref href="#bcp-47-subtag" id="_ref_267"><a href="#bcp-47-subtag">subtags</a></emu-xref> or require canonical casing or <emu-xref href="#bcp-47-subtag" id="_ref_268"><a href="#bcp-47-subtag">subtag</a></emu-xref> ordering. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>lowerLocale</var> be the <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_269"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-lowercase</a></emu-xref> of <var>locale</var>.</li><li>If <var>lowerLocale</var> cannot be matched by the <code>unicode_locale_id</code> <emu-xref href="#sec-language-tags" id="_ref_270"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, return <emu-val>false</emu-val>.</li><li>If <var>lowerLocale</var> uses any of the backwards compatibility syntax described in <a href="https://unicode.org/reports/tr35/#BCP_47_Conformance">Unicode Technical Standard #35 Part 1 Core, Section 3.3 BCP 47 Conformance</a>, return <emu-val>false</emu-val>.</li><li>Let <var>baseName</var> be <emu-xref aoid="GetLocaleBaseName" id="_ref_271"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>lowerLocale</var>).</li><li>Let <var>variants</var> be <emu-xref aoid="GetLocaleVariants" id="_ref_272"><a href="#sec-getlocalevariants">GetLocaleVariants</a></emu-xref>(<var>baseName</var>).</li><li>If <var>variants</var> is not <emu-val>undefined</emu-val>, then<ol><li>If <var>variants</var> contains any duplicate <emu-xref href="#bcp-47-subtag" id="_ref_273"><a href="#bcp-47-subtag">subtags</a></emu-xref>, return <emu-val>false</emu-val>.</li></ol></li><li>Let <var>extensions</var> be the suffix of <var>lowerLocale</var> following <var>baseName</var>.</li><li>NOTE: A <emu-val>"-x-…"</emu-val> private use <emu-xref href="#bcp-47-subtag" id="_ref_274"><a href="#bcp-47-subtag">subtag</a></emu-xref> sequence matched by the <code>pu_extensions</code> <emu-xref href="#sec-language-tags" id="_ref_275"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref> must be ignored, but an isolated final <emu-val>"x"</emu-val> <emu-xref href="#bcp-47-subtag" id="_ref_276"><a href="#bcp-47-subtag">subtag</a></emu-xref> with no following content does not affect any of the below checks.</li><li>Let <var>puIndex</var> be <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>extensions</var>, <emu-val>"-x-"</emu-val>, 0).</li><li>If <var>puIndex</var> is not <emu-const>not-found</emu-const>, set <var>extensions</var> to the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>extensions</var> from 0 to <var>puIndex</var>.</li><li>If <var>extensions</var> is not the empty String, then<ol><li>If <var>extensions</var> contains any duplicate <emu-xref href="#sec-language-tags" id="_ref_277"><a href="#sec-language-tags">singleton subtags</a></emu-xref>, return <emu-val>false</emu-val>.</li><li>Let <var>transformExtension</var> be the longest <emu-not-ref>substring</emu-not-ref> of <var>extensions</var> matched by the <code>transformed_extensions</code> <emu-xref href="#sec-language-tags" id="_ref_278"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>. If there is no such <emu-not-ref>substring</emu-not-ref>, return <emu-val>true</emu-val>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: The <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>transformExtension</var> from 0 to 3 is <emu-val>"-t-"</emu-val>.</li><li>Let <var>tPrefix</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>transformExtension</var> from 3.</li><li>Let <var>tlang</var> be the longest prefix of <var>tPrefix</var> matched by the <code>tlang</code> <emu-xref href="#sec-language-tags" id="_ref_279"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>. If there is no such prefix, return <emu-val>true</emu-val>.</li><li>Let <var>tlangVariants</var> be <emu-xref aoid="GetLocaleVariants" id="_ref_280"><a href="#sec-getlocalevariants">GetLocaleVariants</a></emu-xref>(<var>tlang</var>).</li><li>If <var>tlangVariants</var> contains any duplicate <emu-xref href="#bcp-47-subtag" id="_ref_281"><a href="#bcp-47-subtag">subtags</a></emu-xref>, return <emu-val>false</emu-val>.</li></ol></li><li>Return <emu-val>true</emu-val>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-canonicalizeunicodelocaleid" type="abstract operation" aoid="CanonicalizeUnicodeLocaleId">
      <h1><span class="secnum">6.2.2</span> CanonicalizeUnicodeLocaleId ( <var>locale</var> )</h1>
      <p>The abstract operation CanonicalizeUnicodeLocaleId takes argument <var>locale</var> (a <emu-xref href="#sec-language-tags" id="_ref_282"><a href="#sec-language-tags">language tag</a></emu-xref>) and returns a <emu-xref href="#sec-language-tags" id="_ref_283"><a href="#sec-language-tags">Unicode canonicalized locale identifier</a></emu-xref>. It returns the canonical and case-regularized form of <var>locale</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>localeId</var> be the String value resulting from performing the algorithm to transform <var>locale</var> to canonical form per <a href="https://unicode.org/reports/tr35/#LocaleId_Canonicalization">Unicode Technical Standard #35 Part 1 Core, Annex C LocaleId Canonicalization</a> (note that the algorithm begins with canonicalizing syntax only).</li><li id="step-canonicalizeunicodelocaleid-u-extension">If <var>localeId</var> contains a <emu-not-ref>substring</emu-not-ref> that is a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_284"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref>, then<ol><li>Let <var>extension</var> be the String value consisting of the <emu-not-ref>substring</emu-not-ref> of the <emu-xref href="#unicode-locale-extension-sequence" id="_ref_285"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> within <var>localeId</var>.</li><li>Let <var>newExtension</var> be <emu-val>"-u"</emu-val>.</li><li>Let <var>components</var> be <emu-xref aoid="UnicodeExtensionComponents" id="_ref_286"><a href="#sec-unicode-extension-components">UnicodeExtensionComponents</a></emu-xref>(<var>extension</var>).</li><li>For each element <var>attr</var> of <var>components</var>.<var class="field">[[Attributes]]</var>, do<ol><li>Set <var>newExtension</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>newExtension</var>, <emu-val>"-"</emu-val>, and <var>attr</var>.</li></ol></li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Key]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>keyword</var> of <var>components</var>.<var class="field">[[Keywords]]</var>, do<ol><li>Set <var>newExtension</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>newExtension</var>, <emu-val>"-"</emu-val>, and <var>keyword</var>.<var class="field">[[Key]]</var>.</li><li>If <var>keyword</var>.<var class="field">[[Value]]</var> is not the empty String, then<ol><li>Set <var>newExtension</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>newExtension</var>, <emu-val>"-"</emu-val>, and <var>keyword</var>.<var class="field">[[Value]]</var>.</li></ol></li></ol></li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>newExtension</var> is not <emu-val>"-u"</emu-val>.</li><li>Set <var>localeId</var> to a copy of <var>localeId</var> in which the first appearance of <emu-not-ref>substring</emu-not-ref> <var>extension</var> has been replaced with <var>newExtension</var>.</li></ol></li><li>Return <var>localeId</var>.</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        Step <emu-xref href="#step-canonicalizeunicodelocaleid-u-extension" id="_ref_18"><a href="#step-canonicalizeunicodelocaleid-u-extension">2</a></emu-xref> ensures that a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_287"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> in the returned <emu-xref href="#sec-language-tags" id="_ref_288"><a href="#sec-language-tags">language tag</a></emu-xref> contains:
        <ul>
          <li>only the first instance of any attribute duplicated in the input, and</li>
          <li>only the first <emu-not-ref>keyword</emu-not-ref> for a given key in the input.</li>
        </ul>
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-defaultlocale" type="implementation-defined abstract operation" aoid="DefaultLocale">
      <h1><span class="secnum">6.2.3</span> DefaultLocale ( )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation DefaultLocale takes no arguments and returns a <emu-xref href="#sec-language-tags" id="_ref_289"><a href="#sec-language-tags">Unicode canonicalized locale identifier</a></emu-xref>. The returned String value represents the structurally valid (<emu-xref href="#sec-isstructurallyvalidlanguagetag" id="_ref_19"><a href="#sec-isstructurallyvalidlanguagetag">6.2.1</a></emu-xref>) and canonicalized (<emu-xref href="#sec-canonicalizeunicodelocaleid" id="_ref_20"><a href="#sec-canonicalizeunicodelocaleid">6.2.2</a></emu-xref>) <emu-xref href="#sec-language-tags" id="_ref_290"><a href="#sec-language-tags">language tag</a></emu-xref> for the <emu-xref href="#host-environment"><a href="https://tc39.es/ecma262/#host-environment">host environment</a></emu-xref>'s current locale. It must not contain a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_291"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref>.</p>
      <emu-note><span class="note">Note</span><div class="note-contents">
        The returned value is is a potential fingerprinting vector. In browser environments, it should match <a href="https://html.spec.whatwg.org/#language-preferences"><code>navigator.language</code></a> to avoid providing any additional distinguishing information.
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-currency-codes">
    <h1><span class="secnum">6.3</span> Currency Codes</h1>

    <p>This specification identifies currencies using 3-letter currency codes as defined by ISO 4217. Their canonical form is uppercase.</p>

    <p>All well-formed 3-letter ISO 4217 currency codes are allowed. However, the set of combinations of currency code and <emu-xref href="#sec-language-tags" id="_ref_292"><a href="#sec-language-tags">language tag</a></emu-xref> for which localized currency symbols are available is implementation dependent. Where a localized currency symbol is not available, the ISO 4217 currency code is used for formatting.</p>

    <emu-clause id="sec-iswellformedcurrencycode" type="abstract operation" aoid="IsWellFormedCurrencyCode">
      <h1><span class="secnum">6.3.1</span> IsWellFormedCurrencyCode ( <var>currency</var> )</h1>
      <p>The abstract operation IsWellFormedCurrencyCode takes argument <var>currency</var> (a String) and returns a Boolean. It verifies that the <var>currency</var> argument represents a well-formed 3-letter ISO 4217 currency code. It performs the following steps when called:</p>
      <emu-alg><ol><li>If the length of <var>currency</var> is not 3, return <emu-val>false</emu-val>.</li><li>Let <var>normalized</var> be the <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_293"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-uppercase</a></emu-xref> of <var>currency</var>.</li><li>If <var>normalized</var> contains any code unit outside of 0x0041 through 0x005A (corresponding to Unicode characters LATIN CAPITAL LETTER A through LATIN CAPITAL LETTER Z), return <emu-val>false</emu-val>.</li><li>Return <emu-val>true</emu-val>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-availablecanonicalcurrencies" type="implementation-defined abstract operation" aoid="AvailableCanonicalCurrencies">
    <h1><span class="secnum">6.4</span> AvailableCanonicalCurrencies ( )</h1>
    <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation AvailableCanonicalCurrencies takes no arguments and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings. The returned <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> is sorted according to <emu-xref href="#lexicographic-code-unit-order"><a href="https://tc39.es/ecma262/#lexicographic-code-unit-order">lexicographic code unit order</a></emu-xref>, and contains unique, well-formed, and upper case canonicalized 3-letter ISO 4217 currency codes, identifying the currencies for which the implementation provides the functionality of Intl.DisplayNames and Intl.NumberFormat objects.</p>
  </emu-clause>

  <emu-clause id="sec-use-of-iana-time-zone-database" oldids="sec-time-zone-names"><span id="sec-time-zone-names"></span>
    <h1><span class="secnum">6.5</span> Use of the IANA Time Zone Database</h1>

    <p>
      Implementations that adopt this specification must be <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">time zone aware</a></emu-xref>: they must use the IANA Time Zone Database <a href="https://www.iana.org/time-zones/">https://www.iana.org/time-zones/</a> to supply <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifiers</a></emu-xref> and data used in ECMAScript calculations and formatting.
      This section defines how the IANA Time Zone Database should be used by <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">time zone aware</a></emu-xref> implementations.
      No String may be an <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifier</a></emu-xref> unless it is a Zone name or a Link name in the IANA Time Zone Database.
      <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">Available named time zone identifiers</a></emu-xref> returned by ECMAScript built-in objects must use the casing found in the IANA Time Zone Database.
    </p>
    <p>Each Zone in the IANA Time Zone Database must be a <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifier</a></emu-xref> and each Link name in the IANA Time Zone Database must be a <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">non-primary time zone identifier</a></emu-xref> that resolves to its corresponding Zone name, with the following exceptions implemented in <emu-xref aoid="AvailableNamedTimeZoneIdentifiers" id="_ref_294"><a href="#sup-availablenamedtimezoneidentifiers">AvailableNamedTimeZoneIdentifiers</a></emu-xref>:</p>
    <ul>
      <li>
        For historical reasons, <emu-val>"UTC"</emu-val> must be a <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifier</a></emu-xref>.
        <emu-val>"Etc/UTC"</emu-val>, <emu-val>"Etc/GMT"</emu-val>, and <emu-val>"GMT"</emu-val>, as well as all Link names that resolve to any of them, must be non-primary time identifiers that resolve to <emu-val>"UTC"</emu-val>.
      </li>
      <li>
        Any Link name that is present in the “TZ” column of file <code>zone.tab</code> must be a <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifier</a></emu-xref>.
        For example, both <emu-val>"Europe/Prague"</emu-val> and <emu-val>"Europe/Bratislava"</emu-val> must be <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifiers</a></emu-xref>.
        This requirement guarantees at least one <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifier</a></emu-xref> for each <a href="https://www.iso.org/glossary-for-iso-3166.html">ISO 3166-1 Alpha-2</a> country code, and ensures that future changes to time zone rules of one country will not affect ECMAScript programs that use another country's time zone(s), unless those countries' territorial boundaries have also changed.
      </li>
      <li>
        Any Link name that is not listed in the “TZ” column of file <code>zone.tab</code> and that represents a geographical area entirely contained within the territory of a single <a href="https://www.iso.org/glossary-for-iso-3166.html">ISO 3166-1 Alpha-2</a> country code must resolve to a primary identifier that also represents a geographical area entirely contained within the territory of the same country code.
        For example, <emu-val>"Atlantic/Jan_Mayen"</emu-val> must resolve to <emu-val>"Arctic/Longyearbyen"</emu-val>.
      </li>
    </ul>

    <emu-note><span class="note">Note</span><div class="note-contents">
      <p>
        The IANA Time Zone Database offers build options that affect which <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifiers</a></emu-xref> are primary.
        The default build options merge different countries' time zones, for example <emu-val>"Atlantic/Reykjavik"</emu-val> is built as a Link to the Zone <emu-val>"Africa/Abidjan"</emu-val>.
        Geographically and politically distinct locations are likely to introduce divergent time zone rules in a future version of the IANA Time Zone Database.
        The exceptions above serve to mitigate these future-compatibility issues.
      </p>
      <p>
        The Unicode Common Locale Data Repository (<a href="https://cldr.unicode.org">CLDR</a>) implements most of the exceptions above when determining which <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifiers</a></emu-xref> are primary or non-primary.
        Although use of CLDR data is recommended for consistency between implementations, it is not required.
        Non-CLDR-based implementations can still use CLDR's identifier data in <a href="https://github.com/unicode-org/cldr/blob/main/common/bcp47/timezone.xml"><code>timezone.xml</code></a>.
        Implementations may also build the IANA Time Zone Database directly, for example by using build options such as <code>PACKRATDATA=backzone PACKRATLIST=zone.tab</code> and performing any post-processing needed to ensure compliance with the requirements above.
      </p>
    </div></emu-note>

    <p>
      The IANA Time Zone Database is typically updated between five and ten times per year.
      These updates may add new Zone or Link names, may change Zones to Links, and may change the UTC offsets and transitions associated with any Zone.
      Implementations are recommended to include updates to the IANA Time Zone Database as soon as possible.
      Such prompt action ensures that ECMAScript programs can accurately perform time-zone-sensitive calculations and can use newly-added <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifiers</a></emu-xref> supplied by external input or the <emu-xref href="#host-environment"><a href="https://tc39.es/ecma262/#host-environment">host environment</a></emu-xref>.
    </p>
    <p>
      Although the IANA Time Zone Database maintainers strive for stability, in rare cases (averaging less than once per year) a Zone may be replaced by a new Zone.
      For example, in 2022 "<emu-val>Europe/Kiev</emu-val>" was deprecated to a Link resolving to a new "<emu-val>Europe/Kyiv</emu-val>" Zone.
      The deprecated Link is called a <dfn variants="renamed time zone identifiers" tabindex="-1">renamed time zone identifier</dfn> and the newly-added Zone is called a <dfn variants="replacement time zone identifiers" tabindex="-1">replacement time zone identifier</dfn>.
    </p>
    <p>
      To reduce disruption from these infrequent changes, implementations should initially add each replacement time zone identifier as a <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">non-primary time zone identifier</a></emu-xref> that resolves to the existing renamed time zone identifier.
      This allows ECMAScript programs to recognize both identifiers, but also reduces the chance that an ECMAScript program will send the replacement time zone identifier to another system that does not yet recognize it.
      After a <dfn id="rename-waiting-period" tabindex="-1">rename waiting period</dfn>, implementations should promote the new Zone to a <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifier</a></emu-xref> while simultaneously demoting the renamed time zone identifier to non-primary.
      To provide ample time for other systems to be updated, the recommended <emu-xref href="#rename-waiting-period" id="_ref_295"><a href="#rename-waiting-period">rename waiting period</a></emu-xref> is two years.
      However, it does not need to be either exact or dynamic.
      Instead, implementations should make the replacement time zone identifier primary after the waiting period as part of their normal release process for updating time zone data.
    </p>
    <p>
      A waiting period should only apply when a new Zone is added to replace an existing Zone.
      If an existing Zone and Link are swapped, then no renaming has happened and no waiting period is necessary.
    </p>

    <p>
      If implementations revise time zone information during the lifetime of an <emu-xref href="#agent"><a href="https://tc39.es/ecma262/#agent">agent</a></emu-xref>, then it is required that the list of <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifiers</a></emu-xref>, the <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifier</a></emu-xref> associated with any <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifier</a></emu-xref>, and the UTC offsets and transitions associated with any <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifier</a></emu-xref>, be consistent with results previously observed by that <emu-xref href="#agent"><a href="https://tc39.es/ecma262/#agent">agent</a></emu-xref>.
      Due to the complexity of supporting this requirement, it is recommended that implementations maintain a fully consistent copy of the IANA Time Zone Database for the lifetime of each <emu-xref href="#agent"><a href="https://tc39.es/ecma262/#agent">agent</a></emu-xref>.
    </p>

    <p>This section complements but does not supersede <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">21.4.1.19</a></emu-xref>.</p>

    <emu-clause id="sup-availablenamedtimezoneidentifiers" oldids="sec-availabletimezones" type="implementation-defined abstract operation" aoid="AvailableNamedTimeZoneIdentifiers"><span id="sec-availabletimezones"></span>
      <h1><span class="secnum">6.5.1</span> AvailableNamedTimeZoneIdentifiers ( )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation AvailableNamedTimeZoneIdentifiers takes no arguments and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-time-zone-identifier-record"><a href="https://tc39.es/ecma262/#sec-time-zone-identifier-record">Time Zone Identifier Records</a></emu-xref>. 
          Its result describes all <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifiers</a></emu-xref> in this implementation, as well as the <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifier</a></emu-xref> corresponding to each <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifier</a></emu-xref>.
          The <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> is ordered according to the <var class="field">[[Identifier]]</var> field of each <emu-xref href="#sec-time-zone-identifier-record"><a href="https://tc39.es/ecma262/#sec-time-zone-identifier-record">Time Zone Identifier Record</a></emu-xref>.
        </p>
      <p>This definition supersedes the definition provided in <emu-xref href="#sec-availablenamedtimezoneidentifiers"><a href="https://tc39.es/ecma262/#sec-availablenamedtimezoneidentifiers">21.4.1.23</a></emu-xref>.</p>
      <emu-alg><ol><li>Let <var>identifiers</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> containing the String value of each Zone or Link name in the IANA Time Zone Database.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: No element of <var>identifiers</var> is an <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_296"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-case-insensitive match</a></emu-xref> for any other element.</li><li>Sort <var>identifiers</var> according to <emu-xref href="#lexicographic-code-unit-order"><a href="https://tc39.es/ecma262/#lexicographic-code-unit-order">lexicographic code unit order</a></emu-xref>.</li><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each element <var>identifier</var> of <var>identifiers</var>, do<ol><li>Let <var>primary</var> be <var>identifier</var>.</li><li>If <var>identifier</var> is a Link name in the IANA Time Zone Database and <var>identifier</var> is not present in the “TZ” column of <code>zone.tab</code> of the IANA Time Zone Database, then<ol><li>Let <var>zone</var> be the Zone name that <var>identifier</var> resolves to, according to the rules for resolving Link names in the IANA Time Zone Database.</li><li>If <var>zone</var> starts with <emu-val>"Etc/"</emu-val>, then<ol><li>Set <var>primary</var> to <var>zone</var>.</li></ol></li><li>Else,<ol><li>Let <var>identifierCountryCode</var> be the <a href="https://www.iso.org/glossary-for-iso-3166.html">ISO 3166-1 Alpha-2</a> country code whose territory contains the geographical area corresponding to <var>identifier</var>.</li><li>Let <var>zoneCountryCode</var> be the ISO 3166-1 Alpha-2 country code whose territory contains the geographical area corresponding to <var>zone</var>.</li><li>If <var>identifierCountryCode</var> is <var>zoneCountryCode</var>, then<ol><li>Set <var>primary</var> to <var>zone</var>.</li></ol></li><li>Else,<ol><li>Let <var>countryCodeLineCount</var> be the number of lines in file <code>zone.tab</code> of the IANA Time Zone Database where the “country-code” column is <var>identifierCountryCode</var>.</li><li>If <var>countryCodeLineCount</var> is 1, then<ol><li>Let <var>countryCodeLine</var> be the line in file <code>zone.tab</code> of the IANA Time Zone Database where the “country-code” column is <var>identifierCountryCode</var>.</li><li>Set <var>primary</var> to the contents of the “TZ” column of <var>countryCodeLine</var>.</li></ol></li><li>Else,<ol><li>Let <var>backzone</var> be <emu-val>undefined</emu-val>.</li><li>Let <var>backzoneLinkLines</var> be the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of lines in the file <code>backzone</code> of the IANA Time Zone Database that start with either <emu-val>"Link "</emu-val> or <emu-val>"#PACKRATLIST zone.tab Link "</emu-val>.</li><li>For each element <var>line</var> of <var>backzoneLinkLines</var>, do<ol><li>Let <var>i</var> be <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>line</var>, <emu-val>"Link "</emu-val>, 0).</li><li>Set <var>line</var> to the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>line</var> from <var>i</var> + 5.</li><li>Let <var>backzoneAndLink</var> be <emu-xref aoid="StringSplitToList" id="_ref_297"><a href="#sec-string-split-to-list">StringSplitToList</a></emu-xref>(<var>line</var>, <emu-val>" "</emu-val>).</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>backzoneAndLink</var> has at least two elements, and both <var>backzoneAndLink</var>[0] and <var>backzoneAndLink</var>[1] are <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifiers</a></emu-xref>.</li><li>If <var>backzoneAndLink</var>[1] is <var>identifier</var>, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>backzone</var> is <emu-val>undefined</emu-val>.</li><li>Set <var>backzone</var> to <var>backzoneAndLink</var>[0].</li></ol></li></ol></li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>backzone</var> is not <emu-val>undefined</emu-val>.</li><li>Set <var>primary</var> to <var>backzone</var>.</li></ol></li></ol></li></ol></li></ol></li><li>If <var>primary</var> is one of <emu-val>"Etc/UTC"</emu-val>, <emu-val>"Etc/GMT"</emu-val>, or <emu-val>"GMT"</emu-val>, set <var>primary</var> to <emu-val>"UTC"</emu-val>.</li><li>If <var>primary</var> is a <emu-xref href="#sec-use-of-iana-time-zone-database" id="_ref_298"><a href="#sec-use-of-iana-time-zone-database">replacement time zone identifier</a></emu-xref> and its <emu-xref href="#rename-waiting-period" id="_ref_299"><a href="#rename-waiting-period">rename waiting period</a></emu-xref> has not concluded, then<ol><li>Let <var>renamedIdentifier</var> be the <emu-xref href="#sec-use-of-iana-time-zone-database" id="_ref_300"><a href="#sec-use-of-iana-time-zone-database">renamed time zone identifier</a></emu-xref> that <var>primary</var> replaced.</li><li>Set <var>primary</var> to <var>renamedIdentifier</var>.</li></ol></li><li>Let <var>record</var> be the <emu-xref href="#sec-time-zone-identifier-record"><a href="https://tc39.es/ecma262/#sec-time-zone-identifier-record">Time Zone Identifier Record</a></emu-xref> { <var class="field">[[Identifier]]</var>: <var>identifier</var>, <var class="field">[[PrimaryIdentifier]]</var>: <var>primary</var>&nbsp;}.</li><li>Append <var>record</var> to <var>result</var>.</li></ol></li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>result</var> contains a <emu-xref href="#sec-time-zone-identifier-record"><a href="https://tc39.es/ecma262/#sec-time-zone-identifier-record">Time Zone Identifier Record</a></emu-xref> <var>r</var> such that <var>r</var>.<var class="field">[[Identifier]]</var> is <emu-val>"UTC"</emu-val> and <var>r</var>.<var class="field">[[PrimaryIdentifier]]</var> is <emu-val>"UTC"</emu-val>.</li><li>Return <var>result</var>.</li></ol></emu-alg>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        <p>The algorithm above for resolving Links to <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifiers</a></emu-xref> is intended to correspond to the behaviour of <code>icu::TimeZone::getIanaID()</code> in the International Components for Unicode (<a href="https://icu.unicode.org/">ICU</a>) and the processes for maintaining <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">time zone identifier</a></emu-xref> data in the Unicode Common Locale Data Repository (<a href="https://cldr.unicode.org">CLDR</a>).</p>
        <p>
          This algorithm resolves Links to <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifiers</a></emu-xref> without crossing the boundaries of ISO 3166-1 Alpha-2 country codes, using data from files <code>zone.tab</code> and <code>backzone</code> of the IANA Time Zone Database.
          If the country code of a Link has only one line in <code>zone.tab</code>, then that line will determine the <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifier</a></emu-xref>.
          However, if that country code has multiple lines in <code>zone.tab</code>, then historical mappings in <code>backzone</code> must be used to identify the correct <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifier</a></emu-xref>.
        </p>
        <p>
          For example, to resolve "Pacific/Truk" (in country code "FM") if the default build options of the IANA Time Zone Database identify it as a Link to "Pacific/Port_Moresby" (in country code "PG"), then the “country-code” column of <code>zone.tab</code> must be checked for lines corresponding with "FM".
          If there were only one such line, then the “TZ” column of that line would determine the <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifier</a></emu-xref> associated with "Pacific/Truk".
          But if there are multiple "FM" lines in <code>zone.tab</code>, then <code>backzone</code> must be inspected and a line such as "Link Pacific/Chuuk Pacific/Truk" would result in using "Pacific/Chuuk" as the <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">primary time zone identifier</a></emu-xref>.
        </p>
        <p>
          Note that <code>zone.tab</code> is the preferred source of mapping data because <code>backzone</code> mappings may, in rare cases, cross the boundaries of ISO 3166-1 Alpha-2 country codes.
          For example, "Atlantic/Jan_Mayen" (in country code "SJ") is mapped in <code>backzone</code> to "Europe/Oslo" (in country code "NO").
          As of the 2024a release of the IANA Time Zone Database, "Atlantic/Jan_Mayen" is the only case where this happens.
        </p>
      </div></emu-note>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">Time zone identifiers</a></emu-xref> in the IANA Time Zone Database can change over time.
        At a minimum, it is recommended that implementations limit changes to the result of AvailableNamedTimeZoneIdentifiers to the changes allowed by <emu-xref aoid="GetAvailableNamedTimeZoneIdentifier" id="_ref_301"><a href="#sec-getavailablenamedtimezoneidentifier">GetAvailableNamedTimeZoneIdentifier</a></emu-xref>, for the lifetime of the <emu-xref href="#surrounding-agent"><a href="https://tc39.es/ecma262/#surrounding-agent">surrounding agent</a></emu-xref>.
        Due to the complexity of supporting these recommendations, it is recommended that the result of AvailableNamedTimeZoneIdentifiers remains the same for the lifetime of the <emu-xref href="#surrounding-agent"><a href="https://tc39.es/ecma262/#surrounding-agent">surrounding agent</a></emu-xref>.
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-getavailablenamedtimezoneidentifier" type="abstract operation" aoid="GetAvailableNamedTimeZoneIdentifier">
      <h1><span class="secnum">6.5.2</span> GetAvailableNamedTimeZoneIdentifier ( <var>timeZoneIdentifier</var> )</h1>
      <p>The abstract operation GetAvailableNamedTimeZoneIdentifier takes argument <var>timeZoneIdentifier</var> (a String) and returns either a <emu-xref href="#sec-time-zone-identifier-record"><a href="https://tc39.es/ecma262/#sec-time-zone-identifier-record">Time Zone Identifier Record</a></emu-xref> or <emu-const>empty</emu-const>. 
          If <var>timeZoneIdentifier</var> is an <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifier</a></emu-xref>, then it returns one of the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> in the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> returned by <emu-xref aoid="AvailableNamedTimeZoneIdentifiers" id="_ref_302"><a href="#sup-availablenamedtimezoneidentifiers">AvailableNamedTimeZoneIdentifiers</a></emu-xref>.
          Otherwise, <emu-const>empty</emu-const> will be returned.
         It performs the following steps when called:</p>
      <emu-alg><ol><li>For each element <var>record</var> of <emu-xref aoid="AvailableNamedTimeZoneIdentifiers" id="_ref_303"><a href="#sup-availablenamedtimezoneidentifiers">AvailableNamedTimeZoneIdentifiers</a></emu-xref>(), do<ol><li>If <var>record</var>.<var class="field">[[Identifier]]</var> is an <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_304"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-case-insensitive match</a></emu-xref> for <var>timeZoneIdentifier</var>, return <var>record</var>.</li></ol></li><li>Return <emu-const>empty</emu-const>.</li></ol></emu-alg>
      <emu-note><span class="note">Note</span><div class="note-contents">
        For any <var>timeZoneIdentifier</var>, or any value that is an <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_305"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-case-insensitive match</a></emu-xref> for it, it is required that the resulting <emu-xref href="#sec-time-zone-identifier-record"><a href="https://tc39.es/ecma262/#sec-time-zone-identifier-record">Time Zone Identifier Record</a></emu-xref> contain the same field values for the lifetime of the <emu-xref href="#surrounding-agent"><a href="https://tc39.es/ecma262/#surrounding-agent">surrounding agent</a></emu-xref>.
        Furthermore, it is required that <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">time zone identifiers</a></emu-xref> not dynamically change from primary to non-primary during the lifetime of the <emu-xref href="#surrounding-agent"><a href="https://tc39.es/ecma262/#surrounding-agent">surrounding agent</a></emu-xref>, meaning that if <var>timeZoneIdentifier</var> is an <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_306"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-case-insensitive match</a></emu-xref> for the <var class="field">[[PrimaryIdentifier]]</var> field of the result of a previous call to GetAvailableNamedTimeZoneIdentifier, then GetAvailableNamedTimeZoneIdentifier(<var>timeZoneIdentifier</var>) must return a <emu-xref href="#sec-time-zone-identifier-record"><a href="https://tc39.es/ecma262/#sec-time-zone-identifier-record">Time Zone Identifier Record</a></emu-xref> where <var class="field">[[Identifier]]</var> is <var class="field">[[PrimaryIdentifier]]</var>.
        Due to the complexity of supporting these requirements, it is recommended that the result of <emu-xref aoid="AvailableNamedTimeZoneIdentifiers" id="_ref_307"><a href="#sup-availablenamedtimezoneidentifiers">AvailableNamedTimeZoneIdentifiers</a></emu-xref> (and therefore GetAvailableNamedTimeZoneIdentifier too) remains the same for the lifetime of the <emu-xref href="#surrounding-agent"><a href="https://tc39.es/ecma262/#surrounding-agent">surrounding agent</a></emu-xref>.
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-availableprimarytimezoneidentifiers" oldids="sec-availablecanonicaltimezones" type="abstract operation" aoid="AvailablePrimaryTimeZoneIdentifiers"><span id="sec-availablecanonicaltimezones"></span>
      <h1><span class="secnum">6.5.3</span> AvailablePrimaryTimeZoneIdentifiers ( )</h1>
      <p>The abstract operation AvailablePrimaryTimeZoneIdentifiers takes no arguments and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings. The returned <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> is a sorted <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of supported Zone and Link names in the IANA Time Zone Database. It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>records</var> be <emu-xref aoid="AvailableNamedTimeZoneIdentifiers" id="_ref_308"><a href="#sup-availablenamedtimezoneidentifiers">AvailableNamedTimeZoneIdentifiers</a></emu-xref>().</li><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each element <var>timeZoneIdentifierRecord</var> of <var>records</var>, do<ol><li>If <var>timeZoneIdentifierRecord</var>.<var class="field">[[Identifier]]</var> is <var>timeZoneIdentifierRecord</var>.<var class="field">[[PrimaryIdentifier]]</var>, then<ol><li>Append <var>timeZoneIdentifierRecord</var>.<var class="field">[[Identifier]]</var> to <var>result</var>.</li></ol></li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-string-split-to-list" type="abstract operation" aoid="StringSplitToList">
      <h1><span class="secnum">6.5.4</span> StringSplitToList ( <var>S</var>, <var>separator</var> )</h1>
      <p>The abstract operation StringSplitToList takes arguments <var>S</var> (a String) and <var>separator</var> (a String) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings. 
          The returned <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> contains all disjoint substrings of <var>S</var> that do not contain <var>separator</var> but are immediately preceded and/or immediately followed by an occurrence of <var>separator</var>.
          Each such <emu-not-ref>substring</emu-not-ref> will be the empty String between adjacent occurrences of <var>separator</var>, before a <var>separator</var> at the very start of <var>S</var>, or after a <var>separator</var> at the very end of <var>S</var>, but otherwise will not be empty.
         It performs the following steps when called:</p>
      <emu-alg><ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>S</var> is not the empty String.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>separator</var> is not the empty String.</li><li>Let <var>separatorLength</var> be the length of <var>separator</var>.</li><li>Let <var>substrings</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>i</var> be 0.</li><li>Let <var>j</var> be <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>S</var>, <var>separator</var>, 0).</li><li>Repeat, while <var>j</var> is not <emu-const>not-found</emu-const>,<ol><li>Let <var>T</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>S</var> from <var>i</var> to <var>j</var>.</li><li>Append <var>T</var> to <var>substrings</var>.</li><li>Set <var>i</var> to <var>j</var> + <var>separatorLength</var>.</li><li>Set <var>j</var> to <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>S</var>, <var>separator</var>, <var>i</var>).</li></ol></li><li>Let <var>T</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>S</var> from <var>i</var>.</li><li>Append <var>T</var> to <var>substrings</var>.</li><li>Return <var>substrings</var>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-measurement-unit-identifiers">
    <h1><span class="secnum">6.6</span> Measurement Unit Identifiers</h1>

    <p>This specification identifies measurement units using a <dfn variants="core unit identifiers,core unit ID,core unit IDs" tabindex="-1">core unit identifier</dfn> (or equivalently <em>core unit ID</em>) as defined by <a href="https://unicode.org/reports/tr35/tr35-general.html#Unit_Identifiers">Unicode Technical Standard #35 Part 2 General, Section 6.2 Unit Identifiers</a>. Their canonical form is a string containing only Unicode Basic Latin lowercase letters (U+0061 LATIN SMALL LETTER A through U+007A LATIN SMALL LETTER Z) with zero or more medial hyphens (U+002D HYPHEN-MINUS).</p>

    <p>
      Only a limited set of core unit identifiers are sanctioned.
      Attempting to use an unsanctioned core unit identifier results in a <emu-val>RangeError</emu-val>.
    </p>

    <emu-clause id="sec-iswellformedunitidentifier" type="abstract operation" aoid="IsWellFormedUnitIdentifier">
      <h1><span class="secnum">6.6.1</span> IsWellFormedUnitIdentifier ( <var>unitIdentifier</var> )</h1>
      <p>The abstract operation IsWellFormedUnitIdentifier takes argument <var>unitIdentifier</var> (a String) and returns a Boolean. It verifies that the <var>unitIdentifier</var> argument represents a well-formed <emu-xref href="#sec-measurement-unit-identifiers" id="_ref_309"><a href="#sec-measurement-unit-identifiers">core unit identifier</a></emu-xref> that is either a sanctioned single unit or a complex unit formed by division of two sanctioned single units. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <emu-xref aoid="IsSanctionedSingleUnitIdentifier" id="_ref_310"><a href="#sec-issanctionedsingleunitidentifier">IsSanctionedSingleUnitIdentifier</a></emu-xref>(<var>unitIdentifier</var>) is <emu-val>true</emu-val>, then<ol><li>Return <emu-val>true</emu-val>.</li></ol></li><li>Let <var>i</var> be <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>unitIdentifier</var>, <emu-val>"-per-"</emu-val>, 0).</li><li>If <var>i</var> is <emu-const>not-found</emu-const> or <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>unitIdentifier</var>, <emu-val>"-per-"</emu-val>, <var>i</var> + 1) is not <emu-const>not-found</emu-const>, then<ol><li>Return <emu-val>false</emu-val>.</li></ol></li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: The five-character <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"-per-"</emu-val> occurs exactly once in <var>unitIdentifier</var>, at index <var>i</var>.</li><li>Let <var>numerator</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>unitIdentifier</var> from 0 to <var>i</var>.</li><li>Let <var>denominator</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>unitIdentifier</var> from <var>i</var> + 5.</li><li>If <emu-xref aoid="IsSanctionedSingleUnitIdentifier" id="_ref_311"><a href="#sec-issanctionedsingleunitidentifier">IsSanctionedSingleUnitIdentifier</a></emu-xref>(<var>numerator</var>) and <emu-xref aoid="IsSanctionedSingleUnitIdentifier" id="_ref_312"><a href="#sec-issanctionedsingleunitidentifier">IsSanctionedSingleUnitIdentifier</a></emu-xref>(<var>denominator</var>) are both <emu-val>true</emu-val>, then<ol><li>Return <emu-val>true</emu-val>.</li></ol></li><li>Return <emu-val>false</emu-val>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-issanctionedsingleunitidentifier" type="abstract operation" oldids="sec-issanctionedsimpleunitidentifier" aoid="IsSanctionedSingleUnitIdentifier"><span id="sec-issanctionedsimpleunitidentifier"></span>
      <h1><span class="secnum">6.6.2</span> IsSanctionedSingleUnitIdentifier ( <var>unitIdentifier</var> )</h1>
      <p>The abstract operation IsSanctionedSingleUnitIdentifier takes argument <var>unitIdentifier</var> (a String) and returns a Boolean. It verifies that the <var>unitIdentifier</var> argument is among the single unit identifiers sanctioned in the current version of this specification, which are a subset of the Common Locale Data Repository <a href="https://github.com/unicode-org/cldr/blob/maint/maint-38/common/validity/unit.xml">release 38 unit validity data</a>; the list may grow over time. As discussed in <a href="https://unicode.org/reports/tr35/tr35-general.html#Unit_Identifiers">Unicode Technical Standard #35 Part 2 General, Section 6.2 Unit Identifiers</a>, a single unit identifier is a <emu-xref href="#sec-measurement-unit-identifiers" id="_ref_313"><a href="#sec-measurement-unit-identifiers">core unit identifier</a></emu-xref> that is not composed of multiplication or division of other unit identifiers. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>unitIdentifier</var> is listed in <emu-xref href="#table-sanctioned-single-unit-identifiers" id="_ref_21"><a href="#table-sanctioned-single-unit-identifiers">Table 2</a></emu-xref> below, return <emu-val>true</emu-val>.</li><li>Else, return <emu-val>false</emu-val>.</li></ol></emu-alg>

      <emu-table id="table-sanctioned-single-unit-identifiers" oldids="table-sanctioned-simple-unit-identifiers"><figure><figcaption>Table 2: Single units sanctioned for use in ECMAScript</figcaption><span id="table-sanctioned-simple-unit-identifiers"></span>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Single Unit Identifier</th>
            </tr>
          </thead>
          <tbody><tr><td>acre</td></tr>
          <tr><td>bit</td></tr>
          <tr><td>byte</td></tr>
          <tr><td>celsius</td></tr>
          <tr><td>centimeter</td></tr>
          <tr><td>day</td></tr>
          <tr><td>degree</td></tr>
          <tr><td>fahrenheit</td></tr>
          <tr><td>fluid-ounce</td></tr>
          <tr><td>foot</td></tr>
          <tr><td>gallon</td></tr>
          <tr><td>gigabit</td></tr>
          <tr><td>gigabyte</td></tr>
          <tr><td>gram</td></tr>
          <tr><td>hectare</td></tr>
          <tr><td>hour</td></tr>
          <tr><td>inch</td></tr>
          <tr><td>kilobit</td></tr>
          <tr><td>kilobyte</td></tr>
          <tr><td>kilogram</td></tr>
          <tr><td>kilometer</td></tr>
          <tr><td>liter</td></tr>
          <tr><td>megabit</td></tr>
          <tr><td>megabyte</td></tr>
          <tr><td>meter</td></tr>
          <tr><td>microsecond</td></tr>
          <tr><td>mile</td></tr>
          <tr><td>mile-scandinavian</td></tr>
          <tr><td>milliliter</td></tr>
          <tr><td>millimeter</td></tr>
          <tr><td>millisecond</td></tr>
          <tr><td>minute</td></tr>
          <tr><td>month</td></tr>
          <tr><td>nanosecond</td></tr>
          <tr><td>ounce</td></tr>
          <tr><td>percent</td></tr>
          <tr><td>petabyte</td></tr>
          <tr><td>pound</td></tr>
          <tr><td>second</td></tr>
          <tr><td>stone</td></tr>
          <tr><td>terabit</td></tr>
          <tr><td>terabyte</td></tr>
          <tr><td>week</td></tr>
          <tr><td>yard</td></tr>
          <tr><td>year</td></tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-availablecanonicalunits" type="abstract operation" aoid="AvailableCanonicalUnits">
      <h1><span class="secnum">6.6.3</span> AvailableCanonicalUnits ( )</h1>
      <p>The abstract operation AvailableCanonicalUnits takes no arguments and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings. The returned <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> is sorted according to <emu-xref href="#lexicographic-code-unit-order"><a href="https://tc39.es/ecma262/#lexicographic-code-unit-order">lexicographic code unit order</a></emu-xref>, and consists of the unique values of simple unit identifiers listed in every row of <emu-xref href="#table-sanctioned-single-unit-identifiers" id="_ref_22"><a href="#table-sanctioned-single-unit-identifiers">Table 2</a></emu-xref>, except the header row.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-numberingsystem-identifiers">
    <h1><span class="secnum">6.7</span> Numbering System Identifiers</h1>

    <p>This specification identifies numbering systems using a <dfn variants="numbering system identifiers" tabindex="-1">numbering system identifier</dfn> corresponding with the name referenced by <a href="https://unicode.org/reports/tr35/tr35-numbers.html#Numbering_Systems">Unicode Technical Standard #35 Part 3 Numbers, Section 1 Numbering Systems</a>. Their canonical form is a string containing only Unicode Basic Latin lowercase letters (U+0061 LATIN SMALL LETTER A through U+007A LATIN SMALL LETTER Z).</p>

    <emu-clause id="sec-availablecanonicalnumberingsystems" type="implementation-defined abstract operation" aoid="AvailableCanonicalNumberingSystems">
      <h1><span class="secnum">6.7.1</span> AvailableCanonicalNumberingSystems ( )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation AvailableCanonicalNumberingSystems takes no arguments and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings. The returned <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> is sorted according to <emu-xref href="#lexicographic-code-unit-order"><a href="https://tc39.es/ecma262/#lexicographic-code-unit-order">lexicographic code unit order</a></emu-xref>, and contains unique canonical numbering systems identifiers identifying the numbering systems for which the implementation provides the functionality of Intl.DateTimeFormat, Intl.NumberFormat, and Intl.RelativeTimeFormat objects. The <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> must include the Numbering System value of every row of <emu-xref href="#table-numbering-system-digits" id="_ref_23"><a href="#table-numbering-system-digits">Table 28</a></emu-xref>, except the header row.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-collation-types">
    <h1><span class="secnum">6.8</span> Collation Types</h1>

    <p>This specification identifies collations using a <dfn variants="collation types" tabindex="-1">collation type</dfn> as defined by <a href="https://unicode.org/reports/tr35/tr35-collation.html#Collation_Types">Unicode Technical Standard #35 Part 5 Collation, Section 3.1 Collation Types</a>. Their canonical form is a string containing only Unicode Basic Latin lowercase letters (U+0061 LATIN SMALL LETTER A through U+007A LATIN SMALL LETTER Z) with zero or more medial hyphens (U+002D HYPHEN-MINUS).</p>

    <emu-clause id="sec-availablecanonicalcollations" type="implementation-defined abstract operation" aoid="AvailableCanonicalCollations">
      <h1><span class="secnum">6.8.1</span> AvailableCanonicalCollations ( )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation AvailableCanonicalCollations takes no arguments and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings. The returned <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> is sorted according to <emu-xref href="#lexicographic-code-unit-order"><a href="https://tc39.es/ecma262/#lexicographic-code-unit-order">lexicographic code unit order</a></emu-xref>, and contains unique canonical <emu-xref href="#sec-collation-types" id="_ref_314"><a href="#sec-collation-types">collation types</a></emu-xref> identifying the collations for which the implementation provides the functionality of Intl.Collator objects.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-calendar-types">
    <h1><span class="secnum">6.9</span> Calendar Types</h1>

    <p>This specification identifies calendars using a <dfn variants="calendar types" tabindex="-1">calendar type</dfn> as defined by <a href="https://unicode.org/reports/tr35/tr35-dates.html#Calendar_Elements">Unicode Technical Standard #35 Part 4 Dates, Section 2 Calendar Elements</a>. Their canonical form is a string containing only Unicode Basic Latin lowercase letters (U+0061 LATIN SMALL LETTER A through U+007A LATIN SMALL LETTER Z) with zero or more medial hyphens (U+002D HYPHEN-MINUS).</p>

    <emu-clause id="sec-availablecalendars" oldids="sec-availablecanonicalcalendars" type="implementation-defined abstract operation" aoid="AvailableCalendars"><span id="sec-availablecanonicalcalendars"></span>
      <h1><span class="secnum">6.9.1</span> AvailableCalendars ( )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation AvailableCalendars takes no arguments and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings. The returned <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> is sorted according to <emu-xref href="#lexicographic-code-unit-order"><a href="https://tc39.es/ecma262/#lexicographic-code-unit-order">lexicographic code unit order</a></emu-xref>, and contains unique <emu-xref href="#sec-calendar-types" id="_ref_315"><a href="#sec-calendar-types">calendar types</a></emu-xref> in canonical form (<emu-xref href="#sec-calendar-types" id="_ref_24"><a href="#sec-calendar-types">6.9</a></emu-xref>) identifying the calendars for which the implementation provides the functionality of Intl.DateTimeFormat objects, including their aliases (e.g., either both or neither of <emu-val>"islamicc"</emu-val> and <emu-val>"islamic-civil"</emu-val>). The <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> must include <emu-val>"iso8601"</emu-val>.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-pattern-string-types">
    <h1><span class="secnum">6.10</span> Pattern String Types</h1>
    <p><dfn tabindex="-1">Pattern String</dfn> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value which contains zero or more substrings of the form <emu-val>"{key}"</emu-val>, where key can be any non-empty sequence consisting only of elements from <emu-xref href="#ASCII-word-characters"><a href="https://tc39.es/ecma262/#ASCII-word-characters">the ASCII word characters</a></emu-xref>. The syntax of the abstract pattern strings is an implementation detail and is not exposed to users of ECMA-402.</p>
  </emu-clause>
</emu-clause>

<emu-clause id="requirements">
  <h1><span class="secnum">7</span> Requirements for Standard Built-in ECMAScript Objects</h1>

  <p>Unless specified otherwise in this document, the objects, functions, and <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructors</a></emu-xref> described in this standard are subject to the generic requirements and restrictions specified for standard built-in ECMAScript objects in <emu-xref href="#sec-ecmascript-standard-built-in-objects" title=""><a href="https://tc39.es/ecma262/#sec-ecmascript-standard-built-in-objects">ECMAScript Standard Built-in Objects</a></emu-xref>.</p>
</emu-clause>

<emu-clause id="intl-object">
  <h1><span class="secnum">8</span> The Intl Object</h1>

  <p>The <dfn tabindex="-1">Intl object</dfn>:</p>
  <ul>
    <li>is <dfn tabindex="-1">%Intl%</dfn>.</li>
    <li>is the initial value of the <emu-val>"Intl"</emu-val> property of the <emu-xref href="#sec-global-object"><a href="https://tc39.es/ecma262/#sec-global-object">global object</a></emu-xref>.</li>
    <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
    <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>.</li>
    <li>is not a <emu-xref href="#function-object"><a href="https://tc39.es/ecma262/#function-object">function object</a></emu-xref>.</li>
    <li>does not have a <var class="field">[[Construct]]</var> internal method; it cannot be used as a <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> with the <code>new</code> operator.</li>
    <li>does not have a <var class="field">[[Call]]</var> internal method; it cannot be invoked as a function.</li>
    <li>has a <var class="field">[[FallbackSymbol]]</var> internal slot, which is a new <emu-xref href="#sec-symbol-constructor"><a href="https://tc39.es/ecma262/#sec-symbol-constructor">%Symbol%</a></emu-xref> in the current <emu-xref href="#realm"><a href="https://tc39.es/ecma262/#realm">realm</a></emu-xref> with the <var class="field">[[Description]]</var> <emu-val>"IntlLegacyConstructedSymbol"</emu-val>.</li>
  </ul>

  <emu-clause id="sec-value-properties-of-the-intl-object">
    <h1><span class="secnum">8.1</span> Value Properties of the Intl Object</h1>

    <emu-clause id="sec-intl-%symbol.tostringtag%" oldids="sec-Intl-toStringTag"><span id="sec-Intl-toStringTag"></span>
      <h1><span class="secnum">8.1.1</span> Intl [ %Symbol.toStringTag% ]</h1>

      <p>The initial value of the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property is the String value <emu-val>"Intl"</emu-val>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> }.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-constructor-properties-of-the-intl-object">
    <h1><span class="secnum">8.2</span> Constructor Properties of the Intl Object</h1>

    <p>With the exception of Intl.Locale, each of the following <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructors</a></emu-xref> is a <dfn id="service-constructor" tabindex="-1">service constructor</dfn> that creates objects providing locale-sensitive services.</p>

    <emu-clause id="sec-intl.collator-intro">
      <h1><span class="secnum">8.2.1</span> Intl.Collator ( . . . )</h1>
      <p>See <emu-xref href="#collator-objects" id="_ref_25"><a href="#collator-objects">10</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat-intro">
      <h1><span class="secnum">8.2.2</span> Intl.DateTimeFormat ( . . . )</h1>
      <p>See <emu-xref href="#datetimeformat-objects" id="_ref_26"><a href="#datetimeformat-objects">11</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.displaynames-intro">
      <h1><span class="secnum">8.2.3</span> Intl.DisplayNames ( . . . )</h1>
      <p>See <emu-xref href="#intl-displaynames-objects" id="_ref_27"><a href="#intl-displaynames-objects">12</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.durationformat-intro">
      <h1><span class="secnum">8.2.4</span> Intl.DurationFormat ( . . . )</h1>
      <p>See <emu-xref href="#durationformat-objects" id="_ref_28"><a href="#durationformat-objects">13</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.listformat-intro">
      <h1><span class="secnum">8.2.5</span> Intl.ListFormat ( . . . )</h1>
      <p>See <emu-xref href="#listformat-objects" id="_ref_29"><a href="#listformat-objects">14</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.locale-intro">
      <h1><span class="secnum">8.2.6</span> Intl.Locale ( . . . )</h1>
      <p>See <emu-xref href="#locale-objects" id="_ref_30"><a href="#locale-objects">15</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat-intro">
      <h1><span class="secnum">8.2.7</span> Intl.NumberFormat ( . . . )</h1>
      <p>See <emu-xref href="#numberformat-objects" id="_ref_31"><a href="#numberformat-objects">16</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules-intro">
      <h1><span class="secnum">8.2.8</span> Intl.PluralRules ( . . . )</h1>
      <p>See <emu-xref href="#pluralrules-objects" id="_ref_32"><a href="#pluralrules-objects">17</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.relativetimeformat-intro">
      <h1><span class="secnum">8.2.9</span> Intl.RelativeTimeFormat ( . . . )</h1>
      <p>See <emu-xref href="#relativetimeformat-objects" id="_ref_33"><a href="#relativetimeformat-objects">18</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.segmenter-intro">
      <h1><span class="secnum">8.2.10</span> Intl.Segmenter ( . . . )</h1>
      <p>See <emu-xref href="#segmenter-objects" id="_ref_34"><a href="#segmenter-objects">19</a></emu-xref>.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-function-properties-of-the-intl-object">
    <h1><span class="secnum">8.3</span> Function Properties of the Intl Object</h1>

    <emu-clause id="sec-intl.getcanonicallocales">
      <h1><span class="secnum">8.3.1</span> Intl.getCanonicalLocales ( <var>locales</var> )</h1>

      <p>When the <code>getCanonicalLocales</code> method is called with argument <var>locales</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>ll</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_316"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>Return <emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>ll</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.supportedvaluesof">
      <h1><span class="secnum">8.3.2</span> Intl.supportedValuesOf ( <var>key</var> )</h1>

      <p>When the <code>supportedValuesOf</code> method is called with argument <var>key</var> , the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>key</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>key</var>).</li><li>If <var>key</var> is <emu-val>"calendar"</emu-val>, then<ol><li>Let <var>list</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each element <var>identifier</var> of <emu-xref aoid="AvailableCalendars" id="_ref_317"><a href="#sec-availablecalendars">AvailableCalendars</a></emu-xref>(), do<ol><li>Let <var>canonical</var> be <emu-xref aoid="CanonicalizeUValue" id="_ref_318"><a href="#sec-canonicalizeuvalue">CanonicalizeUValue</a></emu-xref>(<emu-val>"ca"</emu-val>, <var>identifier</var>).</li><li>If <var>identifier</var> is <var>canonical</var>, then<ol><li>Append <var>identifier</var> to <var>list</var>.</li></ol></li></ol></li></ol></li><li>Else if <var>key</var> is <emu-val>"collation"</emu-val>, then<ol><li>Let <var>list</var> be <emu-xref aoid="AvailableCanonicalCollations" id="_ref_319"><a href="#sec-availablecanonicalcollations">AvailableCanonicalCollations</a></emu-xref>( ).</li></ol></li><li>Else if <var>key</var> is <emu-val>"currency"</emu-val>, then<ol><li>Let <var>list</var> be <emu-xref aoid="AvailableCanonicalCurrencies" id="_ref_320"><a href="#sec-availablecanonicalcurrencies">AvailableCanonicalCurrencies</a></emu-xref>( ).</li></ol></li><li>Else if <var>key</var> is <emu-val>"numberingSystem"</emu-val>, then<ol><li>Let <var>list</var> be <emu-xref aoid="AvailableCanonicalNumberingSystems" id="_ref_321"><a href="#sec-availablecanonicalnumberingsystems">AvailableCanonicalNumberingSystems</a></emu-xref>( ).</li></ol></li><li>Else if <var>key</var> is <emu-val>"timeZone"</emu-val>, then<ol><li>Let <var>list</var> be <emu-xref aoid="AvailablePrimaryTimeZoneIdentifiers" id="_ref_322"><a href="#sec-availableprimarytimezoneidentifiers">AvailablePrimaryTimeZoneIdentifiers</a></emu-xref>( ).</li></ol></li><li>Else if <var>key</var> is <emu-val>"unit"</emu-val>, then<ol><li>Let <var>list</var> be <emu-xref aoid="AvailableCanonicalUnits" id="_ref_323"><a href="#sec-availablecanonicalunits">AvailableCanonicalUnits</a></emu-xref>( ).</li></ol></li><li>Else,<ol><li>Throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>Return <emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>( <var>list</var> ).</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="locale-and-parameter-negotiation">
  <h1><span class="secnum">9</span> Locale and Parameter Negotiation</h1>

  <p><emu-xref href="#service-constructor" id="_ref_35"><a href="#service-constructor">Service constructors</a></emu-xref> use common patterns to negotiate the requests represented by <var>locales</var> and <var>options</var> arguments against the actual capabilities of an implementation. That common behaviour is explained here in terms of internal slots describing the capabilities, <emu-xref href="#sec-algorithm-conventions-abstract-operations"><a href="https://tc39.es/ecma262/#sec-algorithm-conventions-abstract-operations">abstract operations</a></emu-xref> using these internal slots, and specialized data types defined below.</p>

  <p>An <dfn id="available-locales-list" tabindex="-1">Available Locales List</dfn> is an arbitrarily-ordered duplicate-free <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-language-tags" id="_ref_324"><a href="#sec-language-tags">language tags</a></emu-xref>, each of which is <emu-xref href="#sec-isstructurallyvalidlanguagetag" id="_ref_36"><a href="#sec-isstructurallyvalidlanguagetag">structurally valid</a></emu-xref>, <emu-xref href="#sec-canonicalizeunicodelocaleid" id="_ref_37"><a href="#sec-canonicalizeunicodelocaleid">canonicalized</a></emu-xref>, and lacks a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_325"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref>. It represents all locales for which the implementation provides functionality within a particular context.</p>

  <p>A <dfn id="language-priority-list" tabindex="-1">Language Priority List</dfn> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-isstructurallyvalidlanguagetag" id="_ref_38"><a href="#sec-isstructurallyvalidlanguagetag">structurally valid</a></emu-xref> and <emu-xref href="#sec-canonicalizeunicodelocaleid" id="_ref_39"><a href="#sec-canonicalizeunicodelocaleid">canonicalized</a></emu-xref> <emu-xref href="#sec-language-tags" id="_ref_326"><a href="#sec-language-tags">language tags</a></emu-xref> representing a sequence of locale preferences by descending priority. It corresponds with the term of the same name defined in <a href="https://www.rfc-editor.org/rfc/bcp/bcp47.txt">BCP 47</a> at <a href="https://www.rfc-editor.org/rfc/rfc4647.html#section-2.3">RFC 4647 section 2.3</a> but prohibits <emu-val>"*"</emu-val> elements and contains only canonicalized contents.</p>

  <p>A <dfn id="resolution-option-descriptor" variants="Resolution Option Descriptors" tabindex="-1">Resolution Option Descriptor</dfn> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields <var class="field">[[Key]]</var> (a string, usually an element of a <var class="field">[[RelevantExtensionKeys]]</var> <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>) and <var class="field">[[Property]]</var> (a string), and optionally also with either or both of <var class="field">[[Type]]</var> (<emu-const>boolean</emu-const> or <emu-const>string</emu-const>) and <var class="field">[[Values]]</var> (<emu-const>empty</emu-const> or a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language values</a></emu-xref>). It describes how to read options relevant to locale resolution during object construction.</p>

  <emu-clause id="sec-internal-slots">
    <h1><span class="secnum">9.1</span> Internal slots of Service Constructors</h1>

    <p>Each <emu-xref href="#service-constructor" id="_ref_327"><a href="#service-constructor">service constructor</a></emu-xref> has the following internal slots:</p>

    <ul>
      <li><var class="field">[[AvailableLocales]]</var> is an <emu-xref href="#available-locales-list" id="_ref_328"><a href="#available-locales-list">Available Locales List</a></emu-xref>. It must include the value returned by <emu-xref aoid="DefaultLocale" id="_ref_329"><a href="#sec-defaultlocale">DefaultLocale</a></emu-xref>. Additionally, for each element with more than one <emu-xref href="#bcp-47-subtag" id="_ref_330"><a href="#bcp-47-subtag">subtag</a></emu-xref>, it must also include a less narrow <emu-xref href="#sec-language-tags" id="_ref_331"><a href="#sec-language-tags">language tag</a></emu-xref> with the same language <emu-xref href="#bcp-47-subtag" id="_ref_332"><a href="#bcp-47-subtag">subtag</a></emu-xref> and a strict subset of the same following <emu-xref href="#bcp-47-subtag" id="_ref_333"><a href="#bcp-47-subtag">subtags</a></emu-xref> (i.e., omitting one or more) to serve as a potential fallback from <emu-xref href="#sec-resolvelocale" id="_ref_40"><a href="#sec-resolvelocale">ResolveLocale</a></emu-xref>. In particular, each element with a language <emu-xref href="#bcp-47-subtag" id="_ref_334"><a href="#bcp-47-subtag">subtag</a></emu-xref> and a script <emu-xref href="#bcp-47-subtag" id="_ref_335"><a href="#bcp-47-subtag">subtag</a></emu-xref> and a region <emu-xref href="#bcp-47-subtag" id="_ref_336"><a href="#bcp-47-subtag">subtag</a></emu-xref> must be accompanied by another element consisting of only the same language <emu-xref href="#bcp-47-subtag" id="_ref_337"><a href="#bcp-47-subtag">subtag</a></emu-xref> and region <emu-xref href="#bcp-47-subtag" id="_ref_338"><a href="#bcp-47-subtag">subtag</a></emu-xref> but missing the script <emu-xref href="#bcp-47-subtag" id="_ref_339"><a href="#bcp-47-subtag">subtag</a></emu-xref>. For example,
        <ul>
          <li>If <var class="field">[[AvailableLocales]]</var> contains <emu-val>"de-DE"</emu-val>, then it must also contain <emu-val>"de"</emu-val> (which might be selected to satisfy requested locales such as <emu-val>"de-AT"</emu-val> and <emu-val>"de-CH"</emu-val>).</li>
          <li>If <var class="field">[[AvailableLocales]]</var> contains <emu-val>"az-Latn-AZ"</emu-val>, then it must also contain <emu-val>"az-AZ"</emu-val> (which might be selected to satisfy requested locales such as <emu-val>"az-Cyrl-AZ"</emu-val> if <emu-val>"az-Cyrl"</emu-val> is unavailable).</li>
        </ul>
      </li>
      <li><var class="field">[[RelevantExtensionKeys]]</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#unicode-locale-extension-sequence" id="_ref_340"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> keys defined in <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode Technical Standard #35 Part 1 Core, Section 3.6.1 Key and Type Definitions</a> that are relevant for the functionality of the constructed objects.</li>
      <li><var class="field">[[ResolutionOptionDescriptors]]</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#resolution-option-descriptor" id="_ref_341"><a href="#resolution-option-descriptor">Resolution Option Descriptors</a></emu-xref> used for reading options during object construction.</li>
      <li><var class="field">[[SortLocaleData]]</var> and <var class="field">[[SearchLocaleData]]</var> (for Intl.Collator) and <var class="field">[[LocaleData]]</var> (for every other <emu-xref href="#service-constructor" id="_ref_342"><a href="#service-constructor">service constructor</a></emu-xref>) are <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref>. In addition to fields specific to its <emu-xref href="#service-constructor" id="_ref_343"><a href="#service-constructor">service constructor</a></emu-xref>, each such <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> has a field for each locale contained in <var class="field">[[AvailableLocales]]</var>. The value of each such locale-named field is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> in which each element of <var class="field">[[RelevantExtensionKeys]]</var> identifies the name of a field whose value is a non-empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings representing the type values that are supported by the implementation in the relevant locale for the corresponding <emu-xref href="#unicode-locale-extension-sequence" id="_ref_344"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> key, with the first element providing the default value for that key in the locale.</li>
    </ul>

    <emu-note><span class="note">Note</span><div class="note-contents">
      For example, an implementation of DateTimeFormat might include the <emu-xref href="#sec-language-tags" id="_ref_345"><a href="#sec-language-tags">language tag</a></emu-xref> <emu-val>"fa-IR"</emu-val> in its <var class="field">[[AvailableLocales]]</var> internal slot, and must (according to <emu-xref href="#sec-intl.datetimeformat-internal-slots" id="_ref_41"><a href="#sec-intl.datetimeformat-internal-slots">11.2.3</a></emu-xref>) include the keys <emu-val>"ca"</emu-val>, <emu-val>"hc"</emu-val>, and <emu-val>"nu"</emu-val> in its <var class="field">[[RelevantExtensionKeys]]</var> internal slot.
      The default calendar for that locale is usually <emu-val>"persian"</emu-val>, but an implementation might also support <emu-val>"gregory"</emu-val>, <emu-val>"islamic"</emu-val>, and <emu-val>"islamic-civil"</emu-val>.
      The <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> in the DateTimeFormat <var class="field">[[LocaleData]]</var> internal slot would therefore include a [[fa-IR]] field whose value is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> like { <var class="field">[[ca]]</var>: « <emu-val>"persian"</emu-val>, <emu-val>"gregory"</emu-val>, <emu-val>"islamic"</emu-val>, <emu-val>"islamic-civil"</emu-val> », <var class="field">[[hc]]</var>: « … », <var class="field">[[nu]]</var>: « … » }, along with other locale-named fields having the same value shape but different elements in their <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Lists</a></emu-xref>.
    </div></emu-note>
  </emu-clause>

  <emu-clause id="sec-abstract-operations">
    <h1><span class="secnum">9.2</span> Abstract Operations</h1>

    <emu-clause id="sec-canonicalizelocalelist" type="abstract operation" aoid="CanonicalizeLocaleList">
      <h1><span class="secnum">9.2.1</span> CanonicalizeLocaleList ( <var>locales</var> )</h1>
      <p>The abstract operation CanonicalizeLocaleList takes argument <var>locales</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a <emu-xref href="#language-priority-list" id="_ref_346"><a href="#language-priority-list">Language Priority List</a></emu-xref> or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>locales</var> is <emu-val>undefined</emu-val>, then<ol><li>Return a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li></ol></li><li>Let <var>seen</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>If <var>locales</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> or <var>locales</var> <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">is an Object</a></emu-xref> and <var>locales</var> has an <var class="field">[[InitializedLocale]]</var> internal slot, then<ol><li>Let <var>O</var> be <emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(« <var>locales</var>&nbsp;»).</li></ol></li><li>Else,<ol><li>Let <var>O</var> be ?&nbsp;<emu-xref aoid="ToObject"><a href="https://tc39.es/ecma262/#sec-toobject">ToObject</a></emu-xref>(<var>locales</var>).</li></ol></li><li>Let <var>len</var> be ?&nbsp;<emu-xref aoid="LengthOfArrayLike"><a href="https://tc39.es/ecma262/#sec-lengthofarraylike">LengthOfArrayLike</a></emu-xref>(<var>O</var>).</li><li>Let <var>k</var> be 0.</li><li>Repeat, while <var>k</var> &lt; <var>len</var>,<ol><li>Let <var>Pk</var> be !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>k</var>)).</li><li>Let <var>kPresent</var> be ?&nbsp;<emu-xref aoid="HasProperty"><a href="https://tc39.es/ecma262/#sec-hasproperty">HasProperty</a></emu-xref>(<var>O</var>, <var>Pk</var>).</li><li>If <var>kPresent</var> is <emu-val>true</emu-val>, then<ol><li>Let <var>kValue</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>O</var>, <var>Pk</var>).</li><li>If <var>kValue</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is not a String</a></emu-xref> and <var>kValue</var> <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">is not an Object</a></emu-xref>, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <var>kValue</var> <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">is an Object</a></emu-xref> and <var>kValue</var> has an <var class="field">[[InitializedLocale]]</var> internal slot, then<ol><li>Let <var>tag</var> be <var>kValue</var>.<var class="field">[[Locale]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>tag</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>kValue</var>).</li></ol></li><li>If <emu-xref aoid="IsStructurallyValidLanguageTag" id="_ref_347"><a href="#sec-isstructurallyvalidlanguagetag">IsStructurallyValidLanguageTag</a></emu-xref>(<var>tag</var>) is <emu-val>false</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>canonicalizedTag</var> be <emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_348"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>tag</var>).</li><li>If <var>seen</var> does not contain <var>canonicalizedTag</var>, append <var>canonicalizedTag</var> to <var>seen</var>.</li></ol></li><li>Set <var>k</var> to <var>k</var> + 1.</li></ol></li><li>Return <var>seen</var>.</li></ol></emu-alg>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        Non-normative summary: The abstract operation interprets the <var>locales</var> argument as an array and copies its elements into a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>, validating the elements as structurally valid <emu-xref href="#sec-language-tags" id="_ref_349"><a href="#sec-language-tags">language tags</a></emu-xref> and canonicalizing them, and omitting duplicates.
      </div></emu-note>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        Requiring <var>kValue</var> to be a String or Object means that the Number value <emu-val>NaN</emu-val> will not be interpreted as the <emu-xref href="#sec-language-tags" id="_ref_350"><a href="#sec-language-tags">language tag</a></emu-xref> <emu-val>"nan"</emu-val>, which stands for Min Nan Chinese.
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-canonicalizeuvalue" type="abstract operation" aoid="CanonicalizeUValue">
      <h1><span class="secnum">9.2.2</span> CanonicalizeUValue ( <var>ukey</var>, <var>uvalue</var> )</h1>
      <p>The abstract operation CanonicalizeUValue takes arguments <var>ukey</var> (a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_351"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> key defined in <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode Technical Standard #35 Part 1 Core Section 3.6.1 Key and Type Definitions</a>) and <var>uvalue</var> (a String) and returns a String. The returned String is the canonical and case-regularized form of <var>uvalue</var> as a value of <var>ukey</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>lowerValue</var> be the <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_352"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-lowercase</a></emu-xref> of <var>uvalue</var>.</li><li>Let <var>canonicalized</var> be the String value resulting from canonicalizing <var>lowerValue</var> as a value of key <var>ukey</var> per <a href="https://unicode.org/reports/tr35/#processing-localeids">Unicode Technical Standard #35 Part 1 Core, Annex C LocaleId Canonicalization Section 5 Canonicalizing Syntax, Processing LocaleIds</a>.</li><li>NOTE: It is recommended that implementations use the 'u' extension data in <code>common/bcp47</code> provided by the Common Locale Data Repository (available at <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>).</li><li>Return <var>canonicalized</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-lookupmatchinglocalebyprefix" type="abstract operation" oldids="sec-bestavailablelocale,sec-lookupmatcher" aoid="LookupMatchingLocaleByPrefix"><span id="sec-lookupmatcher"></span><span id="sec-bestavailablelocale"></span>
      <h1><span class="secnum">9.2.3</span> LookupMatchingLocaleByPrefix ( <var>availableLocales</var>, <var>requestedLocales</var> )</h1>
      <p>The abstract operation LookupMatchingLocaleByPrefix takes arguments <var>availableLocales</var> (an <emu-xref href="#available-locales-list" id="_ref_353"><a href="#available-locales-list">Available Locales List</a></emu-xref>) and <var>requestedLocales</var> (a <emu-xref href="#language-priority-list" id="_ref_354"><a href="#language-priority-list">Language Priority List</a></emu-xref>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields <var class="field">[[locale]]</var> (a <emu-xref href="#sec-language-tags" id="_ref_355"><a href="#sec-language-tags">Unicode canonicalized locale identifier</a></emu-xref>) and <var class="field">[[extension]]</var> (a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_356"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> or <emu-const>empty</emu-const>) or <emu-val>undefined</emu-val>. It determines the best element of <var>availableLocales</var> for satisfying <var>requestedLocales</var> using the lookup algorithm defined in <a href="https://www.rfc-editor.org/rfc/bcp/bcp47.txt">BCP 47</a> at <a href="https://www.rfc-editor.org/rfc/rfc4647.html#section-3.4">RFC 4647 section 3.4</a>, ignoring <emu-xref href="#unicode-locale-extension-sequence" id="_ref_357"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequences</a></emu-xref>. If a non-default match is found, it returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with a <var class="field">[[locale]]</var> field containing the matching <emu-xref href="#sec-language-tags" id="_ref_358"><a href="#sec-language-tags">language tag</a></emu-xref> from <var>availableLocales</var> and an <var class="field">[[extension]]</var> field containing the <emu-xref href="#unicode-locale-extension-sequence" id="_ref_359"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> of the corresponding element of <var>requestedLocales</var> (or <emu-const>empty</emu-const> if requested <emu-xref href="#sec-language-tags" id="_ref_360"><a href="#sec-language-tags">language tag</a></emu-xref> has no such sequence). It performs the following steps when called:</p>
      <emu-alg><ol><li>For each element <var>locale</var> of <var>requestedLocales</var>, do<ol><li>Let <var>extension</var> be <emu-const>empty</emu-const>.</li><li>If <var>locale</var> contains a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_361"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref>, then<ol><li>Set <var>extension</var> to the <emu-xref href="#unicode-locale-extension-sequence" id="_ref_362"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> of <var>locale</var>.</li><li>Set <var>locale</var> to the String value that is <var>locale</var> with any <emu-xref href="#unicode-locale-extension-sequence" id="_ref_363"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequences</a></emu-xref> removed.</li></ol></li><li>Let <var>prefix</var> be <var>locale</var>.</li><li>Repeat, while <var>prefix</var> is not the empty String,<ol><li>If <var>availableLocales</var> contains <var>prefix</var>, return the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[locale]]</var>: <var>prefix</var>, <var class="field">[[extension]]</var>: <var>extension</var>&nbsp;}.</li><li>If <var>prefix</var> contains <emu-val>"-"</emu-val> (code unit 0x002D HYPHEN-MINUS), let <var>pos</var> be the index into <var>prefix</var> of the last occurrence of <emu-val>"-"</emu-val>; else let <var>pos</var> be 0.</li><li>Repeat, while <var>pos</var> ≥ 2 and the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>prefix</var> from <var>pos</var> - 2 to <var>pos</var> - 1 is <emu-val>"-"</emu-val>,<ol><li>Set <var>pos</var> to <var>pos</var> - 2.</li></ol></li><li>Set <var>prefix</var> to the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>prefix</var> from 0 to <var>pos</var>.</li></ol></li></ol></li><li>Return <emu-val>undefined</emu-val>.</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        When a requested locale includes a <a href="https://unicode.org/reports/tr35/#BCP47_T_Extension">Unicode Technical Standard #35 Part 1 Core BCP 47 T Extension</a> <emu-xref href="#bcp-47-subtag" id="_ref_364"><a href="#bcp-47-subtag">subtag</a></emu-xref> sequence, the truncation in this algorithm may temporarily generate invalid <emu-xref href="#sec-language-tags" id="_ref_365"><a href="#sec-language-tags">language tags</a></emu-xref>. However, none of them will be returned because <var>availableLocales</var> contains only valid <emu-xref href="#sec-language-tags" id="_ref_366"><a href="#sec-language-tags">language tags</a></emu-xref>.
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-lookupmatchinglocalebybestfit" type="implementation-defined abstract operation" oldids="sec-bestfitmatcher" aoid="LookupMatchingLocaleByBestFit"><span id="sec-bestfitmatcher"></span>
      <h1><span class="secnum">9.2.4</span> LookupMatchingLocaleByBestFit ( <var>availableLocales</var>, <var>requestedLocales</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation LookupMatchingLocaleByBestFit takes arguments <var>availableLocales</var> (an <emu-xref href="#available-locales-list" id="_ref_367"><a href="#available-locales-list">Available Locales List</a></emu-xref>) and <var>requestedLocales</var> (a <emu-xref href="#language-priority-list" id="_ref_368"><a href="#language-priority-list">Language Priority List</a></emu-xref>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields <var class="field">[[locale]]</var> (a <emu-xref href="#sec-language-tags" id="_ref_369"><a href="#sec-language-tags">Unicode canonicalized locale identifier</a></emu-xref>) and <var class="field">[[extension]]</var> (a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_370"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> or <emu-const>empty</emu-const>), or <emu-val>undefined</emu-val>. It determines the best element of <var>availableLocales</var> for satisfying <var>requestedLocales</var>, ignoring <emu-xref href="#unicode-locale-extension-sequence" id="_ref_371"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequences</a></emu-xref>. The algorithm is implementation dependent, but should produce results that a typical user of the requested locales would consider at least as good as those produced by the <emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_372"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref> algorithm. If a non-default match is found, it returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with a <var class="field">[[locale]]</var> field containing the matching <emu-xref href="#sec-language-tags" id="_ref_373"><a href="#sec-language-tags">language tag</a></emu-xref> from <var>availableLocales</var> and an <var class="field">[[extension]]</var> field containing the <emu-xref href="#unicode-locale-extension-sequence" id="_ref_374"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> of the corresponding element of <var>requestedLocales</var> (or <emu-const>empty</emu-const> if requested <emu-xref href="#sec-language-tags" id="_ref_375"><a href="#sec-language-tags">language tag</a></emu-xref> has no such sequence).</p>
    </emu-clause>

    <emu-clause id="sec-unicode-extension-components" type="abstract operation" aoid="UnicodeExtensionComponents">
      <h1><span class="secnum">9.2.5</span> UnicodeExtensionComponents ( <var>extension</var> )</h1>
      <p>The abstract operation UnicodeExtensionComponents takes argument <var>extension</var> (a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_376"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields <var class="field">[[Attributes]]</var> and <var class="field">[[Keywords]]</var>. It deconstructs <var>extension</var> into a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of unique attributes and a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-not-ref>keywords</emu-not-ref> with unique keys. Any repeated appearance of an attribute or <emu-not-ref>keyword</emu-not-ref> key after the first is ignored. It performs the following steps when called:</p>
      <emu-alg><ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: The <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_377"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-lowercase</a></emu-xref> of <var>extension</var> is <var>extension</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: The <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>extension</var> from 0 to 3 is <emu-val>"-u-"</emu-val>.</li><li>Let <var>attributes</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>keywords</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>keyword</var> be <emu-val>undefined</emu-val>.</li><li>Let <var>size</var> be the length of <var>extension</var>.</li><li>Let <var>k</var> be 3.</li><li>Repeat, while <var>k</var> &lt; <var>size</var>,<ol><li>Let <var>e</var> be <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>extension</var>, <emu-val>"-"</emu-val>, <var>k</var>).</li><li>If <var>e</var> is <emu-const>not-found</emu-const>, let <var>len</var> be <var>size</var> - <var>k</var>; else let <var>len</var> be <var>e</var> - <var>k</var>.</li><li>Let <var>subtag</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>extension</var> from <var>k</var> to <var>k</var> + <var>len</var>.</li><li>NOTE: A <emu-not-ref>keyword</emu-not-ref> is a sequence of <emu-xref href="#bcp-47-subtag" id="_ref_378"><a href="#bcp-47-subtag">subtags</a></emu-xref> in which the first is a key of length 2 and any subsequent ones (if present) have length in the <emu-xref href="#inclusive-interval"><a href="https://tc39.es/ecma262/#inclusive-interval">inclusive interval</a></emu-xref> from 3 to 8, collectively constituting a value along with their medial <emu-val>"-"</emu-val> separators. An attribute is a single <emu-xref href="#bcp-47-subtag" id="_ref_379"><a href="#bcp-47-subtag">subtag</a></emu-xref> with length in the <emu-xref href="#inclusive-interval"><a href="https://tc39.es/ecma262/#inclusive-interval">inclusive interval</a></emu-xref> from 3 to 8 that precedes all <emu-not-ref>keywords</emu-not-ref>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>len</var> ≥ 2.</li><li>If <var>keyword</var> is <emu-val>undefined</emu-val> and <var>len</var> ≠ 2, then<ol><li>If <var>subtag</var> is not an element of <var>attributes</var>, append <var>subtag</var> to <var>attributes</var>.</li></ol></li><li>Else if <var>len</var> = 2, then<ol><li>Set <var>keyword</var> to the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Key]]</var>: <var>subtag</var>, <var class="field">[[Value]]</var>: <emu-val>""</emu-val>&nbsp;}.</li><li>If <var>keywords</var> does not contain an element whose <var class="field">[[Key]]</var> is <var>keyword</var>.<var class="field">[[Key]]</var>, append <var>keyword</var> to <var>keywords</var>.</li></ol></li><li>Else if <var>keyword</var>.<var class="field">[[Value]]</var> is the empty String, then<ol><li>Set <var>keyword</var>.<var class="field">[[Value]]</var> to <var>subtag</var>.</li></ol></li><li>Else,<ol><li>Set <var>keyword</var>.<var class="field">[[Value]]</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>keyword</var>.<var class="field">[[Value]]</var>, <emu-val>"-"</emu-val>, and <var>subtag</var>.</li></ol></li><li>Set <var>k</var> to <var>k</var> + <var>len</var> + 1.</li></ol></li><li>Return the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Attributes]]</var>: <var>attributes</var>, <var class="field">[[Keywords]]</var>: <var>keywords</var>&nbsp;}.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-insert-unicode-extension-and-canonicalize" type="abstract operation" aoid="InsertUnicodeExtensionAndCanonicalize">
      <h1><span class="secnum">9.2.6</span> InsertUnicodeExtensionAndCanonicalize ( <var>locale</var>, <var>attributes</var>, <var>keywords</var> )</h1>
      <p>The abstract operation InsertUnicodeExtensionAndCanonicalize takes arguments <var>locale</var> (a <emu-xref href="#sec-language-tags" id="_ref_380"><a href="#sec-language-tags">language tag</a></emu-xref>), <var>attributes</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings), and <var>keywords</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref>) and returns a <emu-xref href="#sec-language-tags" id="_ref_381"><a href="#sec-language-tags">Unicode canonicalized locale identifier</a></emu-xref>. It incorporates <var>attributes</var> and <var>keywords</var> into <var>locale</var> as a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_382"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> and returns the canonicalized result. It performs the following steps when called:</p>
      <emu-alg><ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>locale</var> does not contain a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_383"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref>.</li><li>Let <var>extension</var> be <emu-val>"-u"</emu-val>.</li><li>For each element <var>attr</var> of <var>attributes</var>, do<ol><li>Set <var>extension</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>extension</var>, <emu-val>"-"</emu-val>, and <var>attr</var>.</li></ol></li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Key]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>keyword</var> of <var>keywords</var>, do<ol><li>Set <var>extension</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>extension</var>, <emu-val>"-"</emu-val>, and <var>keyword</var>.<var class="field">[[Key]]</var>.</li><li>If <var>keyword</var>.<var class="field">[[Value]]</var> is not the empty String, set <var>extension</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>extension</var>, <emu-val>"-"</emu-val>, and <var>keyword</var>.<var class="field">[[Value]]</var>.</li></ol></li><li>If <var>extension</var> is <emu-val>"-u"</emu-val>, return <emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_384"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>locale</var>).</li><li>Let <var>privateIndex</var> be <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>locale</var>, <emu-val>"-x-"</emu-val>, 0).</li><li>If <var>privateIndex</var> is <emu-const>not-found</emu-const>, then<ol><li>Let <var>newLocale</var> be the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>locale</var> and <var>extension</var>.</li></ol></li><li>Else,<ol><li>Let <var>preExtension</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>locale</var> from 0 to <var>privateIndex</var>.</li><li>Let <var>postExtension</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>locale</var> from <var>privateIndex</var>.</li><li>Let <var>newLocale</var> be the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>preExtension</var>, <var>extension</var>, and <var>postExtension</var>.</li></ol></li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <emu-xref aoid="IsStructurallyValidLanguageTag" id="_ref_385"><a href="#sec-isstructurallyvalidlanguagetag">IsStructurallyValidLanguageTag</a></emu-xref>(<var>newLocale</var>) is <emu-val>true</emu-val>.</li><li>Return <emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_386"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>newLocale</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-resolvelocale" type="abstract operation" aoid="ResolveLocale">
      <h1><span class="secnum">9.2.7</span> ResolveLocale ( <var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>, <var>relevantExtensionKeys</var>, <var>localeData</var> )</h1>
      <p>The abstract operation ResolveLocale takes arguments <var>availableLocales</var> (an <emu-xref href="#available-locales-list" id="_ref_387"><a href="#available-locales-list">Available Locales List</a></emu-xref>), <var>requestedLocales</var> (a <emu-xref href="#language-priority-list" id="_ref_388"><a href="#language-priority-list">Language Priority List</a></emu-xref>), <var>options</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>), <var>relevantExtensionKeys</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings), and <var>localeData</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>. It performs "lookup" as defined in <a href="https://www.rfc-editor.org/rfc/bcp/bcp47.txt">BCP 47</a> at <a href="https://www.rfc-editor.org/rfc/rfc4647.html#section-3">RFC 4647 section 3</a>, determining the best element of <var>availableLocales</var> for satisfying <var>requestedLocales</var> using either the <emu-xref aoid="LookupMatchingLocaleByBestFit" id="_ref_389"><a href="#sec-lookupmatchinglocalebybestfit">LookupMatchingLocaleByBestFit</a></emu-xref> algorithm or <emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_390"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref> algorithm as specified by <var>options</var>.<var class="field">[[localeMatcher]]</var>, ignoring <emu-xref href="#unicode-locale-extension-sequence" id="_ref_391"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequences</a></emu-xref>, and returns a representation of the match that also includes corresponding data from <var>localeData</var> and a resolved value for each element of <var>relevantExtensionKeys</var> (defaulting to data from the matched locale, superseded by data from the requested <emu-xref href="#unicode-locale-extension-sequence" id="_ref_392"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> if present and then by data from <var>options</var> if present). If the matched element from <var>requestedLocales</var> contains a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_393"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref>, it is copied onto the <emu-xref href="#sec-language-tags" id="_ref_394"><a href="#sec-language-tags">language tag</a></emu-xref> in the <var class="field">[[Locale]]</var> field of the returned <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>, omitting any <code>keyword</code> <emu-xref href="#sec-language-tags" id="_ref_395"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref> whose <code>key</code> value is not contained within <var>relevantExtensionKeys</var> or <code>type</code> value is superseded by a different value from <var>options</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>matcher</var> be <var>options</var>.<var class="field">[[localeMatcher]]</var>.</li><li>If <var>matcher</var> is <emu-val>"lookup"</emu-val>, then<ol><li>Let <var>r</var> be <emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_396"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>).</li></ol></li><li>Else,<ol><li>Let <var>r</var> be <emu-xref aoid="LookupMatchingLocaleByBestFit" id="_ref_397"><a href="#sec-lookupmatchinglocalebybestfit">LookupMatchingLocaleByBestFit</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>).</li></ol></li><li>If <var>r</var> is <emu-val>undefined</emu-val>, set <var>r</var> to the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[locale]]</var>: <emu-xref aoid="DefaultLocale" id="_ref_398"><a href="#sec-defaultlocale">DefaultLocale</a></emu-xref>(), <var class="field">[[extension]]</var>: <emu-const>empty</emu-const>&nbsp;}.</li><li>Let <var>foundLocale</var> be <var>r</var>.<var class="field">[[locale]]</var>.</li><li>Let <var>foundLocaleData</var> be <var>localeData</var>.[[&lt;<var>foundLocale</var>&gt;]].</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>foundLocaleData</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>.</li><li>Let <var>result</var> be a new <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>.</li><li>Set <var>result</var>.<var class="field">[[LocaleData]]</var> to <var>foundLocaleData</var>.</li><li>If <var>r</var>.<var class="field">[[extension]]</var> is not <emu-const>empty</emu-const>, then<ol><li>Let <var>components</var> be <emu-xref aoid="UnicodeExtensionComponents" id="_ref_399"><a href="#sec-unicode-extension-components">UnicodeExtensionComponents</a></emu-xref>(<var>r</var>.<var class="field">[[extension]]</var>).</li><li>Let <var>keywords</var> be <var>components</var>.<var class="field">[[Keywords]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>keywords</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li></ol></li><li>Let <var>supportedKeywords</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each element <var>key</var> of <var>relevantExtensionKeys</var>, do<ol><li>Let <var>keyLocaleData</var> be <var>foundLocaleData</var>.[[&lt;<var>key</var>&gt;]].</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>keyLocaleData</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>value</var> be <var>keyLocaleData</var>[0].</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>value</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> or <var>value</var> is <emu-val>null</emu-val>.</li><li>Let <var>supportedKeyword</var> be <emu-const>empty</emu-const>.</li><li>If <var>keywords</var> contains an element whose <var class="field">[[Key]]</var> is <var>key</var>, then<ol><li>Let <var>entry</var> be the element of <var>keywords</var> whose <var class="field">[[Key]]</var> is <var>key</var>.</li><li>Let <var>requestedValue</var> be <var>entry</var>.<var class="field">[[Value]]</var>.</li><li>If <var>requestedValue</var> is not the empty String, then<ol><li>If <var>keyLocaleData</var> contains <var>requestedValue</var>, then<ol><li>Set <var>value</var> to <var>requestedValue</var>.</li><li>Set <var>supportedKeyword</var> to the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Key]]</var>: <var>key</var>, <var class="field">[[Value]]</var>: <var>value</var>&nbsp;}.</li></ol></li></ol></li><li>Else if <var>keyLocaleData</var> contains <emu-val>"true"</emu-val>, then<ol><li>Set <var>value</var> to <emu-val>"true"</emu-val>.</li><li>Set <var>supportedKeyword</var> to the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Key]]</var>: <var>key</var>, <var class="field">[[Value]]</var>: <emu-val>""</emu-val>&nbsp;}.</li></ol></li></ol></li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>options</var> has a field [[&lt;<var>key</var>&gt;]].</li><li>Let <var>optionsValue</var> be <var>options</var>.[[&lt;<var>key</var>&gt;]].</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>optionsValue</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref>, or <var>optionsValue</var> is either <emu-val>undefined</emu-val> or <emu-val>null</emu-val>.</li><li>If <var>optionsValue</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref>, then<ol><li>Let <var>ukey</var> be the <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_400"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-lowercase</a></emu-xref> of <var>key</var>.</li><li>Set <var>optionsValue</var> to <emu-xref aoid="CanonicalizeUValue" id="_ref_401"><a href="#sec-canonicalizeuvalue">CanonicalizeUValue</a></emu-xref>(<var>ukey</var>, <var>optionsValue</var>).</li><li>If <var>optionsValue</var> is the empty String, then<ol><li>Set <var>optionsValue</var> to <emu-val>"true"</emu-val>.</li></ol></li></ol></li><li>If <emu-xref aoid="SameValue"><a href="https://tc39.es/ecma262/#sec-samevalue">SameValue</a></emu-xref>(<var>optionsValue</var>, <var>value</var>) is <emu-val>false</emu-val> and <var>keyLocaleData</var> contains <var>optionsValue</var>, then<ol><li>Set <var>value</var> to <var>optionsValue</var>.</li><li>Set <var>supportedKeyword</var> to <emu-const>empty</emu-const>.</li></ol></li><li>If <var>supportedKeyword</var> is not <emu-const>empty</emu-const>, append <var>supportedKeyword</var> to <var>supportedKeywords</var>.</li><li>Set <var>result</var>.[[&lt;<var>key</var>&gt;]] to <var>value</var>.</li></ol></li><li>If <var>supportedKeywords</var> is not empty, then<ol><li>Let <var>supportedAttributes</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Set <var>foundLocale</var> to <emu-xref aoid="InsertUnicodeExtensionAndCanonicalize" id="_ref_402"><a href="#sec-insert-unicode-extension-and-canonicalize">InsertUnicodeExtensionAndCanonicalize</a></emu-xref>(<var>foundLocale</var>, <var>supportedAttributes</var>, <var>supportedKeywords</var>).</li></ol></li><li>Set <var>result</var>.<var class="field">[[Locale]]</var> to <var>foundLocale</var>.</li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-resolveoptions" type="abstract operation" aoid="ResolveOptions">
      <h1><span class="secnum">9.2.8</span> ResolveOptions ( <var>constructor</var>, <var>localeData</var>, <var>locales</var>, <var>options</var> [ , <var>specialBehaviours</var> [ , <var>modifyResolutionOptions</var> ] ] )</h1>
      <p>The abstract operation ResolveOptions takes arguments <var>constructor</var> (a <emu-xref href="#service-constructor" id="_ref_403"><a href="#service-constructor">service constructor</a></emu-xref>), <var>localeData</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>), <var>locales</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>), and <var>options</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and optional arguments <var>specialBehaviours</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-enum-specification-type"><a href="https://tc39.es/ecma262/#sec-enum-specification-type">enums</a></emu-xref>) and <var>modifyResolutionOptions</var> (an <emu-xref href="#sec-abstract-closure"><a href="https://tc39.es/ecma262/#sec-abstract-closure">Abstract Closure</a></emu-xref> with one parameter) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields <var class="field">[[Options]]</var> (an Object), <var class="field">[[ResolvedLocale]]</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>), and <var class="field">[[ResolutionOptions]]</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>), or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It reads the inputs for <var>constructor</var> and resolves them into a locale. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>requestedLocales</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_404"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>If <var>specialBehaviours</var> is present and contains <emu-const>require-options</emu-const> and <var>options</var> is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <var>specialBehaviours</var> is present and contains <emu-const>coerce-options</emu-const>, set <var>options</var> to ?&nbsp;<emu-xref aoid="CoerceOptionsToObject" id="_ref_405"><a href="#sec-coerceoptionstoobject">CoerceOptionsToObject</a></emu-xref>(<var>options</var>). Otherwise, set <var>options</var> to ?&nbsp;<emu-xref aoid="GetOptionsObject" id="_ref_406"><a href="#sec-getoptionsobject">GetOptionsObject</a></emu-xref>(<var>options</var>).</li><li>Let <var>matcher</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_407"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"localeMatcher"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"lookup"</emu-val>, <emu-val>"best fit"</emu-val>&nbsp;», <emu-val>"best fit"</emu-val>).</li><li>Let <var>opt</var> be the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[localeMatcher]]</var>: <var>matcher</var>&nbsp;}.</li><li>For each <emu-xref href="#resolution-option-descriptor" id="_ref_408"><a href="#resolution-option-descriptor">Resolution Option Descriptor</a></emu-xref> <var>desc</var> of <var>constructor</var>.<var class="field">[[ResolutionOptionDescriptors]]</var>, do<ol><li>If <var>desc</var> has a <var class="field">[[Type]]</var> field, let <var>type</var> be <var>desc</var>.<var class="field">[[Type]]</var>. Otherwise, let <var>type</var> be <emu-const>string</emu-const>.</li><li>If <var>desc</var> has a <var class="field">[[Values]]</var> field, let <var>values</var> be <var>desc</var>.<var class="field">[[Values]]</var>. Otherwise, let <var>values</var> be <emu-const>empty</emu-const>.</li><li>Let <var>value</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_409"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <var>desc</var>.<var class="field">[[Property]]</var>, <var>type</var>, <var>values</var>, <emu-val>undefined</emu-val>).</li><li>If <var>value</var> is not <emu-val>undefined</emu-val>, then<ol><li>Set <var>value</var> to !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>value</var>).</li><li>If <var>value</var> cannot be matched by the <code>type</code> <emu-xref href="#sec-language-tags" id="_ref_410"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>Let <var>key</var> be <var>desc</var>.<var class="field">[[Key]]</var>.</li><li>Set <var>opt</var>.[[&lt;<var>key</var>&gt;]] to <var>value</var>.</li></ol></li><li>If <var>modifyResolutionOptions</var> is present, perform !&nbsp;<var>modifyResolutionOptions</var>(<var>opt</var>).</li><li>Let <var>resolution</var> be <emu-xref aoid="ResolveLocale" id="_ref_411"><a href="#sec-resolvelocale">ResolveLocale</a></emu-xref>(<var>constructor</var>.<var class="field">[[AvailableLocales]]</var>, <var>requestedLocales</var>, <var>opt</var>, <var>constructor</var>.<var class="field">[[RelevantExtensionKeys]]</var>, <var>localeData</var>).</li><li>Return the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Options]]</var>: <var>options</var>, <var class="field">[[ResolvedLocale]]</var>: <var>resolution</var>, <var class="field">[[ResolutionOptions]]</var>: <var>opt</var>&nbsp;}.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-filterlocales" type="abstract operation" oldids="sec-lookupsupportedlocales,sec-bestfitsupportedlocales,sec-supportedlocales" aoid="FilterLocales"><span id="sec-supportedlocales"></span><span id="sec-bestfitsupportedlocales"></span><span id="sec-lookupsupportedlocales"></span>
      <h1><span class="secnum">9.2.9</span> FilterLocales ( <var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var> )</h1>
      <p>The abstract operation FilterLocales takes arguments <var>availableLocales</var> (an <emu-xref href="#available-locales-list" id="_ref_412"><a href="#available-locales-list">Available Locales List</a></emu-xref>), <var>requestedLocales</var> (a <emu-xref href="#language-priority-list" id="_ref_413"><a href="#language-priority-list">Language Priority List</a></emu-xref>), and <var>options</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-language-tags" id="_ref_414"><a href="#sec-language-tags">Unicode canonicalized locale identifiers</a></emu-xref> or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs "filtering" as defined in <a href="https://www.rfc-editor.org/rfc/bcp/bcp47.txt">BCP 47</a> at <a href="https://www.rfc-editor.org/rfc/rfc4647.html#section-3">RFC 4647 section 3</a>, returning the elements of <var>requestedLocales</var> for which <var>availableLocales</var> contains a matching locale when using either the <emu-xref aoid="LookupMatchingLocaleByBestFit" id="_ref_415"><a href="#sec-lookupmatchinglocalebybestfit">LookupMatchingLocaleByBestFit</a></emu-xref> algorithm or <emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_416"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref> algorithm as specified in <var>options</var>, preserving their relative order. It performs the following steps when called:</p>
      <emu-alg><ol><li>Set <var>options</var> to ?&nbsp;<emu-xref aoid="CoerceOptionsToObject" id="_ref_417"><a href="#sec-coerceoptionstoobject">CoerceOptionsToObject</a></emu-xref>(<var>options</var>).</li><li>Let <var>matcher</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_418"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"localeMatcher"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"lookup"</emu-val>, <emu-val>"best fit"</emu-val>&nbsp;», <emu-val>"best fit"</emu-val>).</li><li>Let <var>subset</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each element <var>locale</var> of <var>requestedLocales</var>, do<ol><li>If <var>matcher</var> is <emu-val>"lookup"</emu-val>, then<ol><li>Let <var>match</var> be <emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_419"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref>(<var>availableLocales</var>, « <var>locale</var>&nbsp;»).</li></ol></li><li>Else,<ol><li>Let <var>match</var> be <emu-xref aoid="LookupMatchingLocaleByBestFit" id="_ref_420"><a href="#sec-lookupmatchinglocalebybestfit">LookupMatchingLocaleByBestFit</a></emu-xref>(<var>availableLocales</var>, « <var>locale</var>&nbsp;»).</li></ol></li><li>If <var>match</var> is not <emu-val>undefined</emu-val>, append <var>locale</var> to <var>subset</var>.</li></ol></li><li>Return <emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>subset</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getoptionsobject" type="abstract operation" aoid="GetOptionsObject">
      <h1><span class="secnum">9.2.10</span> GetOptionsObject ( <var>options</var> )</h1>
      <p>The abstract operation GetOptionsObject takes argument <var>options</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an Object or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. 
          It returns an Object suitable for use with <emu-xref aoid="GetOption" id="_ref_421"><a href="#sec-getoption">GetOption</a></emu-xref>, either <var>options</var> itself or a default empty Object.
          It throws a <emu-val>TypeError</emu-val> if <var>options</var> is not <emu-val>undefined</emu-val> and not an Object.
         It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>options</var> is <emu-val>undefined</emu-val>, then<ol><li>Return <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</li></ol></li><li>If <var>options</var> <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">is an Object</a></emu-xref>, then<ol><li>Return <var>options</var>.</li></ol></li><li>Throw a <emu-val>TypeError</emu-val> exception.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-coerceoptionstoobject" type="abstract operation" aoid="CoerceOptionsToObject">
      <h1><span class="secnum">9.2.11</span> CoerceOptionsToObject ( <var>options</var> )</h1>
      <p>The abstract operation CoerceOptionsToObject takes argument <var>options</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an Object or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. 
          It coerces <var>options</var> into an Object suitable for use with <emu-xref aoid="GetOption" id="_ref_422"><a href="#sec-getoption">GetOption</a></emu-xref>, defaulting to an empty Object.
          Because it coerces non-null primitive values into objects, its use is discouraged for new functionality in favour of <emu-xref aoid="GetOptionsObject" id="_ref_423"><a href="#sec-getoptionsobject">GetOptionsObject</a></emu-xref>.
         It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>options</var> is <emu-val>undefined</emu-val>, then<ol><li>Return <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</li></ol></li><li>Return ?&nbsp;<emu-xref aoid="ToObject"><a href="https://tc39.es/ecma262/#sec-toobject">ToObject</a></emu-xref>(<var>options</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getoption" type="abstract operation" aoid="GetOption">
      <h1><span class="secnum">9.2.12</span> GetOption ( <var>options</var>, <var>property</var>, <var>type</var>, <var>values</var>, <var>default</var> )</h1>
      <p>The abstract operation GetOption takes arguments <var>options</var> (an Object), <var>property</var> (a <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">property key</a></emu-xref>), <var>type</var> (<emu-const>boolean</emu-const> or <emu-const>string</emu-const>), <var>values</var> (<emu-const>empty</emu-const> or a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language values</a></emu-xref>), and <var>default</var> (<emu-const>required</emu-const> or an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref> or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It extracts the value of the specified property of <var>options</var>, converts it to the required <var>type</var>, checks whether it is allowed by <var>values</var> if <var>values</var> is not <emu-const>empty</emu-const>, and substitutes <var>default</var> if the value is <emu-val>undefined</emu-val>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>value</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <var>property</var>).</li><li>If <var>value</var> is <emu-val>undefined</emu-val>, then<ol><li>If <var>default</var> is <emu-const>required</emu-const>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return <var>default</var>.</li></ol></li><li>If <var>type</var> is <emu-const>boolean</emu-const>, then<ol><li>Set <var>value</var> to <emu-xref aoid="ToBoolean"><a href="https://tc39.es/ecma262/#sec-toboolean">ToBoolean</a></emu-xref>(<var>value</var>).</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>type</var> is <emu-const>string</emu-const>.</li><li>Set <var>value</var> to ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>value</var>).</li></ol></li><li>If <var>values</var> is not <emu-const>empty</emu-const> and <var>values</var> does not contain <var>value</var>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return <var>value</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getbooleanorstringnumberformatoption" type="abstract operation" aoid="GetBooleanOrStringNumberFormatOption">
      <h1><span class="secnum">9.2.13</span> GetBooleanOrStringNumberFormatOption ( <var>options</var>, <var>property</var>, <var>stringValues</var>, <var>fallback</var> )</h1>
      <p>The abstract operation GetBooleanOrStringNumberFormatOption takes arguments <var>options</var> (an Object), <var>property</var> (a <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">property key</a></emu-xref>), <var>stringValues</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings), and <var>fallback</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> either a Boolean, String, or <var>fallback</var>, or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It extracts the value of the property named <var>property</var> from the provided <var>options</var> object. It returns <var>fallback</var> if that value is <emu-val>undefined</emu-val>, <emu-val>true</emu-val> if that value is <emu-val>true</emu-val>, <emu-val>false</emu-val> if that value coerces to <emu-val>false</emu-val>, and otherwise coerces it to a String and returns the result if it is allowed by <var>stringValues</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>value</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <var>property</var>).</li><li>If <var>value</var> is <emu-val>undefined</emu-val>, return <var>fallback</var>.</li><li>If <var>value</var> is <emu-val>true</emu-val>, return <emu-val>true</emu-val>.</li><li>If <emu-xref aoid="ToBoolean"><a href="https://tc39.es/ecma262/#sec-toboolean">ToBoolean</a></emu-xref>(<var>value</var>) is <emu-val>false</emu-val>, return <emu-val>false</emu-val>.</li><li>Set <var>value</var> to ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>value</var>).</li><li>If <var>stringValues</var> does not contain <var>value</var>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return <var>value</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-defaultnumberoption" type="abstract operation" aoid="DefaultNumberOption">
      <h1><span class="secnum">9.2.14</span> DefaultNumberOption ( <var>value</var>, <var>minimum</var>, <var>maximum</var>, <var>fallback</var> )</h1>
      <p>The abstract operation DefaultNumberOption takes arguments <var>value</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>), <var>minimum</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), <var>maximum</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), and <var>fallback</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> or <emu-val>undefined</emu-val>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> either an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> or <emu-val>undefined</emu-val>, or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It converts <var>value</var> to an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>, checks whether it is in the allowed range, and fills in a <var>fallback</var> value if necessary. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>value</var> is <emu-val>undefined</emu-val>, return <var>fallback</var>.</li><li>Set <var>value</var> to ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>value</var>).</li><li>If <var>value</var> is not <emu-xref href="#finite"><a href="https://tc39.es/ecma262/#finite">finite</a></emu-xref> or <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>value</var>) &lt; <var>minimum</var> or <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>value</var>) &gt; <var>maximum</var>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return <emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>value</var>)).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getnumberoption" type="abstract operation" aoid="GetNumberOption">
      <h1><span class="secnum">9.2.15</span> GetNumberOption ( <var>options</var>, <var>property</var>, <var>minimum</var>, <var>maximum</var>, <var>fallback</var> )</h1>
      <p>The abstract operation GetNumberOption takes arguments <var>options</var> (an Object), <var>property</var> (a String), <var>minimum</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), <var>maximum</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), and <var>fallback</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> or <emu-val>undefined</emu-val>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> either an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> or <emu-val>undefined</emu-val>, or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It extracts the value of the property named <var>property</var> from the provided <var>options</var> object, converts it to an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>, checks whether it is in the allowed range, and fills in a <var>fallback</var> value if necessary. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>value</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <var>property</var>).</li><li>Return ?&nbsp;<emu-xref aoid="DefaultNumberOption" id="_ref_424"><a href="#sec-defaultnumberoption">DefaultNumberOption</a></emu-xref>(<var>value</var>, <var>minimum</var>, <var>maximum</var>, <var>fallback</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-partitionpattern" type="abstract operation" aoid="PartitionPattern">
      <h1><span class="secnum">9.2.16</span> PartitionPattern ( <var>pattern</var> )</h1>
      <p>The abstract operation PartitionPattern takes argument <var>pattern</var> (a <emu-xref href="#sec-pattern-string-types" id="_ref_425"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String) and <var class="field">[[Value]]</var> (a String or <emu-val>undefined</emu-val>). 
          The <var class="field">[[Value]]</var> field will be a String value if <var class="field">[[Type]]</var> is <emu-val>"literal"</emu-val>, and <emu-val>undefined</emu-val> otherwise.
         It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>placeholderEnd</var> be -1.</li><li>Let <var>placeholderStart</var> be <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>pattern</var>, <emu-val>"{"</emu-val>, 0).</li><li>Repeat, while <var>placeholderStart</var> is not <emu-const>not-found</emu-const>,<ol><li>Let <var>literal</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>pattern</var> from <var>placeholderEnd</var> + 1 to <var>placeholderStart</var>.</li><li>If <var>literal</var> is not the empty String, then<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>literal</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Set <var>placeholderEnd</var> to <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>pattern</var>, <emu-val>"}"</emu-val>, <var>placeholderStart</var>).</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>placeholderEnd</var> is not <emu-const>not-found</emu-const> and <var>placeholderStart</var> &lt; <var>placeholderEnd</var>.</li><li>Let <var>placeholderName</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>pattern</var> from <var>placeholderStart</var> + 1 to <var>placeholderEnd</var>.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>placeholderName</var>, <var class="field">[[Value]]</var>: <emu-val>undefined</emu-val>&nbsp;} to <var>result</var>.</li><li>Set <var>placeholderStart</var> to <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>pattern</var>, <emu-val>"{"</emu-val>, <var>placeholderEnd</var>).</li></ol></li><li>Let <var>tail</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>pattern</var> from <var>placeholderEnd</var> + 1.</li><li>If <var>tail</var> is not the empty String, then<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>tail</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>


<emu-clause id="collator-objects">
  <h1><span class="secnum">10</span> Collator Objects</h1>

  <emu-clause id="sec-intl-collator-constructor" oldids="sec-the-intl-collator-constructor"><span id="sec-the-intl-collator-constructor"></span>
    <h1><span class="secnum">10.1</span> The Intl.Collator Constructor</h1>

    <p>The Intl.Collator <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.Collator%</dfn>.</li>
      <li>is the initial value of the <emu-val>"Collator"</emu-val> property of the <emu-xref href="#intl-object" id="_ref_426"><a href="#intl-object">Intl object</a></emu-xref>.</li>
    </ul>

    <p>Behaviour common to all <emu-xref href="#service-constructor" id="_ref_427"><a href="#service-constructor">service constructor</a></emu-xref> properties of the <emu-xref href="#intl-object" id="_ref_428"><a href="#intl-object">Intl object</a></emu-xref> is specified in <emu-xref href="#sec-internal-slots" id="_ref_42"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

    <emu-clause id="sec-intl.collator" oldids="sec-initializecollator"><span id="sec-initializecollator"></span>
      <h1><span class="secnum">10.1.1</span> Intl.Collator ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>When the <code>Intl.Collator</code> function is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>
      <emu-alg><ol><li>If NewTarget is <emu-val>undefined</emu-val>, let <var>newTarget</var> be the <emu-xref href="#active-function-object"><a href="https://tc39.es/ecma262/#active-function-object">active function object</a></emu-xref>, else let <var>newTarget</var> be NewTarget.</li><li>Let <var>internalSlotsList</var> be « <var class="field">[[InitializedCollator]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[Usage]]</var>, <var class="field">[[Collation]]</var>, <var class="field">[[Numeric]]</var>, <var class="field">[[CaseFirst]]</var>, <var class="field">[[Sensitivity]]</var>, <var class="field">[[IgnorePunctuation]]</var>, <var class="field">[[BoundCompare]]</var>&nbsp;».</li><li>Let <var>collator</var> be ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(<var>newTarget</var>, <emu-val>"%Intl.Collator.prototype%"</emu-val>, <var>internalSlotsList</var>).</li><li>NOTE: The source of locale data for <emu-xref aoid="ResolveOptions" id="_ref_429"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref> depends upon the <emu-val>"usage"</emu-val> property of <var>options</var>, but the following two steps must observably precede that lookup (and must not observably repeat inside <emu-xref aoid="ResolveOptions" id="_ref_430"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>).</li><li>Let <var>requestedLocales</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_431"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>Set <var>options</var> to ?&nbsp;<emu-xref aoid="CoerceOptionsToObject" id="_ref_432"><a href="#sec-coerceoptionstoobject">CoerceOptionsToObject</a></emu-xref>(<var>options</var>).</li><li>Let <var>usage</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_433"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"usage"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"sort"</emu-val>, <emu-val>"search"</emu-val>&nbsp;», <emu-val>"sort"</emu-val>).</li><li>Set <var>collator</var>.<var class="field">[[Usage]]</var> to <var>usage</var>.</li><li>If <var>usage</var> is <emu-val>"sort"</emu-val>, then<ol><li>Let <var>localeData</var> be <emu-xref href="#sec-intl-collator-constructor" id="_ref_434"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.<var class="field">[[SortLocaleData]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>localeData</var> be <emu-xref href="#sec-intl-collator-constructor" id="_ref_435"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.<var class="field">[[SearchLocaleData]]</var>.</li></ol></li><li>Let <var>optionsResolution</var> be ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_436"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-collator-constructor" id="_ref_437"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>, <var>localeData</var>, <emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>requestedLocales</var>), <var>options</var>).</li><li>Let <var>r</var> be <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var>.</li><li>Set <var>collator</var>.<var class="field">[[Locale]]</var> to <var>r</var>.<var class="field">[[Locale]]</var>.</li><li>If <var>r</var>.<var class="field">[[co]]</var> is <emu-val>null</emu-val>, let <var>collation</var> be <emu-val>"default"</emu-val>. Otherwise, let <var>collation</var> be <var>r</var>.<var class="field">[[co]]</var>.</li><li>Set <var>collator</var>.<var class="field">[[Collation]]</var> to <var>collation</var>.</li><li>Set <var>collator</var>.<var class="field">[[Numeric]]</var> to <emu-xref aoid="SameValue"><a href="https://tc39.es/ecma262/#sec-samevalue">SameValue</a></emu-xref>(<var>r</var>.<var class="field">[[kn]]</var>, <emu-val>"true"</emu-val>).</li><li>Set <var>collator</var>.<var class="field">[[CaseFirst]]</var> to <var>r</var>.<var class="field">[[kf]]</var>.</li><li>Let <var>resolvedLocaleData</var> be <var>r</var>.<var class="field">[[LocaleData]]</var>.</li><li>If <var>usage</var> is <emu-val>"sort"</emu-val>, let <var>defaultSensitivity</var> be <emu-val>"variant"</emu-val>. Otherwise, let <var>defaultSensitivity</var> be <var>resolvedLocaleData</var>.<var class="field">[[sensitivity]]</var>.</li><li>Set <var>collator</var>.<var class="field">[[Sensitivity]]</var> to ?&nbsp;<emu-xref aoid="GetOption" id="_ref_438"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"sensitivity"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"base"</emu-val>, <emu-val>"accent"</emu-val>, <emu-val>"case"</emu-val>, <emu-val>"variant"</emu-val>&nbsp;», <var>defaultSensitivity</var>).</li><li>Let <var>defaultIgnorePunctuation</var> be <var>resolvedLocaleData</var>.<var class="field">[[ignorePunctuation]]</var>.</li><li>Set <var>collator</var>.<var class="field">[[IgnorePunctuation]]</var> to ?&nbsp;<emu-xref aoid="GetOption" id="_ref_439"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"ignorePunctuation"</emu-val>, <emu-const>boolean</emu-const>, <emu-const>empty</emu-const>, <var>defaultIgnorePunctuation</var>).</li><li>Return <var>collator</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-note><span class="note">Note</span><div class="note-contents">
      The collation associated with the <emu-val>"search"</emu-val> value for the <emu-val>"usage"</emu-val> option should only be used to find matching strings, since this collation is not guaranteed to be in any particular order. This behaviour is described in <a href="https://unicode.org/reports/tr35/#UnicodeCollationIdentifier">Unicode Technical Standard #35 Part 1 Core, Unicode Collation Identifier</a> and <a href="https://unicode.org/reports/tr10/#Searching">Unicode Technical Standard #10 Unicode Collation Algorithm, Searching and Matching</a>.
    </div></emu-note>
  </emu-clause>

  <emu-clause id="sec-properties-of-the-intl-collator-constructor">
    <h1><span class="secnum">10.2</span> Properties of the Intl.Collator Constructor</h1>

    <p>The Intl.Collator <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref>.</li>
      <li>has the following properties:</li>
    </ul>

    <emu-clause id="sec-intl.collator.prototype">
      <h1><span class="secnum">10.2.1</span> Intl.Collator.prototype</h1>

      <p>The value of <code>Intl.Collator.prototype</code> is <emu-xref href="#sec-properties-of-the-intl-collator-prototype-object" id="_ref_440"><a href="#sec-properties-of-the-intl-collator-prototype-object">%Intl.Collator.prototype%</a></emu-xref>.</p>

      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> }.</p>
    </emu-clause>

    <emu-clause id="sec-intl.collator.supportedlocalesof">
      <h1><span class="secnum">10.2.2</span> Intl.Collator.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p>When the <code>supportedLocalesOf</code> method is called with arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>availableLocales</var> be <emu-xref href="#sec-intl-collator-constructor" id="_ref_441"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var>.</li><li>Let <var>requestedLocales</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_442"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_443"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl-collator-internal-slots">
      <h1><span class="secnum">10.2.3</span> Internal slots</h1>

      <p>The value of the <var class="field">[[AvailableLocales]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_43"><a href="#sec-internal-slots">9.1</a></emu-xref>. The value of the <var class="field">[[RelevantExtensionKeys]]</var> internal slot is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> that must include the element <emu-val>"co"</emu-val>, may include any or all of the elements <emu-val>"kf"</emu-val> and <emu-val>"kn"</emu-val>, and must not include any other elements.</p>

      <emu-note><span class="note">Note</span><div class="note-contents">
        <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode Technical Standard #35 Part 1 Core, Section 3.6.1 Key and Type Definitions</a> describes ten locale extension keys that are relevant to collation: <emu-val>"co"</emu-val> for collator usage and specializations, <emu-val>"ka"</emu-val> for alternate handling, <emu-val>"kb"</emu-val> for backward second level weight, <emu-val>"kc"</emu-val> for case level, <emu-val>"kf"</emu-val> for case first, <emu-val>"kh"</emu-val> for hiragana quaternary, <emu-val>"kk"</emu-val> for normalization, <emu-val>"kn"</emu-val> for numeric, <emu-val>"kr"</emu-val> for reordering, <emu-val>"ks"</emu-val> for collation strength, and <emu-val>"vt"</emu-val> for variable top. Collator, however, requires that the usage is specified through the <emu-val>"usage"</emu-val> property of the options object, alternate handling through the <emu-val>"ignorePunctuation"</emu-val> property of the options object, and case level and the strength through the <emu-val>"sensitivity"</emu-val> property of the options object. The <emu-val>"co"</emu-val> key in the <emu-xref href="#sec-language-tags" id="_ref_444"><a href="#sec-language-tags">language tag</a></emu-xref> is supported only for collator specializations, and the keys <emu-val>"kb"</emu-val>, <emu-val>"kh"</emu-val>, <emu-val>"kk"</emu-val>, <emu-val>"kr"</emu-val>, and <emu-val>"vt"</emu-val> are not allowed in this version of the Internationalization API. Support for the remaining keys is implementation dependent.
      </div></emu-note>

      <p>The value of the <var class="field">[[ResolutionOptionDescriptors]]</var> internal slot is « { <var class="field">[[Key]]</var>: <emu-val>"co"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"collation"</emu-val> }, { <var class="field">[[Key]]</var>: <emu-val>"kn"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"numeric"</emu-val>, <var class="field">[[Type]]</var>: <emu-const>boolean</emu-const> }, { <var class="field">[[Key]]</var>: <emu-val>"kf"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"caseFirst"</emu-val>, <var class="field">[[Values]]</var>: « <emu-val>"upper"</emu-val>, <emu-val>"lower"</emu-val>, <emu-val>"false"</emu-val> » } ».</p>

      <p>The values of the <var class="field">[[SortLocaleData]]</var> and <var class="field">[[SearchLocaleData]]</var> internal slots are <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_44"><a href="#sec-internal-slots">9.1</a></emu-xref> and the following additional constraints, for all locale values <var>locale</var>:</p>

      <ul>
        <li>The first element of <var class="field">[[SortLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[co]]</var> and <var class="field">[[SearchLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[co]]</var> must be <emu-val>null</emu-val>.</li>
        <li>The values <emu-val>"standard"</emu-val> and <emu-val>"search"</emu-val> must not be used as elements in any <var class="field">[[SortLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[co]]</var> and <var class="field">[[SearchLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[co]]</var> <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li>
        <li><var class="field">[[SearchLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] must have a <var class="field">[[sensitivity]]</var> field with one of the String values <emu-val>"base"</emu-val>, <emu-val>"accent"</emu-val>, <emu-val>"case"</emu-val>, or <emu-val>"variant"</emu-val>.</li>
        <li><var class="field">[[SearchLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] and <var class="field">[[SortLocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] must have an <var class="field">[[ignorePunctuation]]</var> field with a Boolean value.</li>
      </ul>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-the-intl-collator-prototype-object">
    <h1><span class="secnum">10.3</span> Properties of the Intl.Collator Prototype Object</h1>

    <p>The <dfn tabindex="-1">Intl.Collator prototype object</dfn>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.Collator.prototype%</dfn>.</li>
      <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
      <li>is not an Intl.Collator instance and does not have an <var class="field">[[InitializedCollator]]</var> internal slot or any of the other internal slots of Intl.Collator instance objects.</li>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>.</li>
    </ul>

    <emu-clause id="sec-intl.collator.prototype.constructor">
      <h1><span class="secnum">10.3.1</span> Intl.Collator.prototype.constructor</h1>

      <p>The initial value of <code>Intl.Collator.prototype.constructor</code> is <emu-xref href="#sec-intl-collator-constructor" id="_ref_445"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.collator.prototype.resolvedoptions">
      <h1><span class="secnum">10.3.2</span> Intl.Collator.prototype.resolvedOptions ( )</h1>

      <p>This function provides access to the locale and options computed during initialization of the object.</p>

      <emu-alg><ol><li>Let <var>collator</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>collator</var>, <var class="field">[[InitializedCollator]]</var>).</li><li>Let <var>options</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>For each row of <emu-xref href="#table-collator-resolvedoptions-properties" id="_ref_45"><a href="#table-collator-resolvedoptions-properties">Table 3</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>p</var> be the Property value of the current row.</li><li>Let <var>v</var> be the value of <var>collator</var>'s internal slot whose name is the Internal Slot value of the current row.</li><li>If the current row has an Extension Key value, then<ol><li>Let <var>extensionKey</var> be the Extension Key value of the current row.</li><li>If <emu-xref href="#sec-intl-collator-constructor" id="_ref_446"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.<var class="field">[[RelevantExtensionKeys]]</var> does not contain <var>extensionKey</var>, then<ol><li>Set <var>v</var> to <emu-val>undefined</emu-val>.</li></ol></li></ol></li><li>If <var>v</var> is not <emu-val>undefined</emu-val>, then<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>).</li></ol></li></ol></li><li>Return <var>options</var>.</li></ol></emu-alg>

      <emu-table id="table-collator-resolvedoptions-properties"><figure><figcaption>Table 3: Resolved Options of Collator Instances</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Property</th>
              <th>Extension Key</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Usage]]</var></td>
            <td><emu-val>"usage"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Sensitivity]]</var></td>
            <td><emu-val>"sensitivity"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[IgnorePunctuation]]</var></td>
            <td><emu-val>"ignorePunctuation"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Collation]]</var></td>
            <td><emu-val>"collation"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Numeric]]</var></td>
            <td><emu-val>"numeric"</emu-val></td>
            <td><emu-val>"kn"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[CaseFirst]]</var></td>
            <td><emu-val>"caseFirst"</emu-val></td>
            <td><emu-val>"kf"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-intl.collator.prototype.compare">
      <h1><span class="secnum">10.3.3</span> get Intl.Collator.prototype.compare</h1>

      <p>This named <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> returns a function that compares two strings according to the <emu-xref href="#sort-order"><a href="https://tc39.es/ecma262/#sort-order">sort order</a></emu-xref> of this Collator object.</p>
      <p>Intl.Collator.prototype.compare is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>

      <emu-alg><ol><li>Let <var>collator</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>collator</var>, <var class="field">[[InitializedCollator]]</var>).</li><li>If <var>collator</var>.<var class="field">[[BoundCompare]]</var> is <emu-val>undefined</emu-val>, then<ol><li>Let <var>F</var> be a new built-in <emu-xref href="#function-object"><a href="https://tc39.es/ecma262/#function-object">function object</a></emu-xref> as defined in <emu-xref href="#sec-collator-compare-functions" id="_ref_46"><a href="#sec-collator-compare-functions">10.3.3.1</a></emu-xref>.</li><li>Set <var>F</var>.<var class="field">[[Collator]]</var> to <var>collator</var>.</li><li>Set <var>collator</var>.<var class="field">[[BoundCompare]]</var> to <var>F</var>.</li></ol></li><li>Return <var>collator</var>.<var class="field">[[BoundCompare]]</var>.</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        The returned function is bound to <var>collator</var> so that it can be passed directly to <code>Array.prototype.sort</code> or other functions.
      </div></emu-note>

      <emu-clause id="sec-collator-compare-functions">
        <h1><span class="secnum">10.3.3.1</span> Collator Compare Functions</h1>

        <p>A Collator compare function is an anonymous built-in function that has a <var class="field">[[Collator]]</var> internal slot.</p>
        <p>When a Collator compare function <var>F</var> is called with arguments <var>x</var> and <var>y</var>, the following steps are taken:</p>

        <emu-alg><ol><li>Let <var>collator</var> be <var>F</var>.<var class="field">[[Collator]]</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>collator</var> <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">is an Object</a></emu-xref> and <var>collator</var> has an <var class="field">[[InitializedCollator]]</var> internal slot.</li><li>If <var>x</var> is not provided, let <var>x</var> be <emu-val>undefined</emu-val>.</li><li>If <var>y</var> is not provided, let <var>y</var> be <emu-val>undefined</emu-val>.</li><li>Let <var>X</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>x</var>).</li><li>Let <var>Y</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>y</var>).</li><li>Return <emu-xref aoid="CompareStrings" id="_ref_447"><a href="#sec-collator-comparestrings">CompareStrings</a></emu-xref>(<var>collator</var>, <var>X</var>, <var>Y</var>).</li></ol></emu-alg>

        <p>The <emu-val>"length"</emu-val> property of a Collator compare function is <emu-val>2</emu-val><sub>𝔽</sub>.</p>
      </emu-clause>

      <emu-clause id="sec-collator-comparestrings" type="implementation-defined abstract operation" aoid="CompareStrings">
        <h1><span class="secnum">10.3.3.2</span> CompareStrings ( <var>collator</var>, <var>x</var>, <var>y</var> )</h1>
        <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation CompareStrings takes arguments <var>collator</var> (an Intl.Collator), <var>x</var> (a String), and <var>y</var> (a String) and returns a Number, but not <emu-val>NaN</emu-val>. 
            The returned Number represents the result of an <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> locale-sensitive String comparison of <var>x</var> with <var>y</var>.
            The result is intended to correspond with a <emu-xref href="#sort-order"><a href="https://tc39.es/ecma262/#sort-order">sort order</a></emu-xref> of String values according to the effective locale and collation options of <var>collator</var>, and will be negative when <var>x</var> is ordered before <var>y</var>, positive when <var>x</var> is ordered after <var>y</var>, and zero in all other cases (representing no relative ordering between <var>x</var> and <var>y</var>).
            String values must be interpreted as UTF-16 code unit sequences as described in <emu-xref href="#ecma262" id="_ref_448"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">6.1.4</a></emu-xref>, and a <emu-xref href="#surrogate-pair"><a href="https://tc39.es/ecma262/#surrogate-pair">surrogate pair</a></emu-xref> (a code unit in the range 0xD800 to 0xDBFF followed by a code unit in the range 0xDC00 to 0xDFFF) within a string must be interpreted as the corresponding code point.
          </p>

        <p>Behaviour as described below depends upon locale-sensitive identification of the sequence of collation elements for a string, in particular "base letters", and different base letters always compare as unequal (causing the strings containing them to also compare as unequal). Results of comparing variations of the same base letter with different case, diacritic marks, or potentially other aspects further depends upon <var>collator</var>.<var class="field">[[Sensitivity]]</var> as follows:</p>

        <emu-table id="table-collator-comparestrings-sensitivity"><figure><figcaption>Table 4: Effects of Collator Sensitivity</figcaption>
          
          <table class="real-table">
            <thead style="white-space: nowrap">
              <tr>
                <th><var class="field">[[Sensitivity]]</var></th>
                <th>Description</th>
                <th><emu-val>"a"</emu-val> vs. <emu-val>"á"</emu-val></th>
                <th><emu-val>"a"</emu-val> vs. <emu-val>"A"</emu-val></th>
              </tr>
            </thead>
            <tbody><tr>
              <td><emu-val>"base"</emu-val></td>
              <td>Characters with the same base letter do not compare as unequal, regardless of differences in case and/or diacritic marks.</td>
              <td>equal</td>
              <td>equal</td>
            </tr>
            <tr>
              <td><emu-val>"accent"</emu-val></td>
              <td>Characters with the same base letter compare as unequal only if they differ in accents and/or other diacritic marks, regardless of differences in case.</td>
              <td>not equal</td>
              <td>equal</td>
            </tr>
            <tr>
              <td><emu-val>"case"</emu-val></td>
              <td>Characters with the same base letter compare as unequal only if they differ in case, regardless of differences in accents and/or other diacritic marks.</td>
              <td>equal</td>
              <td>not equal</td>
            </tr>
            <tr>
              <td><emu-val>"variant"</emu-val></td>
              <td>Characters with the same base letter compare as unequal if they differ in case, diacritic marks, and/or potentially other differences.</td>
              <td>not equal</td>
              <td>not equal</td>
            </tr>
          </tbody></table>
        </figure></emu-table>

        <emu-note><span class="note">Note 1</span><div class="note-contents">
          The mapping from input code points to base letters can include arbitrary contractions, expansions, and collisions, including those that apply special treatment to certain characters with diacritic marks. For example, in Swedish, "ö" is a base letter that differs from "o", and "v" and "w" are considered to be the same base letter. In Slovak, "ch" is a single base letter, and in English, "æ" is a sequence of base letters starting with "a" and ending with "e".
        </div></emu-note>

        <p>If <var>collator</var>.<var class="field">[[IgnorePunctuation]]</var> is <emu-val>true</emu-val>, then punctuation is ignored (e.g., strings that differ only in punctuation compare as equal).</p>

        <p>For the interpretation of options settable through locale extension keys, see <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode Technical Standard #35 Part 1 Core, Section 3.6.1 Key and Type Definitions</a>.</p>

        <p>The actual return values are <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> to permit encoding additional information in them, but this operation for any given <var>collator</var>, when considered as a function of <var>x</var> and <var>y</var>, is required to be a <emu-xref href="#consistent-comparator"><a href="https://tc39.es/ecma262/#consistent-comparator">consistent comparator</a></emu-xref> defining a total ordering on the set of all Strings. This operation is also required to recognize and honour canonical equivalence according to the Unicode Standard, including returning <emu-val>+0</emu-val><sub>𝔽</sub> when comparing distinguishable Strings that are canonically equivalent.</p>

        <emu-note><span class="note">Note 2</span><div class="note-contents">
          It is recommended that the CompareStrings abstract operation be implemented following <a href="https://unicode.org/reports/tr10/">Unicode Technical Standard #10: Unicode Collation Algorithm</a>, using tailorings for the effective locale and collation options of <var>collator</var>. It is recommended that implementations use the tailorings provided by the Common Locale Data Repository (available at <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>).
        </div></emu-note>

        <emu-note><span class="note">Note 3</span><div class="note-contents">
          Applications should not assume that the behaviour of the CompareStrings abstract operation for Collator instances with the same resolved options will remain the same for different versions of the same implementation.
        </div></emu-note>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-intl.collator.prototype-%symbol.tostringtag%" oldids="sec-intl.collator.prototype-@@tostringtag"><span id="sec-intl.collator.prototype-@@tostringtag"></span>
      <h1><span class="secnum">10.3.4</span> Intl.Collator.prototype [ %Symbol.toStringTag% ]</h1>

      <p>The initial value of the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property is the String value <emu-val>"Intl.Collator"</emu-val>.</p>

      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> }.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-collator-instances">
    <h1><span class="secnum">10.4</span> Properties of Intl.Collator Instances</h1>

    <p>Intl.Collator instances are <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary objects</a></emu-xref> that inherit properties from <emu-xref href="#sec-properties-of-the-intl-collator-prototype-object" id="_ref_449"><a href="#sec-properties-of-the-intl-collator-prototype-object">%Intl.Collator.prototype%</a></emu-xref>.</p>

    <p>Intl.Collator instances have an <var class="field">[[InitializedCollator]]</var> internal slot.</p>

    <p>Intl.Collator instances also have several internal slots that are computed by <emu-xref href="#sec-intl-collator-constructor" title="" id="_ref_47"><a href="#sec-intl-collator-constructor">The Intl.Collator Constructor</a></emu-xref>:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value with the <emu-xref href="#sec-language-tags" id="_ref_450"><a href="#sec-language-tags">language tag</a></emu-xref> of the locale whose localization is used for collation.</li>
      <li><var class="field">[[Usage]]</var> is one of the String values <emu-val>"sort"</emu-val> or <emu-val>"search"</emu-val>, identifying the collator usage.</li>
      <li><var class="field">[[Sensitivity]]</var> is one of the String values <emu-val>"base"</emu-val>, <emu-val>"accent"</emu-val>, <emu-val>"case"</emu-val>, or <emu-val>"variant"</emu-val>, identifying the collator's sensitivity.</li>
      <li><var class="field">[[IgnorePunctuation]]</var> <emu-xref href="#sec-ecmascript-language-types-boolean-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-boolean-type">is a Boolean</a></emu-xref> value, specifying whether punctuation should be ignored in comparisons.</li>
      <li><var class="field">[[Collation]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value representing the <a href="https://unicode.org/reports/tr35/#UnicodeCollationIdentifier">Unicode Collation Identifier</a> used for collation, except that the values <emu-val>"standard"</emu-val> and <emu-val>"search"</emu-val> are not allowed, while the value <emu-val>"default"</emu-val> is allowed.</li>
    </ul>

    <p>Intl.Collator instances also have the following internal slots if the key corresponding to the name of the internal slot in <emu-xref href="#table-collator-resolvedoptions-properties" id="_ref_48"><a href="#table-collator-resolvedoptions-properties">Table 3</a></emu-xref> is included in the <var class="field">[[RelevantExtensionKeys]]</var> internal slot of Intl.Collator:</p>

    <ul>
      <li><var class="field">[[Numeric]]</var> <emu-xref href="#sec-ecmascript-language-types-boolean-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-boolean-type">is a Boolean</a></emu-xref> value, specifying whether numeric sorting is used.</li>
      <li><var class="field">[[CaseFirst]]</var> is one of the String values <emu-val>"upper"</emu-val>, <emu-val>"lower"</emu-val>, or <emu-val>"false"</emu-val>.</li>
    </ul>

    <p>Finally, Intl.Collator instances have a <var class="field">[[BoundCompare]]</var> internal slot that caches the function returned by the compare accessor (<emu-xref href="#sec-intl.collator.prototype.compare" id="_ref_49"><a href="#sec-intl.collator.prototype.compare">10.3.3</a></emu-xref>).</p>
  </emu-clause>
</emu-clause>

<emu-clause id="datetimeformat-objects">
  <h1><span class="secnum">11</span> DateTimeFormat Objects</h1>

  <emu-clause id="sec-intl-datetimeformat-constructor">
    <h1><span class="secnum">11.1</span> The Intl.DateTimeFormat Constructor</h1>

    <p>The Intl.DateTimeFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.DateTimeFormat%</dfn>.</li>
      <li>is the initial value of the <emu-val>"DateTimeFormat"</emu-val> property of the <emu-xref href="#intl-object" id="_ref_451"><a href="#intl-object">Intl object</a></emu-xref>.</li>
    </ul>

    <p>Behaviour common to all <emu-xref href="#service-constructor" id="_ref_452"><a href="#service-constructor">service constructor</a></emu-xref> properties of the <emu-xref href="#intl-object" id="_ref_453"><a href="#intl-object">Intl object</a></emu-xref> is specified in <emu-xref href="#sec-internal-slots" id="_ref_50"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

    <emu-clause id="sec-intl.datetimeformat">
      <h1><span class="secnum">11.1.1</span> Intl.DateTimeFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>When the <code>Intl.DateTimeFormat</code> function is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>If NewTarget is <emu-val>undefined</emu-val>, let <var>newTarget</var> be the <emu-xref href="#active-function-object"><a href="https://tc39.es/ecma262/#active-function-object">active function object</a></emu-xref>, else let <var>newTarget</var> be NewTarget.</li><li>Let <var>dateTimeFormat</var> be ?&nbsp;<emu-xref aoid="CreateDateTimeFormat" id="_ref_454"><a href="#sec-createdatetimeformat">CreateDateTimeFormat</a></emu-xref>(<var>newTarget</var>, <var>locales</var>, <var>options</var>, <emu-const>any</emu-const>, <emu-const>date</emu-const>).</li><li>If the implementation supports the normative optional <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> mode of <emu-xref href="#legacy-constructor" id="_ref_51"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref>, then<ol><li>Let <var>this</var> be the <emu-val>this</emu-val> value.</li><li>Return ?&nbsp;<emu-xref aoid="ChainDateTimeFormat" id="_ref_455"><a href="#sec-chaindatetimeformat">ChainDateTimeFormat</a></emu-xref>(<var>dateTimeFormat</var>, NewTarget, <var>this</var>).</li></ol></li><li>Return <var>dateTimeFormat</var>.</li></ol></emu-alg>

      <emu-clause id="sec-chaindatetimeformat" type="abstract operation" normative-optional="" aoid="ChainDateTimeFormat"><div class="attributes-tag"><emu-xref href="#sec-conformance"><a href="https://tc39.es/ecma262/#sec-conformance">Normative Optional</a></emu-xref></div>
        <h1><span class="secnum">11.1.1.1</span> ChainDateTimeFormat ( <var>dateTimeFormat</var>, <var>newTarget</var>, <var>this</var> )</h1>
        <p>The abstract operation ChainDateTimeFormat takes arguments <var>dateTimeFormat</var> (an Intl.DateTimeFormat), <var>newTarget</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>), and <var>this</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an Object or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
        <emu-alg><ol><li>If <var>newTarget</var> is <emu-val>undefined</emu-val> and ?&nbsp;<emu-xref aoid="OrdinaryHasInstance"><a href="https://tc39.es/ecma262/#sec-ordinaryhasinstance">OrdinaryHasInstance</a></emu-xref>(<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_456"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, <var>this</var>) is <emu-val>true</emu-val>, then<ol><li>Perform ?&nbsp;<emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>this</var>, <emu-xref href="#intl-object" id="_ref_457"><a href="#intl-object">%Intl%</a></emu-xref>.<var class="field">[[FallbackSymbol]]</var>, PropertyDescriptor{ <var class="field">[[Value]]</var>: <var>dateTimeFormat</var>, <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val>&nbsp;}).</li><li>Return <var>this</var>.</li></ol></li><li>Return <var>dateTimeFormat</var>.</li></ol></emu-alg>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-createdatetimeformat" type="abstract operation" oldids="sec-initializedatetimeformat,sec-todatetimeoptions" aoid="CreateDateTimeFormat"><span id="sec-todatetimeoptions"></span><span id="sec-initializedatetimeformat"></span>
      <h1><span class="secnum">11.1.2</span> CreateDateTimeFormat ( <var>newTarget</var>, <var>locales</var>, <var>options</var>, <var>required</var>, <var>defaults</var> )</h1>

      <p>The abstract operation CreateDateTimeFormat takes arguments <var>newTarget</var> (a <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>), <var>locales</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>), <var>options</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>), <var>required</var> (<emu-const>date</emu-const>, <emu-const>time</emu-const>, or <emu-const>any</emu-const>), and <var>defaults</var> (<emu-const>date</emu-const>, <emu-const>time</emu-const>, or <emu-const>all</emu-const>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a DateTimeFormat object or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>dateTimeFormat</var> be ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(<var>newTarget</var>, <emu-val>"%Intl.DateTimeFormat.prototype%"</emu-val>, « <var class="field">[[InitializedDateTimeFormat]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[Calendar]]</var>, <var class="field">[[NumberingSystem]]</var>, <var class="field">[[TimeZone]]</var>, <var class="field">[[HourCycle]]</var>, <var class="field">[[DateStyle]]</var>, <var class="field">[[TimeStyle]]</var>, <var class="field">[[DateTimeFormat]]</var>, <var class="field">[[BoundFormat]]</var>&nbsp;»).</li><li>Let <var>hour12</var> be <emu-val>undefined</emu-val>.</li><li>Let <var>modifyResolutionOptions</var> be a new <emu-xref href="#sec-abstract-closure"><a href="https://tc39.es/ecma262/#sec-abstract-closure">Abstract Closure</a></emu-xref> with parameters (<var>options</var>) that captures <var>hour12</var> and performs the following steps when called:<ol><li>Set <var>hour12</var> to <var>options</var>.<var class="field">[[hour12]]</var>.</li><li>Remove field <var class="field">[[hour12]]</var> from <var>options</var>.</li><li>If <var>hour12</var> is not <emu-val>undefined</emu-val>, set <var>options</var>.<var class="field">[[hc]]</var> to <emu-val>null</emu-val>.</li></ol></li><li>Let <var>optionsResolution</var> be ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_458"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_459"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, <emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_460"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>, <var>options</var>, « <emu-const>coerce-options</emu-const>&nbsp;», <var>modifyResolutionOptions</var>).</li><li>Set <var>options</var> to <var>optionsResolution</var>.<var class="field">[[Options]]</var>.</li><li>Let <var>r</var> be <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var>.</li><li>Set <var>dateTimeFormat</var>.<var class="field">[[Locale]]</var> to <var>r</var>.<var class="field">[[Locale]]</var>.</li><li>Let <var>resolvedCalendar</var> be <var>r</var>.<var class="field">[[ca]]</var>.</li><li>Set <var>dateTimeFormat</var>.<var class="field">[[Calendar]]</var> to <var>resolvedCalendar</var>.</li><li>Set <var>dateTimeFormat</var>.<var class="field">[[NumberingSystem]]</var> to <var>r</var>.<var class="field">[[nu]]</var>.</li><li>Let <var>resolvedLocaleData</var> be <var>r</var>.<var class="field">[[LocaleData]]</var>.</li><li>If <var>hour12</var> is <emu-val>true</emu-val>, then<ol><li>Let <var>hc</var> be <var>resolvedLocaleData</var>.<var class="field">[[hourCycle12]]</var>.</li></ol></li><li>Else if <var>hour12</var> is <emu-val>false</emu-val>, then<ol><li>Let <var>hc</var> be <var>resolvedLocaleData</var>.<var class="field">[[hourCycle24]]</var>.</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>hour12</var> is <emu-val>undefined</emu-val>.</li><li>Let <var>hc</var> be <var>r</var>.<var class="field">[[hc]]</var>.</li><li>If <var>hc</var> is <emu-val>null</emu-val>, set <var>hc</var> to <var>resolvedLocaleData</var>.<var class="field">[[hourCycle]]</var>.</li></ol></li><li>Let <var>timeZone</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <emu-val>"timeZone"</emu-val>).</li><li>If <var>timeZone</var> is <emu-val>undefined</emu-val>, then<ol><li>Set <var>timeZone</var> to <emu-xref aoid="SystemTimeZoneIdentifier"><a href="https://tc39.es/ecma262/#sec-systemtimezoneidentifier">SystemTimeZoneIdentifier</a></emu-xref>().</li></ol></li><li>Else,<ol><li>Set <var>timeZone</var> to ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>timeZone</var>).</li></ol></li><li>If <emu-xref aoid="IsTimeZoneOffsetString"><a href="https://tc39.es/ecma262/#sec-istimezoneoffsetstring">IsTimeZoneOffsetString</a></emu-xref>(<var>timeZone</var>) is <emu-val>true</emu-val>, then<ol><li>Let <var>parseResult</var> be <emu-xref aoid="ParseText"><a href="https://tc39.es/ecma262/#sec-parsetext">ParseText</a></emu-xref>(<emu-xref aoid="StringToCodePoints"><a href="https://tc39.es/ecma262/#sec-stringtocodepoints">StringToCodePoints</a></emu-xref>(<var>timeZone</var>), <emu-nt><a href="https://tc39.es/ecma262/#prod-UTCOffset">UTCOffset</a></emu-nt>).</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>parseResult</var> is a <emu-xref href="#sec-syntactic-grammar"><a href="https://tc39.es/ecma262/#sec-syntactic-grammar">Parse Node</a></emu-xref>.</li><li>If <var>parseResult</var> contains more than one <emu-nt><a href="https://tc39.es/ecma262/#prod-MinuteSecond">MinuteSecond</a></emu-nt> <emu-xref href="#sec-syntactic-grammar"><a href="https://tc39.es/ecma262/#sec-syntactic-grammar">Parse Node</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>offsetNanoseconds</var> be <emu-xref aoid="ParseTimeZoneOffsetString"><a href="https://tc39.es/ecma262/#sec-parsetimezoneoffsetstring">ParseTimeZoneOffsetString</a></emu-xref>(<var>timeZone</var>).</li><li>Let <var>offsetMinutes</var> be <var>offsetNanoseconds</var> / (6 × 10<sup>10</sup>).</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>offsetMinutes</var> is an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>.</li><li>Set <var>timeZone</var> to <emu-xref aoid="FormatOffsetTimeZoneIdentifier" id="_ref_461"><a href="#sec-formatoffsettimezoneidentifier">FormatOffsetTimeZoneIdentifier</a></emu-xref>(<var>offsetMinutes</var>).</li></ol></li><li>Else,<ol><li>Let <var>timeZoneIdentifierRecord</var> be <emu-xref aoid="GetAvailableNamedTimeZoneIdentifier" id="_ref_462"><a href="#sec-getavailablenamedtimezoneidentifier">GetAvailableNamedTimeZoneIdentifier</a></emu-xref>(<var>timeZone</var>).</li><li>If <var>timeZoneIdentifierRecord</var> is <emu-const>empty</emu-const>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Set <var>timeZone</var> to <var>timeZoneIdentifierRecord</var>.<var class="field">[[PrimaryIdentifier]]</var>.</li></ol></li><li>Set <var>dateTimeFormat</var>.<var class="field">[[TimeZone]]</var> to <var>timeZone</var>.</li><li>Let <var>formatOptions</var> be a new <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>.</li><li>Set <var>formatOptions</var>.<var class="field">[[hourCycle]]</var> to <var>hc</var>.</li><li>Let <var>hasExplicitFormatComponents</var> be <emu-val>false</emu-val>.</li><li>For each row of <emu-xref href="#table-datetimeformat-components" id="_ref_52"><a href="#table-datetimeformat-components">Table 16</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>prop</var> be the name given in the Property column of the current row.</li><li>If <var>prop</var> is <emu-val>"fractionalSecondDigits"</emu-val>, then<ol><li>Let <var>value</var> be ?&nbsp;<emu-xref aoid="GetNumberOption" id="_ref_463"><a href="#sec-getnumberoption">GetNumberOption</a></emu-xref>(<var>options</var>, <emu-val>"fractionalSecondDigits"</emu-val>, 1, 3, <emu-val>undefined</emu-val>).</li></ol></li><li>Else,<ol><li>Let <var>values</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> whose elements are the strings given in the Values column of the current row.</li><li>Let <var>value</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_464"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <var>prop</var>, <emu-const>string</emu-const>, <var>values</var>, <emu-val>undefined</emu-val>).</li></ol></li><li>Set <var>formatOptions</var>.[[&lt;<var>prop</var>&gt;]] to <var>value</var>.</li><li>If <var>value</var> is not <emu-val>undefined</emu-val>, then<ol><li>Set <var>hasExplicitFormatComponents</var> to <emu-val>true</emu-val>.</li></ol></li></ol></li><li>Let <var>formatMatcher</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_465"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"formatMatcher"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"basic"</emu-val>, <emu-val>"best fit"</emu-val>&nbsp;», <emu-val>"best fit"</emu-val>).</li><li>Let <var>dateStyle</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_466"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"dateStyle"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, <emu-val>"short"</emu-val>&nbsp;», <emu-val>undefined</emu-val>).</li><li>Set <var>dateTimeFormat</var>.<var class="field">[[DateStyle]]</var> to <var>dateStyle</var>.</li><li>Let <var>timeStyle</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_467"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"timeStyle"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, <emu-val>"short"</emu-val>&nbsp;», <emu-val>undefined</emu-val>).</li><li>Set <var>dateTimeFormat</var>.<var class="field">[[TimeStyle]]</var> to <var>timeStyle</var>.</li><li>If <var>dateStyle</var> is not <emu-val>undefined</emu-val> or <var>timeStyle</var> is not <emu-val>undefined</emu-val>, then<ol><li>If <var>hasExplicitFormatComponents</var> is <emu-val>true</emu-val>, then<ol><li>Throw a <emu-val>TypeError</emu-val> exception.</li></ol></li><li>If <var>required</var> is <emu-const>date</emu-const> and <var>timeStyle</var> is not <emu-val>undefined</emu-val>, then<ol><li>Throw a <emu-val>TypeError</emu-val> exception.</li></ol></li><li>If <var>required</var> is <emu-const>time</emu-const> and <var>dateStyle</var> is not <emu-val>undefined</emu-val>, then<ol><li>Throw a <emu-val>TypeError</emu-val> exception.</li></ol></li><li>Let <var>styles</var> be <var>resolvedLocaleData</var>.<var class="field">[[styles]]</var>.[[&lt;<var>resolvedCalendar</var>&gt;]].</li><li>Let <var>bestFormat</var> be <emu-xref aoid="DateTimeStyleFormat" id="_ref_468"><a href="#sec-date-time-style-format">DateTimeStyleFormat</a></emu-xref>(<var>dateStyle</var>, <var>timeStyle</var>, <var>styles</var>).</li></ol></li><li>Else,<ol><li>Let <var>needDefaults</var> be <emu-val>true</emu-val>.</li><li>If <var>required</var> is <emu-const>date</emu-const> or <emu-const>any</emu-const>, then<ol><li>For each <emu-xref href="#property-name"><a href="https://tc39.es/ecma262/#property-name">property name</a></emu-xref> <var>prop</var> of « <emu-val>"weekday"</emu-val>, <emu-val>"year"</emu-val>, <emu-val>"month"</emu-val>, <emu-val>"day"</emu-val>&nbsp;», do<ol><li>Let <var>value</var> be <var>formatOptions</var>.[[&lt;<var>prop</var>&gt;]].</li><li>If <var>value</var> is not <emu-val>undefined</emu-val>, set <var>needDefaults</var> to <emu-val>false</emu-val>.</li></ol></li></ol></li><li>If <var>required</var> is <emu-const>time</emu-const> or <emu-const>any</emu-const>, then<ol><li>For each <emu-xref href="#property-name"><a href="https://tc39.es/ecma262/#property-name">property name</a></emu-xref> <var>prop</var> of « <emu-val>"dayPeriod"</emu-val>, <emu-val>"hour"</emu-val>, <emu-val>"minute"</emu-val>, <emu-val>"second"</emu-val>, <emu-val>"fractionalSecondDigits"</emu-val>&nbsp;», do<ol><li>Let <var>value</var> be <var>formatOptions</var>.[[&lt;<var>prop</var>&gt;]].</li><li>If <var>value</var> is not <emu-val>undefined</emu-val>, set <var>needDefaults</var> to <emu-val>false</emu-val>.</li></ol></li></ol></li><li>If <var>needDefaults</var> is <emu-val>true</emu-val> and <var>defaults</var> is either <emu-const>date</emu-const> or <emu-const>all</emu-const>, then<ol><li>For each <emu-xref href="#property-name"><a href="https://tc39.es/ecma262/#property-name">property name</a></emu-xref> <var>prop</var> of « <emu-val>"year"</emu-val>, <emu-val>"month"</emu-val>, <emu-val>"day"</emu-val>&nbsp;», do<ol><li>Set <var>formatOptions</var>.[[&lt;<var>prop</var>&gt;]] to <emu-val>"numeric"</emu-val>.</li></ol></li></ol></li><li>If <var>needDefaults</var> is <emu-val>true</emu-val> and <var>defaults</var> is either <emu-const>time</emu-const> or <emu-const>all</emu-const>, then<ol><li>For each <emu-xref href="#property-name"><a href="https://tc39.es/ecma262/#property-name">property name</a></emu-xref> <var>prop</var> of « <emu-val>"hour"</emu-val>, <emu-val>"minute"</emu-val>, <emu-val>"second"</emu-val>&nbsp;», do<ol><li>Set <var>formatOptions</var>.[[&lt;<var>prop</var>&gt;]] to <emu-val>"numeric"</emu-val>.</li></ol></li></ol></li><li>Let <var>formats</var> be <var>resolvedLocaleData</var>.<var class="field">[[formats]]</var>.[[&lt;<var>resolvedCalendar</var>&gt;]].</li><li>If <var>formatMatcher</var> is <emu-val>"basic"</emu-val>, then<ol><li>Let <var>bestFormat</var> be <emu-xref aoid="BasicFormatMatcher" id="_ref_469"><a href="#sec-basicformatmatcher">BasicFormatMatcher</a></emu-xref>(<var>formatOptions</var>, <var>formats</var>).</li></ol></li><li>Else,<ol><li>Let <var>bestFormat</var> be <emu-xref aoid="BestFitFormatMatcher" id="_ref_470"><a href="#sec-bestfitformatmatcher">BestFitFormatMatcher</a></emu-xref>(<var>formatOptions</var>, <var>formats</var>).</li></ol></li></ol></li><li>Set <var>dateTimeFormat</var>.<var class="field">[[DateTimeFormat]]</var> to <var>bestFormat</var>.</li><li>If <var>bestFormat</var> has a field <var class="field">[[hour]]</var>, then<ol><li>Set <var>dateTimeFormat</var>.<var class="field">[[HourCycle]]</var> to <var>hc</var>.</li></ol></li><li>Return <var>dateTimeFormat</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatoffsettimezoneidentifier" type="abstract operation" aoid="FormatOffsetTimeZoneIdentifier">
      <h1><span class="secnum">11.1.3</span> FormatOffsetTimeZoneIdentifier ( <var>offsetMinutes</var> )</h1>
      <p>The abstract operation FormatOffsetTimeZoneIdentifier takes argument <var>offsetMinutes</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>) and returns a String. 
          It formats a UTC offset, in minutes, into a UTC offset string formatted like ±HH:MM.
         It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>offsetMinutes</var> ≥ 0, let <var>sign</var> be the code unit 0x002B (PLUS SIGN); otherwise, let <var>sign</var> be the code unit 0x002D (HYPHEN-MINUS).</li><li>Let <var>absoluteMinutes</var> be <emu-xref aoid="abs"><a href="https://tc39.es/ecma262/#eqn-abs">abs</a></emu-xref>(<var>offsetMinutes</var>).</li><li>Let <var>hours</var> be <emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>absoluteMinutes</var> / 60).</li><li>Let <var>minutes</var> be <var>absoluteMinutes</var> <emu-xref aoid="modulo"><a href="https://tc39.es/ecma262/#eqn-modulo">modulo</a></emu-xref> 60.</li><li>Return the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>sign</var>, <emu-xref aoid="ToZeroPaddedDecimalString"><a href="https://tc39.es/ecma262/#sec-tozeropaddeddecimalstring">ToZeroPaddedDecimalString</a></emu-xref>(<var>hours</var>, 2), the code unit 0x003A (COLON), and <emu-xref aoid="ToZeroPaddedDecimalString"><a href="https://tc39.es/ecma262/#sec-tozeropaddeddecimalstring">ToZeroPaddedDecimalString</a></emu-xref>(<var>minutes</var>, 2).</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-datetimeformat-constructor">
    <h1><span class="secnum">11.2</span> Properties of the Intl.DateTimeFormat Constructor</h1>

    <p>The Intl.DateTimeFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref>.</li>
      <li>has the following properties:</li>
    </ul>

    <emu-clause id="sec-intl.datetimeformat.prototype">
      <h1><span class="secnum">11.2.1</span> Intl.DateTimeFormat.prototype</h1>

      <p>The value of <code>Intl.DateTimeFormat.prototype</code> is <emu-xref href="#sec-properties-of-intl-datetimeformat-prototype-object" id="_ref_471"><a href="#sec-properties-of-intl-datetimeformat-prototype-object">%Intl.DateTimeFormat.prototype%</a></emu-xref>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> }.</p>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat.supportedlocalesof">
      <h1><span class="secnum">11.2.2</span> Intl.DateTimeFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p>When the <code>supportedLocalesOf</code> method is called with arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>availableLocales</var> be <emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_472"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var>.</li><li>Let <var>requestedLocales</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_473"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_474"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat-internal-slots">
      <h1><span class="secnum">11.2.3</span> Internal slots</h1>

      <p>The value of the <var class="field">[[AvailableLocales]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_53"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

      <p>The value of the <var class="field">[[RelevantExtensionKeys]]</var> internal slot is « <emu-val>"ca"</emu-val>, <emu-val>"hc"</emu-val>, <emu-val>"nu"</emu-val> ».</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        <a href="https://unicode.org/reports/tr35/#Key_Type_Definitions">Unicode Technical Standard #35 Part 1 Core, Section 3.6.1 Key and Type Definitions</a> describes four locale extension keys that are relevant to date and time formatting: <emu-val>"ca"</emu-val> for calendar, <emu-val>"hc"</emu-val> for hour cycle, <emu-val>"nu"</emu-val> for numbering system (of formatted numbers), and <emu-val>"tz"</emu-val> for time zone. DateTimeFormat, however, requires that the time zone is specified through the <emu-val>"timeZone"</emu-val> property in the options objects.
      </div></emu-note>

      <p>The value of the <var class="field">[[ResolutionOptionDescriptors]]</var> internal slot is « { <var class="field">[[Key]]</var>: <emu-val>"ca"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"calendar"</emu-val> }, { <var class="field">[[Key]]</var>: <emu-val>"nu"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"numberingSystem"</emu-val> }, { <var class="field">[[Key]]</var>: <emu-val>"hour12"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"hour12"</emu-val>, <var class="field">[[Type]]</var>: <emu-const>boolean</emu-const> }, { <var class="field">[[Key]]</var>: <emu-val>"hc"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"hourCycle"</emu-val>, <var class="field">[[Values]]</var>: « <emu-val>"h11"</emu-val>, <emu-val>"h12"</emu-val>, <emu-val>"h23"</emu-val>, <emu-val>"h24"</emu-val> » } ».</p>

      <p>The value of the <var class="field">[[LocaleData]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_54"><a href="#sec-internal-slots">9.1</a></emu-xref> and the following additional constraints, for all locale values <var>locale</var>:</p>

      <ul>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[nu]]</var> must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> that does not include the values <emu-val>"native"</emu-val>, <emu-val>"traditio"</emu-val>, or <emu-val>"finance"</emu-val>.
        </li>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[hc]]</var> must be « <emu-val>null</emu-val>, <emu-val>"h11"</emu-val>, <emu-val>"h12"</emu-val>, <emu-val>"h23"</emu-val>, <emu-val>"h24"</emu-val> ».
        </li>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[hourCycle]]</var> must be one of the String values <emu-val>"h11"</emu-val>, <emu-val>"h12"</emu-val>, <emu-val>"h23"</emu-val>, or <emu-val>"h24"</emu-val>.
        </li>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[hourCycle12]]</var> must be one of the String values <emu-val>"h11"</emu-val> or <emu-val>"h12"</emu-val>.
        </li>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[hourCycle24]]</var> must be one of the String values <emu-val>"h23"</emu-val> or <emu-val>"h24"</emu-val>.
        </li>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] must have a <var class="field">[[formats]]</var> field. The value of this <var class="field">[[formats]]</var> field must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with a [[&lt;<var>calendar</var>&gt;]] field for each calendar value <var>calendar</var>. The value of each [[&lt;<var>calendar</var>&gt;]] field must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#datetimeformat-format-record" id="_ref_475"><a href="#datetimeformat-format-record">DateTime Format Records</a></emu-xref>. Multiple <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> in such a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> may use the same subset of the fields as long as the corresponding values differ for at least one field. The following subsets must be available for each locale:
          <ul>
            <li>weekday, year, month, day, hour, minute, second, fractionalSecondDigits</li>
            <li>weekday, year, month, day, hour, minute, second</li>
            <li>weekday, year, month, day</li>
            <li>year, month, day</li>
            <li>year, month</li>
            <li>month, day</li>
            <li>month</li>
            <li>hour, minute, second, fractionalSecondDigits</li>
            <li>hour, minute, second</li>
            <li>hour, minute</li>
            <li>dayPeriod, hour, minute, second, fractionalSecondDigits</li>
            <li>dayPeriod, hour, minute, second</li>
            <li>dayPeriod, hour, minute</li>
            <li>dayPeriod, hour</li>
          </ul>
        </li>
        <li>
          <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] must have a <var class="field">[[styles]]</var> field. The value of this <var class="field">[[styles]]</var> field must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with a [[&lt;<var>calendar</var>&gt;]] field for each calendar value <var>calendar</var>. The value of each [[&lt;<var>calendar</var>&gt;]] field must be a <emu-xref href="#datetimeformat-styles-record" id="_ref_476"><a href="#datetimeformat-styles-record">DateTime Styles Record</a></emu-xref>.
        </li>
      </ul>

      <emu-clause id="sec-datetimeformat-format-record">
        <h1><span class="secnum">11.2.3.1</span> DateTime Format Records</h1>

        <p>Each <dfn id="datetimeformat-format-record" variants="DateTime Format Records" tabindex="-1">DateTime Format Record</dfn> has the fields defined in <emu-xref href="#table-datetimeformat-format-record" id="_ref_55"><a href="#table-datetimeformat-format-record">Table 5</a></emu-xref>.</p>
        <emu-table id="table-datetimeformat-format-record"><figure><figcaption>Table 5: <emu-xref href="#datetimeformat-format-record" id="_ref_477"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[weekday]]</var></td>
              <td><var class="field">[[Weekday]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_56"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if <var class="field">[[pattern]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{weekday}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[era]]</var></td>
              <td><var class="field">[[Era]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_57"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if <var class="field">[[pattern]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{era}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[year]]</var></td>
              <td><var class="field">[[Year]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_58"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if <var class="field">[[pattern]]</var> contains at least one of the substrings <emu-val>"{year}"</emu-val>, <emu-val>"{yearName}"</emu-val>, or <emu-val>"{relatedYear}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[month]]</var></td>
              <td><var class="field">[[Month]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_59"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if <var class="field">[[pattern]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{month}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[day]]</var></td>
              <td><var class="field">[[Day]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_60"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if <var class="field">[[pattern]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{day}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[dayPeriod]]</var></td>
              <td><var class="field">[[DayPeriod]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_61"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if <var class="field">[[pattern]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{dayPeriod}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[hour]]</var></td>
              <td><var class="field">[[Hour]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_62"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if <var class="field">[[pattern]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{hour}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[minute]]</var></td>
              <td><var class="field">[[Minute]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_63"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if <var class="field">[[pattern]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{minute}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[second]]</var></td>
              <td><var class="field">[[Second]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_64"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if <var class="field">[[pattern]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{second}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[fractionalSecondDigits]]</var></td>
              <td><var class="field">[[FractionalSecondDigits]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_65"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if <var class="field">[[pattern]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{fractionalSecondDigits}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[timeZoneName]]</var></td>
              <td><var class="field">[[TimeZoneName]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_66"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if <var class="field">[[pattern]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{timeZoneName}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[pattern]]</var></td>
              <td>a <emu-xref href="#sec-pattern-string-types" id="_ref_478"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref></td>
              <td><emu-not-ref>Contains</emu-not-ref> for each of the date and time format component fields of the record a <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> starting with <emu-val>"{"</emu-val>, followed by the name of the field, followed by <emu-val>"}"</emu-val>. If the record has a <var class="field">[[year]]</var> field, the string may contain the substrings <emu-val>"{yearName}"</emu-val> and <emu-val>"{relatedYear}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[pattern12]]</var></td>
              <td>a <emu-xref href="#sec-pattern-string-types" id="_ref_479"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref></td>
              <td>Optional field. Present if the <var class="field">[[hour]]</var> field is present. In addition to the substrings of the <var class="field">[[pattern]]</var> field, contains at least one of the substrings <emu-val>"{ampm}"</emu-val> or <emu-val>"{dayPeriod}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[rangePatterns]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-record" id="_ref_480"><a href="#datetimeformat-range-pattern-record">DateTime Range Pattern Record</a></emu-xref></td>
              <td>Pattern strings in this field are similar to <var class="field">[[pattern]]</var>.</td>
            </tr>
            <tr>
              <td><var class="field">[[rangePatterns12]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-record" id="_ref_481"><a href="#datetimeformat-range-pattern-record">DateTime Range Pattern Record</a></emu-xref></td>
              <td>Optional field. Present if the <var class="field">[[hour]]</var> field is present. Pattern strings in this field are similar to <var class="field">[[pattern12]]</var>.</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-range-pattern-record">
        <h1><span class="secnum">11.2.3.2</span> DateTime Range Pattern Records</h1>

        <p>Each <dfn id="datetimeformat-range-pattern-record" tabindex="-1">DateTime Range Pattern Record</dfn> has the fields defined in <emu-xref href="#table-datetimeformat-range-pattern-record" id="_ref_67"><a href="#table-datetimeformat-range-pattern-record">Table 6</a></emu-xref>.</p>
        <emu-table id="table-datetimeformat-range-pattern-record"><figure><figcaption>Table 6: <emu-xref href="#datetimeformat-range-pattern-record" id="_ref_482"><a href="#datetimeformat-range-pattern-record">DateTime Range Pattern Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[Default]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_483"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>It contains the default range pattern used when a more specific range pattern is not available.</td>
            </tr>
            <tr>
              <td><var class="field">[[Era]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_484"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>Optional field. Used when <em>era</em> is the largest calendar element that is different between the start and end dates.</td>
            </tr>
            <tr>
              <td><var class="field">[[Year]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_485"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>Optional field. Used when <em>year</em> is the largest calendar element that is different between the start and end dates.</td>
            </tr>
            <tr>
              <td><var class="field">[[Month]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_486"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>Optional field. Used when <em>month</em> is the largest calendar element that is different between the start and end dates.</td>
            </tr>
            <tr>
              <td><var class="field">[[Day]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_487"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>Optional field. Used when <em>day</em> is the largest calendar element that is different between the start and end dates.</td>
            </tr>
            <tr>
              <td><var class="field">[[AmPm]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_488"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>Optional field. Used when <em>ante</em> or <em>post meridiem</em> is the largest calendar element that is different between the start and end dates.</td>
            </tr>
            <tr>
              <td><var class="field">[[DayPeriod]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_489"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>Optional field. Used when <em>day period</em> is the largest calendar element that is different between the start and end dates.</td>
            </tr>
            <tr>
              <td><var class="field">[[Hour]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_490"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>Optional field. Used when <em>hour</em> is the largest calendar element that is different between the start and end dates.</td>
            </tr>
            <tr>
              <td><var class="field">[[Minute]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_491"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>Optional field. Used when <em>minute</em> is the largest calendar element that is different between the start and end dates.</td>
            </tr>
            <tr>
              <td><var class="field">[[Second]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_492"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>Optional field. Used when <em>second</em> is the largest calendar element that is different between the start and end dates.</td>
            </tr>
            <tr>
              <td><var class="field">[[FractionalSecondDigits]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_493"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></td>
              <td>Optional field. Used when <em>fractional seconds</em> are the largest calendar element that is different between the start and end dates.</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-range-pattern-format-record">
        <h1><span class="secnum">11.2.3.3</span> DateTime Range Pattern Format Records</h1>

        <p>Each <dfn id="datetimeformat-range-pattern-format-record" tabindex="-1">DateTime Range Pattern Format Record</dfn> has the fields defined in <emu-xref href="#table-datetimeformat-range-pattern-format-record" id="_ref_68"><a href="#table-datetimeformat-range-pattern-format-record">Table 7</a></emu-xref>.</p>
        <emu-table id="table-datetimeformat-range-pattern-format-record"><figure><figcaption>Table 7: <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_494"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[weekday]]</var></td>
              <td><var class="field">[[Weekday]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_69"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if a <emu-xref href="#sec-pattern-string-types" id="_ref_495"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref> in <var class="field">[[PatternParts]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{weekday}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[era]]</var></td>
              <td><var class="field">[[Era]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_70"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if a <emu-xref href="#sec-pattern-string-types" id="_ref_496"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref> in <var class="field">[[PatternParts]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{era}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[year]]</var></td>
              <td><var class="field">[[Year]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_71"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if a <emu-xref href="#sec-pattern-string-types" id="_ref_497"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref> in <var class="field">[[PatternParts]]</var> contains at least one of the substrings <emu-val>"{year}"</emu-val>, <emu-val>"{yearName}"</emu-val>, or <emu-val>"{relatedYear}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[month]]</var></td>
              <td><var class="field">[[Month]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_72"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if a <emu-xref href="#sec-pattern-string-types" id="_ref_498"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref> in <var class="field">[[PatternParts]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{month}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[day]]</var></td>
              <td><var class="field">[[Day]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_73"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if a <emu-xref href="#sec-pattern-string-types" id="_ref_499"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref> in <var class="field">[[PatternParts]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{day}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[dayPeriod]]</var></td>
              <td><var class="field">[[DayPeriod]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_74"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if a <emu-xref href="#sec-pattern-string-types" id="_ref_500"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref> in <var class="field">[[PatternParts]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{dayPeriod}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[hour]]</var></td>
              <td><var class="field">[[Hour]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_75"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if a <emu-xref href="#sec-pattern-string-types" id="_ref_501"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref> in <var class="field">[[PatternParts]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{hour}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[minute]]</var></td>
              <td><var class="field">[[Minute]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_76"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if a <emu-xref href="#sec-pattern-string-types" id="_ref_502"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref> in <var class="field">[[PatternParts]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{minute}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[second]]</var></td>
              <td><var class="field">[[Second]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_77"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if a <emu-xref href="#sec-pattern-string-types" id="_ref_503"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref> in <var class="field">[[PatternParts]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{second}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[fractionalSecondDigits]]</var></td>
              <td><var class="field">[[FractionalSecondDigits]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_78"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if a <emu-xref href="#sec-pattern-string-types" id="_ref_504"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref> in <var class="field">[[PatternParts]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{fractionalSecondDigits}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[timeZoneName]]</var></td>
              <td><var class="field">[[TimeZoneName]]</var> values in the Values column of <emu-xref href="#table-datetimeformat-components" id="_ref_79"><a href="#table-datetimeformat-components">Table 16</a></emu-xref></td>
              <td>Optional field. Present if a <emu-xref href="#sec-pattern-string-types" id="_ref_505"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref> in <var class="field">[[PatternParts]]</var> contains the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{timeZoneName}"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[PatternParts]]</var></td>
              <td>a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#datetimeformat-range-pattern-part-record" id="_ref_506"><a href="#datetimeformat-range-pattern-part-record">DateTime Range Pattern Part Records</a></emu-xref></td>
              <td>Each record represents a part of the range pattern.</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-range-pattern-part-record">
        <h1><span class="secnum">11.2.3.4</span> DateTime Range Pattern Part Records</h1>

        <p>Each <dfn id="datetimeformat-range-pattern-part-record" variants="DateTime Range Pattern Part Records" tabindex="-1">DateTime Range Pattern Part Record</dfn> has the fields defined in <emu-xref href="#table-datetimeformat-range-pattern-part-record" id="_ref_80"><a href="#table-datetimeformat-range-pattern-part-record">Table 8</a></emu-xref>.</p>
        <emu-table id="table-datetimeformat-range-pattern-part-record"><figure><figcaption>Table 8: <emu-xref href="#datetimeformat-range-pattern-part-record" id="_ref_507"><a href="#datetimeformat-range-pattern-part-record">DateTime Range Pattern Part Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[Source]]</var></td>
              <td><emu-val>"shared"</emu-val>, <emu-val>"startRange"</emu-val>, or <emu-val>"endRange"</emu-val></td>
              <td>It indicates which of the range's dates should be formatted using the value of the <var class="field">[[Pattern]]</var> field.</td>
            </tr>
            <tr>
              <td><var class="field">[[Pattern]]</var></td>
              <td>a <emu-xref href="#sec-pattern-string-types" id="_ref_508"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref></td>
              <td>A String of the same format as the regular date pattern String.</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-styles-record">
        <h1><span class="secnum">11.2.3.5</span> DateTime Styles Records</h1>

        <p>Each <dfn id="datetimeformat-styles-record" tabindex="-1">DateTime Styles Record</dfn> has the fields defined in <emu-xref href="#table-datetimeformat-styles-record" id="_ref_81"><a href="#table-datetimeformat-styles-record">Table 9</a></emu-xref>.</p>
        <emu-table id="table-datetimeformat-styles-record"><figure><figcaption>Table 9: <emu-xref href="#datetimeformat-styles-record" id="_ref_509"><a href="#datetimeformat-styles-record">DateTime Styles Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[Date]]</var></td>
              <td>a <emu-xref href="#datetimeformat-style-record" id="_ref_510"><a href="#datetimeformat-style-record">DateTime Style Record</a></emu-xref></td>
            </tr>
            <tr>
              <td><var class="field">[[Time]]</var></td>
              <td>a <emu-xref href="#datetimeformat-style-record" id="_ref_511"><a href="#datetimeformat-style-record">DateTime Style Record</a></emu-xref></td>
            </tr>
            <tr>
              <td><var class="field">[[Connector]]</var></td>
              <td>a <emu-xref href="#datetimeformat-connector-record" id="_ref_512"><a href="#datetimeformat-connector-record">DateTime Connector Record</a></emu-xref></td>
            </tr>
            <tr>
              <td><var class="field">[[DateTimeRangeFormat]]</var></td>
              <td>a <emu-xref href="#datetimeformat-date-range-record" id="_ref_513"><a href="#datetimeformat-date-range-record">DateTime Date Range Record</a></emu-xref></td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-style-record">
        <h1><span class="secnum">11.2.3.6</span> DateTime Style Records</h1>

        <p>Each <dfn id="datetimeformat-style-record" tabindex="-1">DateTime Style Record</dfn> has the fields defined in <emu-xref href="#table-datetimeformat-style-record" id="_ref_82"><a href="#table-datetimeformat-style-record">Table 10</a></emu-xref>.</p>
        <emu-table id="table-datetimeformat-style-record"><figure><figcaption>Table 10: <emu-xref href="#datetimeformat-style-record" id="_ref_514"><a href="#datetimeformat-style-record">DateTime Style Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[full]]</var></td>
              <td>a <emu-xref href="#datetimeformat-format-record" id="_ref_515"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref></td>
              <td>Format record for the <emu-val>"full"</emu-val> style.</td>
            </tr>
            <tr>
              <td><var class="field">[[long]]</var></td>
              <td>a <emu-xref href="#datetimeformat-format-record" id="_ref_516"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref></td>
              <td>Format record for the <emu-val>"long"</emu-val> style.</td>
            </tr>
            <tr>
              <td><var class="field">[[medium]]</var></td>
              <td>a <emu-xref href="#datetimeformat-format-record" id="_ref_517"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref></td>
              <td>Format record for the <emu-val>"medium"</emu-val> style.</td>
            </tr>
            <tr>
              <td><var class="field">[[short]]</var></td>
              <td>a <emu-xref href="#datetimeformat-format-record" id="_ref_518"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref></td>
              <td>Format record for the <emu-val>"short"</emu-val> style.</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-connector-record">
        <h1><span class="secnum">11.2.3.7</span> DateTime Connector Records</h1>

        <p>Each <dfn id="datetimeformat-connector-record" tabindex="-1">DateTime Connector Record</dfn> has the fields defined in <emu-xref href="#table-datetimeformat-connector-record" id="_ref_83"><a href="#table-datetimeformat-connector-record">Table 11</a></emu-xref>. All connector pattern strings must contain the strings <emu-val>"{0}"</emu-val> and <emu-val>"{1}"</emu-val>.</p>
        <emu-table id="table-datetimeformat-connector-record"><figure><figcaption>Table 11: <emu-xref href="#datetimeformat-connector-record" id="_ref_519"><a href="#datetimeformat-connector-record">DateTime Connector Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[full]]</var></td>
              <td>a <emu-xref href="#sec-pattern-string-types" id="_ref_520"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref></td>
              <td>Connector pattern when the date style is <emu-val>"full"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[long]]</var></td>
              <td>a <emu-xref href="#sec-pattern-string-types" id="_ref_521"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref></td>
              <td>Connector pattern when the date style is <emu-val>"long"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[medium]]</var></td>
              <td>a <emu-xref href="#sec-pattern-string-types" id="_ref_522"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref></td>
              <td>Connector pattern when the date style is <emu-val>"medium"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[short]]</var></td>
              <td>a <emu-xref href="#sec-pattern-string-types" id="_ref_523"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref></td>
              <td>Connector pattern when the date style is <emu-val>"short"</emu-val>.</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-date-range-record">
        <h1><span class="secnum">11.2.3.8</span> DateTime Date Range Records</h1>

        <p>Each <dfn id="datetimeformat-date-range-record" tabindex="-1">DateTime Date Range Record</dfn> has the fields defined in <emu-xref href="#table-datetimeformat-date-range-record" id="_ref_84"><a href="#table-datetimeformat-date-range-record">Table 12</a></emu-xref>.</p>
        <emu-table id="table-datetimeformat-date-range-record"><figure><figcaption>Table 12: <emu-xref href="#datetimeformat-date-range-record" id="_ref_524"><a href="#datetimeformat-date-range-record">DateTime Date Range Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[full]]</var></td>
              <td>a <emu-xref href="#datetimeformat-time-range-record" id="_ref_525"><a href="#datetimeformat-time-range-record">DateTime Time Range Record</a></emu-xref></td>
              <td>Used when date style is <emu-val>"full"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[long]]</var></td>
              <td>a <emu-xref href="#datetimeformat-time-range-record" id="_ref_526"><a href="#datetimeformat-time-range-record">DateTime Time Range Record</a></emu-xref></td>
              <td>Used when date style is <emu-val>"long"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[medium]]</var></td>
              <td>a <emu-xref href="#datetimeformat-time-range-record" id="_ref_527"><a href="#datetimeformat-time-range-record">DateTime Time Range Record</a></emu-xref></td>
              <td>Used when date style is <emu-val>"medium"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[short]]</var></td>
              <td>a <emu-xref href="#datetimeformat-time-range-record" id="_ref_528"><a href="#datetimeformat-time-range-record">DateTime Time Range Record</a></emu-xref></td>
              <td>Used when date style is <emu-val>"short"</emu-val>.</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-time-range-record">
        <h1><span class="secnum">11.2.3.9</span> DateTime Time Range Records</h1>

        <p>Each <dfn id="datetimeformat-time-range-record" tabindex="-1">DateTime Time Range Record</dfn> has the fields defined in <emu-xref href="#table-datetimeformat-time-range-record" id="_ref_85"><a href="#table-datetimeformat-time-range-record">Table 13</a></emu-xref>.</p>
        <emu-table id="table-datetimeformat-time-range-record"><figure><figcaption>Table 13: <emu-xref href="#datetimeformat-time-range-record" id="_ref_529"><a href="#datetimeformat-time-range-record">DateTime Time Range Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[full]]</var></td>
              <td>a <emu-xref href="#datetimeformat-style-range-record" id="_ref_530"><a href="#datetimeformat-style-range-record">DateTime Style Range Record</a></emu-xref></td>
              <td>Used when time style is <emu-val>"full"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[long]]</var></td>
              <td>a <emu-xref href="#datetimeformat-style-range-record" id="_ref_531"><a href="#datetimeformat-style-range-record">DateTime Style Range Record</a></emu-xref></td>
              <td>Used when time style is <emu-val>"long"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[medium]]</var></td>
              <td>a <emu-xref href="#datetimeformat-style-range-record" id="_ref_532"><a href="#datetimeformat-style-range-record">DateTime Style Range Record</a></emu-xref></td>
              <td>Used when time style is <emu-val>"medium"</emu-val>.</td>
            </tr>
            <tr>
              <td><var class="field">[[short]]</var></td>
              <td>a <emu-xref href="#datetimeformat-style-range-record" id="_ref_533"><a href="#datetimeformat-style-range-record">DateTime Style Range Record</a></emu-xref></td>
              <td>Used when time style is <emu-val>"short"</emu-val>.</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-datetimeformat-style-range-record">
        <h1><span class="secnum">11.2.3.10</span> DateTime Style Range Records</h1>

        <p>Each <dfn id="datetimeformat-style-range-record" tabindex="-1">DateTime Style Range Record</dfn> has the fields defined in <emu-xref href="#table-datetimeformat-style-range-record" id="_ref_86"><a href="#table-datetimeformat-style-range-record">Table 14</a></emu-xref>.</p>
        <emu-table id="table-datetimeformat-style-range-record"><figure><figcaption>Table 14: <emu-xref href="#datetimeformat-style-range-record" id="_ref_534"><a href="#datetimeformat-style-range-record">DateTime Style Range Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[rangePatterns]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-record" id="_ref_535"><a href="#datetimeformat-range-pattern-record">DateTime Range Pattern Record</a></emu-xref></td>
              <td>Range patterns to combine date and time styles.</td>
            </tr>
            <tr>
              <td><var class="field">[[rangePatterns12]]</var></td>
              <td>a <emu-xref href="#datetimeformat-range-pattern-record" id="_ref_536"><a href="#datetimeformat-range-pattern-record">DateTime Range Pattern Record</a></emu-xref></td>
              <td>Optional Field. Range patterns to combine date and time styles for 12-hour formats.</td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        For example, an implementation might include the following <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> as part of its English locale data:
        <ul>
          <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
          <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
          <li><var class="field">[[pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val></li>
          <li><var class="field">[[pattern12]]</var>: <emu-val>"{hour}:{minute} {ampm}"</emu-val></li>
          <li><var class="field">[[rangePatterns]]</var>:
            <ul>
              <li><var class="field">[[Hour]]</var>:
                <ul>
                  <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[PatternParts]]</var>:
                    <ul>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" – "</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><var class="field">[[Minute]]</var>:
                <ul>
                  <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[PatternParts]]</var>:
                    <ul>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" – "</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><var class="field">[[Default]]</var>:
                <ul>
                  <li><var class="field">[[year]]</var>: <emu-val>"2-digit"</emu-val></li>
                  <li><var class="field">[[month]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[day]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[PatternParts]]</var>:
                    <ul>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{day}/{month}/{year}, {hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" – "</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{day}/{month}/{year}, {hour}:{minute}"</emu-val>}</li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li><var class="field">[[rangePatterns12]]</var>:
            <ul>
              <li><var class="field">[[Hour]]</var>:
                <ul>
                  <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[PatternParts]]</var>:
                    <ul>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" – "</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" {ampm}"</emu-val>}</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><var class="field">[[Minute]]</var>:
                <ul>
                  <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[PatternParts]]</var>:
                    <ul>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" – "</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{hour}:{minute}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" {ampm}"</emu-val>}</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li><var class="field">[[Default]]</var>:
                <ul>
                  <li><var class="field">[[year]]</var>: <emu-val>"2-digit"</emu-val></li>
                  <li><var class="field">[[month]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[day]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[hour]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[minute]]</var>: <emu-val>"numeric"</emu-val></li>
                  <li><var class="field">[[PatternParts]]</var>:
                    <ul>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{day}/{month}/{year}, {hour}:{minute} {ampm}"</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>" – "</emu-val>}</li>
                      <li>{<var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>, <var class="field">[[Pattern]]</var>: <emu-val>"{day}/{month}/{year}, {hour}:{minute} {ampm}"</emu-val>}</li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </div></emu-note>

      <emu-note><span class="note">Note 3</span><div class="note-contents">
        It is recommended that implementations use the locale data provided by the Common Locale Data Repository (available at <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>).
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-datetimeformat-prototype-object">
    <h1><span class="secnum">11.3</span> Properties of the Intl.DateTimeFormat Prototype Object</h1>

    <p>The <dfn tabindex="-1">Intl.DateTimeFormat prototype object</dfn>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.DateTimeFormat.prototype%</dfn>.</li>
      <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
      <li>is not an Intl.DateTimeFormat instance and does not have an <var class="field">[[InitializedDateTimeFormat]]</var> internal slot or any of the other internal slots of Intl.DateTimeFormat instance objects.</li>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>.</li>
    </ul>

    <emu-clause id="sec-intl.datetimeformat.prototype.constructor">
      <h1><span class="secnum">11.3.1</span> Intl.DateTimeFormat.prototype.constructor</h1>

      <p>The initial value of <code>Intl.DateTimeFormat.prototype.constructor</code> is <emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_537"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat.prototype.resolvedoptions">
      <h1><span class="secnum">11.3.2</span> Intl.DateTimeFormat.prototype.resolvedOptions ( )</h1>

      <p>This function provides access to the locale and options computed during initialization of the object.</p>

      <emu-alg><ol><li>Let <var>dtf</var> be the <emu-val>this</emu-val> value.</li><li>If the implementation supports the normative optional <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> mode of <emu-xref href="#legacy-constructor" id="_ref_87"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref>, then<ol><li>Set <var>dtf</var> to ?&nbsp;<emu-xref aoid="UnwrapDateTimeFormat" id="_ref_538"><a href="#sec-unwrapdatetimeformat">UnwrapDateTimeFormat</a></emu-xref>(<var>dtf</var>).</li></ol></li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dtf</var>, <var class="field">[[InitializedDateTimeFormat]]</var>).</li><li>Let <var>options</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>For each row of <emu-xref href="#table-datetimeformat-resolvedoptions-properties" id="_ref_88"><a href="#table-datetimeformat-resolvedoptions-properties">Table 15</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>p</var> be the Property value of the current row.</li><li>If there is an Internal Slot value in the current row, then<ol><li>Let <var>v</var> be the value of <var>dtf</var>'s internal slot whose name is the Internal Slot value of the current row.</li></ol></li><li>Else,<ol><li>Let <var>format</var> be <var>dtf</var>.<var class="field">[[DateTimeFormat]]</var>.</li><li>If <var>format</var> has a field [[&lt;<var>p</var>&gt;]] and <var>dtf</var>.<var class="field">[[DateStyle]]</var> is <emu-val>undefined</emu-val> and <var>dtf</var>.<var class="field">[[TimeStyle]]</var> is <emu-val>undefined</emu-val>, then<ol><li>Let <var>v</var> be <var>format</var>.[[&lt;<var>p</var>&gt;]].</li></ol></li><li>Else,<ol><li>Let <var>v</var> be <emu-val>undefined</emu-val>.</li></ol></li></ol></li><li>If <var>v</var> is not <emu-val>undefined</emu-val>, then<ol><li>If there is a Conversion value in the current row, then<ol><li>Let <var>conversion</var> be the Conversion value of the current row.</li><li>If <var>conversion</var> is <emu-const>hour12</emu-const>, then<ol><li>If <var>v</var> is <emu-val>"h11"</emu-val> or <emu-val>"h12"</emu-val>, set <var>v</var> to <emu-val>true</emu-val>. Otherwise, set <var>v</var> to <emu-val>false</emu-val>.</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>conversion</var> is <emu-const>number</emu-const>.</li><li>Set <var>v</var> to <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>v</var>).</li></ol></li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>).</li></ol></li></ol></li><li>Return <var>options</var>.</li></ol></emu-alg>

      <emu-table id="table-datetimeformat-resolvedoptions-properties"><figure><figcaption>Table 15: Resolved Options of DateTimeFormat Instances</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Property</th>
              <th>Conversion</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Calendar]]</var></td>
            <td><emu-val>"calendar"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[NumberingSystem]]</var></td>
            <td><emu-val>"numberingSystem"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[TimeZone]]</var></td>
            <td><emu-val>"timeZone"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[HourCycle]]</var></td>
            <td><emu-val>"hourCycle"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[HourCycle]]</var></td>
            <td><emu-val>"hour12"</emu-val></td>
            <td><emu-const>hour12</emu-const></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"weekday"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"era"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"year"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"month"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"day"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"dayPeriod"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"hour"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"minute"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"second"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"fractionalSecondDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"timeZoneName"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[DateStyle]]</var></td>
            <td><emu-val>"dateStyle"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[TimeStyle]]</var></td>
            <td><emu-val>"timeStyle"</emu-val></td>
            <td></td>
          </tr>
        </tbody></table>
      </figure></emu-table>

      <p>For web compatibility reasons, if the property <emu-val>"hourCycle"</emu-val> is set, the <emu-val>"hour12"</emu-val> property should be set to <emu-val>true</emu-val> when <emu-val>"hourCycle"</emu-val> is <emu-val>"h11"</emu-val> or <emu-val>"h12"</emu-val>, or to <emu-val>false</emu-val> when <emu-val>"hourCycle"</emu-val> is <emu-val>"h23"</emu-val> or <emu-val>"h24"</emu-val>.</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        In this version of the API, the <emu-val>"timeZone"</emu-val> property will be the identifier of the <emu-xref href="#host-environment"><a href="https://tc39.es/ecma262/#host-environment">host environment</a></emu-xref>'s time zone if no <emu-val>"timeZone"</emu-val> property was provided in the options object provided to the Intl.DateTimeFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>. The first edition left the <emu-val>"timeZone"</emu-val> property <emu-val>undefined</emu-val> in this case.
      </div></emu-note>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        For compatibility with versions prior to the fifth edition, the <emu-val>"hour12"</emu-val> property is set in addition to the <emu-val>"hourCycle"</emu-val> property.
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat.prototype.format">
      <h1><span class="secnum">11.3.3</span> get Intl.DateTimeFormat.prototype.format</h1>

      <p>Intl.DateTimeFormat.prototype.format is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>

      <emu-alg><ol><li>Let <var>dtf</var> be the <emu-val>this</emu-val> value.</li><li>If the implementation supports the normative optional <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> mode of <emu-xref href="#legacy-constructor" id="_ref_89"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref>, then<ol><li>Set <var>dtf</var> to ?&nbsp;<emu-xref aoid="UnwrapDateTimeFormat" id="_ref_539"><a href="#sec-unwrapdatetimeformat">UnwrapDateTimeFormat</a></emu-xref>(<var>dtf</var>).</li></ol></li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dtf</var>, <var class="field">[[InitializedDateTimeFormat]]</var>).</li><li>If <var>dtf</var>.<var class="field">[[BoundFormat]]</var> is <emu-val>undefined</emu-val>, then<ol><li>Let <var>F</var> be a new built-in <emu-xref href="#function-object"><a href="https://tc39.es/ecma262/#function-object">function object</a></emu-xref> as defined in DateTime Format Functions (<emu-xref href="#sec-datetime-format-functions" id="_ref_90"><a href="#sec-datetime-format-functions">11.5.4</a></emu-xref>).</li><li>Set <var>F</var>.<var class="field">[[DateTimeFormat]]</var> to <var>dtf</var>.</li><li>Set <var>dtf</var>.<var class="field">[[BoundFormat]]</var> to <var>F</var>.</li></ol></li><li>Return <var>dtf</var>.<var class="field">[[BoundFormat]]</var>.</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        The returned function is bound to <var>dtf</var> so that it can be passed directly to <code>Array.prototype.map</code> or other functions.
        This is considered a historical artefact, as part of a convention which is no longer followed for new features, but is preserved to maintain compatibility with existing programs.
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat.prototype.formatRange">
      <h1><span class="secnum">11.3.4</span> Intl.DateTimeFormat.prototype.formatRange ( <var>startDate</var>, <var>endDate</var> )</h1>

      <p>When the <code>formatRange</code> method is called with arguments <var>startDate</var> and <var>endDate</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>dtf</var> be <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dtf</var>, <var class="field">[[InitializedDateTimeFormat]]</var>).</li><li>If <var>startDate</var> is <emu-val>undefined</emu-val> or <var>endDate</var> is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>x</var> be ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>startDate</var>).</li><li>Let <var>y</var> be ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>endDate</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FormatDateTimeRange" id="_ref_540"><a href="#sec-formatdatetimerange">FormatDateTimeRange</a></emu-xref>(<var>dtf</var>, <var>x</var>, <var>y</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.DateTimeFormat.prototype.formatRangeToParts">
      <h1><span class="secnum">11.3.5</span> Intl.DateTimeFormat.prototype.formatRangeToParts ( <var>startDate</var>, <var>endDate</var> )</h1>

      <p>When the <code>formatRangeToParts</code> method is called with arguments <var>startDate</var> and <var>endDate</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>dtf</var> be <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dtf</var>, <var class="field">[[InitializedDateTimeFormat]]</var>).</li><li>If <var>startDate</var> is <emu-val>undefined</emu-val> or <var>endDate</var> is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>x</var> be ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>startDate</var>).</li><li>Let <var>y</var> be ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>endDate</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FormatDateTimeRangeToParts" id="_ref_541"><a href="#sec-formatdatetimerangetoparts">FormatDateTimeRangeToParts</a></emu-xref>(<var>dtf</var>, <var>x</var>, <var>y</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.DateTimeFormat.prototype.formatToParts">
      <h1><span class="secnum">11.3.6</span> Intl.DateTimeFormat.prototype.formatToParts ( <var>date</var> )</h1>

      <p>When the <code>formatToParts</code> method is called with an argument <var>date</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>dtf</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dtf</var>, <var class="field">[[InitializedDateTimeFormat]]</var>).</li><li>If <var>date</var> is <emu-val>undefined</emu-val>, then<ol><li>Let <var>x</var> be !&nbsp;<emu-xref aoid="Call"><a href="https://tc39.es/ecma262/#sec-call">Call</a></emu-xref>(%Date.now%, <emu-val>undefined</emu-val>).</li></ol></li><li>Else,<ol><li>Let <var>x</var> be ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>date</var>).</li></ol></li><li>Return ?&nbsp;<emu-xref aoid="FormatDateTimeToParts" id="_ref_542"><a href="#sec-formatdatetimetoparts">FormatDateTimeToParts</a></emu-xref>(<var>dtf</var>, <var>x</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.datetimeformat.prototype-%symbol.tostringtag%" oldids="sec-intl.datetimeformat.prototype-@@tostringtag"><span id="sec-intl.datetimeformat.prototype-@@tostringtag"></span>
      <h1><span class="secnum">11.3.7</span> Intl.DateTimeFormat.prototype [ %Symbol.toStringTag% ]</h1>

      <p>The initial value of the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property is the String value <emu-val>"Intl.DateTimeFormat"</emu-val>.</p>

      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> }.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-datetimeformat-instances">
    <h1><span class="secnum">11.4</span> Properties of Intl.DateTimeFormat Instances</h1>

    <p>Intl.DateTimeFormat instances are <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary objects</a></emu-xref> that inherit properties from <emu-xref href="#sec-properties-of-intl-datetimeformat-prototype-object" id="_ref_543"><a href="#sec-properties-of-intl-datetimeformat-prototype-object">%Intl.DateTimeFormat.prototype%</a></emu-xref>.</p>

    <p>Intl.DateTimeFormat instances have an <var class="field">[[InitializedDateTimeFormat]]</var> internal slot.</p>

    <p>Intl.DateTimeFormat instances also have several internal slots that are computed by <emu-xref href="#sec-intl-datetimeformat-constructor" title="" id="_ref_91"><a href="#sec-intl-datetimeformat-constructor">The Intl.DateTimeFormat Constructor</a></emu-xref>:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value with the <emu-xref href="#sec-language-tags" id="_ref_544"><a href="#sec-language-tags">language tag</a></emu-xref> of the locale whose localization is used for formatting.</li>
      <li><var class="field">[[Calendar]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value representing the <a href="https://unicode.org/reports/tr35/#UnicodeCalendarIdentifier">Unicode Calendar Identifier</a> used for formatting.</li>
      <li><var class="field">[[NumberingSystem]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value representing the <a href="https://unicode.org/reports/tr35/#UnicodeNumberSystemIdentifier">Unicode Number System Identifier</a> used for formatting.</li>
      <li><var class="field">[[TimeZone]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value used for formatting that is either an <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">available named time zone identifier</a></emu-xref> or an <emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">offset time zone</a></emu-xref> identifier.</li>
      <li><var class="field">[[HourCycle]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value indicating whether the 12-hour format (<emu-val>"h11"</emu-val>, <emu-val>"h12"</emu-val>) or the 24-hour format (<emu-val>"h23"</emu-val>, <emu-val>"h24"</emu-val>) should be used. <emu-val>"h11"</emu-val> and <emu-val>"h23"</emu-val> start with hour 0 and go up to 11 and 23 respectively. <emu-val>"h12"</emu-val> and <emu-val>"h24"</emu-val> start with hour 1 and go up to 12 and 24. <var class="field">[[HourCycle]]</var> is only used when <var class="field">[[DateTimeFormat]]</var> has an <var class="field">[[hour]]</var> field.</li>
      <li><var class="field">[[DateStyle]]</var>, <var class="field">[[TimeStyle]]</var> are each either <emu-val>undefined</emu-val>, or a String value with values <emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, or <emu-val>"short"</emu-val>.</li>
      <li><var class="field">[[DateTimeFormat]]</var> is a <emu-xref href="#datetimeformat-format-record" id="_ref_545"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref>.</li>
    </ul>

    <p>Finally, Intl.DateTimeFormat instances have a <var class="field">[[BoundFormat]]</var> internal slot that caches the function returned by the format accessor (<emu-xref href="#sec-intl.datetimeformat.prototype.format" id="_ref_92"><a href="#sec-intl.datetimeformat.prototype.format">11.3.3</a></emu-xref>).</p>
  </emu-clause>

  <emu-clause id="sec-datetimeformat-abstracts">
    <h1><span class="secnum">11.5</span> Abstract Operations for DateTimeFormat Objects</h1>

    <p>Several DateTimeFormat algorithms use values from the following table, which provides internal slots, property names and allowable values for the components of date and time formats:</p>

    <emu-table id="table-datetimeformat-components"><figure><figcaption>Table 16: Components of date and time formats</figcaption>
      
      <table class="real-table">
        <thead>
          <tr>
            <th>Field Name</th>
            <th>Property</th>
            <th>Values</th>
          </tr>
        </thead>
        <tbody><tr>
          <td><var class="field">[[Weekday]]</var></td>
          <td><emu-val>"weekday"</emu-val></td>
          <td><emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Era]]</var></td>
          <td><emu-val>"era"</emu-val></td>
          <td><emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Year]]</var></td>
          <td><emu-val>"year"</emu-val></td>
          <td><emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Month]]</var></td>
          <td><emu-val>"month"</emu-val></td>
          <td><emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Day]]</var></td>
          <td><emu-val>"day"</emu-val></td>
          <td><emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[DayPeriod]]</var></td>
          <td><emu-val>"dayPeriod"</emu-val></td>
          <td><emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Hour]]</var></td>
          <td><emu-val>"hour"</emu-val></td>
          <td><emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Minute]]</var></td>
          <td><emu-val>"minute"</emu-val></td>
          <td><emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[Second]]</var></td>
          <td><emu-val>"second"</emu-val></td>
          <td><emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val></td>
        </tr>
        <tr>
          <td><var class="field">[[FractionalSecondDigits]]</var></td>
          <td><emu-val>"fractionalSecondDigits"</emu-val></td>
          <td>1, 2, 3</td>
        </tr>
        <tr>
          <td><var class="field">[[TimeZoneName]]</var></td>
          <td><emu-val>"timeZoneName"</emu-val></td>
          <td><emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"shortOffset"</emu-val>, <emu-val>"longOffset"</emu-val>, <emu-val>"shortGeneric"</emu-val>, <emu-val>"longGeneric"</emu-val></td>
        </tr>
      </tbody></table>
    </figure></emu-table>

    <emu-clause id="sec-date-time-style-format" type="abstract operation" aoid="DateTimeStyleFormat">
      <h1><span class="secnum">11.5.1</span> DateTimeStyleFormat ( <var>dateStyle</var>, <var>timeStyle</var>, <var>styles</var> )</h1>
      <p>The abstract operation DateTimeStyleFormat takes arguments <var>dateStyle</var> (<emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, <emu-val>"short"</emu-val>, or <emu-val>undefined</emu-val>), <var>timeStyle</var> (<emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, <emu-val>"short"</emu-val>, or <emu-val>undefined</emu-val>), and <var>styles</var> (a <emu-xref href="#datetimeformat-styles-record" id="_ref_546"><a href="#datetimeformat-styles-record">DateTime Styles Record</a></emu-xref>) and returns a <emu-xref href="#datetimeformat-format-record" id="_ref_547"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref>. <var>styles</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> from <emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_548"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[styles]]</var>.[[&lt;<var>calendar</var>&gt;]] for some locale <var>locale</var> and calendar <var>calendar</var>. It returns the appropriate format <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> for date time formatting based on the parameters. It performs the following steps when called:</p>
      <emu-alg><ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>dateStyle</var> is not <emu-val>undefined</emu-val> or <var>timeStyle</var> is not <emu-val>undefined</emu-val>.</li><li>If <var>timeStyle</var> is not <emu-val>undefined</emu-val>, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>timeStyle</var> is one of <emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, or <emu-val>"short"</emu-val>.</li><li>Let <var>timeFormat</var> be <var>styles</var>.<var class="field">[[Time]]</var>.[[&lt;<var>timeStyle</var>&gt;]].</li></ol></li><li>If <var>dateStyle</var> is not <emu-val>undefined</emu-val>, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>dateStyle</var> is one of <emu-val>"full"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"medium"</emu-val>, or <emu-val>"short"</emu-val>.</li><li>Let <var>dateFormat</var> be <var>styles</var>.<var class="field">[[Date]]</var>.[[&lt;<var>dateStyle</var>&gt;]].</li></ol></li><li>If <var>dateStyle</var> is not <emu-val>undefined</emu-val> and <var>timeStyle</var> is not <emu-val>undefined</emu-val>, then<ol><li>Let <var>format</var> be a new <emu-xref href="#datetimeformat-format-record" id="_ref_549"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref>.</li><li>Add to <var>format</var> all fields from <var>dateFormat</var> except <var class="field">[[pattern]]</var> and <var class="field">[[rangePatterns]]</var>.</li><li>Add to <var>format</var> all fields from <var>timeFormat</var> except <var class="field">[[pattern]]</var>, <var class="field">[[rangePatterns]]</var>, <var class="field">[[pattern12]]</var>, and <var class="field">[[rangePatterns12]]</var>, if present.</li><li>Let <var>connector</var> be <var>styles</var>.<var class="field">[[Connector]]</var>.[[&lt;<var>dateStyle</var>&gt;]].</li><li>Let <var>pattern</var> be the string <var>connector</var> with the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{0}"</emu-val> replaced with <var>timeFormat</var>.<var class="field">[[pattern]]</var> and the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{1}"</emu-val> replaced with <var>dateFormat</var>.<var class="field">[[pattern]]</var>.</li><li>Set <var>format</var>.<var class="field">[[pattern]]</var> to <var>pattern</var>.</li><li>If <var>timeFormat</var> has a <var class="field">[[pattern12]]</var> field, then<ol><li>Let <var>pattern12</var> be the string <var>connector</var> with the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{0}"</emu-val> replaced with <var>timeFormat</var>.<var class="field">[[pattern12]]</var> and the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{1}"</emu-val> replaced with <var>dateFormat</var>.<var class="field">[[pattern]]</var>.</li><li>Set <var>format</var>.<var class="field">[[pattern12]]</var> to <var>pattern12</var>.</li></ol></li><li>Let <var>dateTimeRangeFormat</var> be <var>styles</var>.<var class="field">[[DateTimeRangeFormat]]</var>.[[&lt;<var>dateStyle</var>&gt;]].[[&lt;<var>timeStyle</var>&gt;]].</li><li>Set <var>format</var>.<var class="field">[[rangePatterns]]</var> to <var>dateTimeRangeFormat</var>.<var class="field">[[rangePatterns]]</var>.</li><li>If <var>dateTimeRangeFormat</var> has a <var class="field">[[rangePatterns12]]</var> field, then<ol><li>Set <var>format</var>.<var class="field">[[rangePatterns12]]</var> to <var>dateTimeRangeFormat</var>.<var class="field">[[rangePatterns12]]</var>.</li></ol></li><li>Return <var>format</var>.</li></ol></li><li>If <var>timeStyle</var> is not <emu-val>undefined</emu-val>, then<ol><li>Return <var>timeFormat</var>.</li></ol></li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>dateStyle</var> is not <emu-val>undefined</emu-val>.</li><li>Return <var>dateFormat</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-basicformatmatcher" type="abstract operation" aoid="BasicFormatMatcher">
      <h1><span class="secnum">11.5.2</span> BasicFormatMatcher ( <var>options</var>, <var>formats</var> )</h1>
      <p>The abstract operation BasicFormatMatcher takes arguments <var>options</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>) and <var>formats</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#datetimeformat-format-record" id="_ref_550"><a href="#datetimeformat-format-record">DateTime Format Records</a></emu-xref>) and returns a <emu-xref href="#datetimeformat-format-record" id="_ref_551"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>removalPenalty</var> be 120.</li><li>Let <var>additionPenalty</var> be 20.</li><li>Let <var>longLessPenalty</var> be 8.</li><li>Let <var>longMorePenalty</var> be 6.</li><li>Let <var>shortLessPenalty</var> be 6.</li><li>Let <var>shortMorePenalty</var> be 3.</li><li>Let <var>offsetPenalty</var> be 1.</li><li>Let <var>bestScore</var> be -∞.</li><li>Let <var>bestFormat</var> be <emu-val>undefined</emu-val>.</li><li>For each element <var>format</var> of <var>formats</var>, do<ol><li>Let <var>score</var> be 0.</li><li>For each row of <emu-xref href="#table-datetimeformat-components" id="_ref_93"><a href="#table-datetimeformat-components">Table 16</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>property</var> be the name given in the Property column of the current row.</li><li>If <var>options</var> has a field [[&lt;<var>property</var>&gt;]], let <var>optionsProp</var> be <var>options</var>.[[&lt;<var>property</var>&gt;]]; else let <var>optionsProp</var> be <emu-val>undefined</emu-val>.</li><li>If <var>format</var> has a field [[&lt;<var>property</var>&gt;]], let <var>formatProp</var> be <var>format</var>.[[&lt;<var>property</var>&gt;]]; else let <var>formatProp</var> be <emu-val>undefined</emu-val>.</li><li>If <var>optionsProp</var> is <emu-val>undefined</emu-val> and <var>formatProp</var> is not <emu-val>undefined</emu-val>, then<ol><li>Set <var>score</var> to <var>score</var> - <var>additionPenalty</var>.</li></ol></li><li>Else if <var>optionsProp</var> is not <emu-val>undefined</emu-val> and <var>formatProp</var> is <emu-val>undefined</emu-val>, then<ol><li>Set <var>score</var> to <var>score</var> - <var>removalPenalty</var>.</li></ol></li><li>Else if <var>property</var> is <emu-val>"timeZoneName"</emu-val>, then<ol><li>If <var>optionsProp</var> is <emu-val>"short"</emu-val> or <emu-val>"shortGeneric"</emu-val>, then<ol><li>If <var>formatProp</var> is <emu-val>"shortOffset"</emu-val>, set <var>score</var> to <var>score</var> - <var>offsetPenalty</var>.</li><li>Else if <var>formatProp</var> is <emu-val>"longOffset"</emu-val>, set <var>score</var> to <var>score</var> - (<var>offsetPenalty</var> + <var>shortMorePenalty</var>).</li><li>Else if <var>optionsProp</var> is <emu-val>"short"</emu-val> and <var>formatProp</var> is <emu-val>"long"</emu-val>, set <var>score</var> to <var>score</var> - <var>shortMorePenalty</var>.</li><li>Else if <var>optionsProp</var> is <emu-val>"shortGeneric"</emu-val> and <var>formatProp</var> is <emu-val>"longGeneric"</emu-val>, set <var>score</var> to <var>score</var> - <var>shortMorePenalty</var>.</li><li>Else if <var>optionsProp</var> ≠ <var>formatProp</var>, set <var>score</var> to <var>score</var> - <var>removalPenalty</var>.</li></ol></li><li>Else if <var>optionsProp</var> is <emu-val>"shortOffset"</emu-val> and <var>formatProp</var> is <emu-val>"longOffset"</emu-val>, then<ol><li>Set <var>score</var> to <var>score</var> - <var>shortMorePenalty</var>.</li></ol></li><li>Else if <var>optionsProp</var> is <emu-val>"long"</emu-val> or <emu-val>"longGeneric"</emu-val>, then<ol><li>If <var>formatProp</var> is <emu-val>"longOffset"</emu-val>, set <var>score</var> to <var>score</var> - <var>offsetPenalty</var>.</li><li>Else if <var>formatProp</var> is <emu-val>"shortOffset"</emu-val>, set <var>score</var> to <var>score</var> - (<var>offsetPenalty</var> + <var>longLessPenalty</var>).</li><li>Else if <var>optionsProp</var> is <emu-val>"long"</emu-val> and <var>formatProp</var> is <emu-val>"short"</emu-val>, set <var>score</var> to <var>score</var> - <var>longLessPenalty</var>.</li><li>Else if <var>optionsProp</var> is <emu-val>"longGeneric"</emu-val> and <var>formatProp</var> is <emu-val>"shortGeneric"</emu-val>, set <var>score</var> to <var>score</var> - <var>longLessPenalty</var>.</li><li>Else if <var>optionsProp</var> ≠ <var>formatProp</var>, set <var>score</var> to <var>score</var> - <var>removalPenalty</var>.</li></ol></li><li>Else if <var>optionsProp</var> is <emu-val>"longOffset"</emu-val> and <var>formatProp</var> is <emu-val>"shortOffset"</emu-val>, then<ol><li>Set <var>score</var> to <var>score</var> - <var>longLessPenalty</var>.</li></ol></li><li>Else if <var>optionsProp</var> ≠ <var>formatProp</var>, then<ol><li>Set <var>score</var> to <var>score</var> - <var>removalPenalty</var>.</li></ol></li></ol></li><li>Else if <var>optionsProp</var> ≠ <var>formatProp</var>, then<ol><li>If <var>property</var> is <emu-val>"fractionalSecondDigits"</emu-val>, then<ol><li>Let <var>values</var> be « 1, 2, 3&nbsp;».</li></ol></li><li>Else,<ol><li>Let <var>values</var> be « <emu-val>"2-digit"</emu-val>, <emu-val>"numeric"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>&nbsp;».</li></ol></li><li>Let <var>optionsPropIndex</var> be the index of <var>optionsProp</var> within <var>values</var>.</li><li>Let <var>formatPropIndex</var> be the index of <var>formatProp</var> within <var>values</var>.</li><li>Let <var>delta</var> be <emu-xref aoid="max"><a href="https://tc39.es/ecma262/#eqn-max">max</a></emu-xref>(<emu-xref aoid="min"><a href="https://tc39.es/ecma262/#eqn-min">min</a></emu-xref>(<var>formatPropIndex</var> - <var>optionsPropIndex</var>, 2), -2).</li><li>If <var>delta</var> = 2, set <var>score</var> to <var>score</var> - <var>longMorePenalty</var>.</li><li>Else if <var>delta</var> = 1, set <var>score</var> to <var>score</var> - <var>shortMorePenalty</var>.</li><li>Else if <var>delta</var> = -1, set <var>score</var> to <var>score</var> - <var>shortLessPenalty</var>.</li><li>Else if <var>delta</var> = -2, set <var>score</var> to <var>score</var> - <var>longLessPenalty</var>.</li></ol></li></ol></li><li>If <var>score</var> &gt; <var>bestScore</var>, then<ol><li>Set <var>bestScore</var> to <var>score</var>.</li><li>Set <var>bestFormat</var> to <var>format</var>.</li></ol></li></ol></li><li>Return <var>bestFormat</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-bestfitformatmatcher" type="implementation-defined abstract operation" aoid="BestFitFormatMatcher">
      <h1><span class="secnum">11.5.3</span> BestFitFormatMatcher ( <var>options</var>, <var>formats</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation BestFitFormatMatcher takes arguments <var>options</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>) and <var>formats</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#datetimeformat-format-record" id="_ref_552"><a href="#datetimeformat-format-record">DateTime Format Records</a></emu-xref>) and returns a <emu-xref href="#datetimeformat-format-record" id="_ref_553"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref>. It returns a set of component representations that a typical user of the selected locale would perceive as at least as good as the one returned by <emu-xref aoid="BasicFormatMatcher" id="_ref_554"><a href="#sec-basicformatmatcher">BasicFormatMatcher</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-datetime-format-functions">
      <h1><span class="secnum">11.5.4</span> DateTime Format Functions</h1>

      <p>A DateTime format function is an anonymous built-in function that has a <var class="field">[[DateTimeFormat]]</var> internal slot.</p>
      <p>When a DateTime format function <var>F</var> is called with optional argument <var>date</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>dtf</var> be <var>F</var>.<var class="field">[[DateTimeFormat]]</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>dtf</var> <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">is an Object</a></emu-xref> and <var>dtf</var> has an <var class="field">[[InitializedDateTimeFormat]]</var> internal slot.</li><li>If <var>date</var> is not provided or is <emu-val>undefined</emu-val>, then<ol><li>Let <var>x</var> be !&nbsp;<emu-xref aoid="Call"><a href="https://tc39.es/ecma262/#sec-call">Call</a></emu-xref>(%Date.now%, <emu-val>undefined</emu-val>).</li></ol></li><li>Else,<ol><li>Let <var>x</var> be ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>date</var>).</li></ol></li><li>Return ?&nbsp;<emu-xref aoid="FormatDateTime" id="_ref_555"><a href="#sec-formatdatetime">FormatDateTime</a></emu-xref>(<var>dtf</var>, <var>x</var>).</li></ol></emu-alg>

      <p>The <emu-val>"length"</emu-val> property of a DateTime format function is <emu-val>1</emu-val><sub>𝔽</sub>.</p>
    </emu-clause>

    <emu-clause id="sec-formatdatetimepattern" type="abstract operation" aoid="FormatDateTimePattern">
      <h1><span class="secnum">11.5.5</span> FormatDateTimePattern ( <var>dateTimeFormat</var>, <var>format</var>, <var>pattern</var>, <var>epochNanoseconds</var> )</h1>
      <p>The abstract operation FormatDateTimePattern takes arguments <var>dateTimeFormat</var> (an Intl.DateTimeFormat), <var>format</var> (a <emu-xref href="#datetimeformat-format-record" id="_ref_556"><a href="#datetimeformat-format-record">DateTime Format Record</a></emu-xref> or a <emu-xref href="#datetimeformat-range-pattern-format-record" id="_ref_557"><a href="#datetimeformat-range-pattern-format-record">DateTime Range Pattern Format Record</a></emu-xref>), <var>pattern</var> (a <emu-xref href="#sec-pattern-string-types" id="_ref_558"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref>), and <var>epochNanoseconds</var> (a BigInt) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String) and <var class="field">[[Value]]</var> (a String). It creates the corresponding parts for the <emu-xref href="#epoch"><a href="https://tc39.es/ecma262/#epoch">epoch</a></emu-xref> time <var>epochNanoseconds</var> according to <var>pattern</var> and to the effective locale and the formatting options of <var>dateTimeFormat</var> and <var>format</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>locale</var> be <var>dateTimeFormat</var>.<var class="field">[[Locale]]</var>.</li><li>Let <var>nfOptions</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOptions</var>, <emu-val>"numberingSystem"</emu-val>, <var>dateTimeFormat</var>.<var class="field">[[NumberingSystem]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOptions</var>, <emu-val>"useGrouping"</emu-val>, <emu-val>false</emu-val>).</li><li>Let <var>nf</var> be !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_559"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>locale</var>, <var>nfOptions</var>&nbsp;»).</li><li>Let <var>nf2Options</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nf2Options</var>, <emu-val>"minimumIntegerDigits"</emu-val>, <emu-val>2</emu-val><sub>𝔽</sub>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nf2Options</var>, <emu-val>"numberingSystem"</emu-val>, <var>dateTimeFormat</var>.<var class="field">[[NumberingSystem]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nf2Options</var>, <emu-val>"useGrouping"</emu-val>, <emu-val>false</emu-val>).</li><li>Let <var>nf2</var> be !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_560"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>locale</var>, <var>nf2Options</var>&nbsp;»).</li><li>If <var>format</var> has a field <var class="field">[[fractionalSecondDigits]]</var>, then<ol><li>Let <var>fractionalSecondDigits</var> be <var>format</var>.<var class="field">[[fractionalSecondDigits]]</var>.</li><li>Let <var>nf3Options</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nf3Options</var>, <emu-val>"minimumIntegerDigits"</emu-val>, <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>fractionalSecondDigits</var>)).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nf3Options</var>, <emu-val>"numberingSystem"</emu-val>, <var>dateTimeFormat</var>.<var class="field">[[NumberingSystem]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nf3Options</var>, <emu-val>"useGrouping"</emu-val>, <emu-val>false</emu-val>).</li><li>Let <var>nf3</var> be !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_561"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>locale</var>, <var>nf3Options</var>&nbsp;»).</li></ol></li><li>Let <var>tm</var> be <emu-xref aoid="ToLocalTime" id="_ref_562"><a href="#sec-tolocaltime">ToLocalTime</a></emu-xref>(<var>epochNanoseconds</var>, <var>dateTimeFormat</var>.<var class="field">[[Calendar]]</var>, <var>dateTimeFormat</var>.<var class="field">[[TimeZone]]</var>).</li><li>Let <var>patternParts</var> be <emu-xref aoid="PartitionPattern" id="_ref_563"><a href="#sec-partitionpattern">PartitionPattern</a></emu-xref>(<var>pattern</var>).</li><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>patternPart</var> of <var>patternParts</var>, do<ol><li>Let <var>p</var> be <var>patternPart</var>.<var class="field">[[Type]]</var>.</li><li>If <var>p</var> is <emu-val>"literal"</emu-val>, then<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>patternPart</var>.<var class="field">[[Value]]</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"fractionalSecondDigits"</emu-val>, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>format</var> has a field <var class="field">[[fractionalSecondDigits]]</var>.</li><li>Let <var>v</var> be <var>tm</var>.<var class="field">[[Millisecond]]</var>.</li><li>Set <var>v</var> to <emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>v</var> × 10<sup>( <var>fractionalSecondDigits</var> - 3 )</sup>).</li><li>Let <var>fv</var> be <emu-xref aoid="FormatNumeric" id="_ref_564"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>nf3</var>, <var>v</var>).</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"fractionalSecond"</emu-val>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"dayPeriod"</emu-val>, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>format</var> has a field <var class="field">[[dayPeriod]]</var>.</li><li>Let <var>f</var> be <var>format</var>.<var class="field">[[dayPeriod]]</var>.</li><li>Let <var>fv</var> be a String value representing the day period of <var>tm</var> in the form given by <var>f</var>; the String value depends upon the implementation and the effective locale of <var>dateTimeFormat</var>.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>p</var>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"timeZoneName"</emu-val>, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>format</var> has a field <var class="field">[[timeZoneName]]</var>.</li><li>Let <var>f</var> be <var>format</var>.<var class="field">[[timeZoneName]]</var>.</li><li>Let <var>v</var> be <var>dateTimeFormat</var>.<var class="field">[[TimeZone]]</var>.</li><li>Let <var>fv</var> be a String value representing <var>v</var> in the form given by <var>f</var>; the String value depends upon the implementation and the effective locale of <var>dateTimeFormat</var>. The String value may also depend on the value of the <var class="field">[[InDST]]</var> field of <var>tm</var> if <var>f</var> is <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>, <emu-val>"shortOffset"</emu-val>, or <emu-val>"longOffset"</emu-val>. If the implementation does not have such a localized representation of <var>f</var>, then use the String value of <var>v</var> itself.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>p</var>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> matches a Property column of the row in <emu-xref href="#table-datetimeformat-components" id="_ref_94"><a href="#table-datetimeformat-components">Table 16</a></emu-xref>, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>format</var> has a field [[&lt;<var>p</var>&gt;]].</li><li>Let <var>f</var> be <var>format</var>.[[&lt;<var>p</var>&gt;]].</li><li>Let <var>v</var> be the value of <var>tm</var>'s field whose name is the Internal Slot column of the matching row.</li><li>If <var>p</var> is <emu-val>"year"</emu-val> and <var>v</var> ≤ 0, set <var>v</var> to 1 - <var>v</var>.</li><li>If <var>p</var> is <emu-val>"month"</emu-val>, set <var>v</var> to <var>v</var> + 1.</li><li>If <var>p</var> is <emu-val>"hour"</emu-val> and <var>dateTimeFormat</var>.<var class="field">[[HourCycle]]</var> is <emu-val>"h11"</emu-val> or <emu-val>"h12"</emu-val>, then<ol><li>Set <var>v</var> to <var>v</var> <emu-xref aoid="modulo"><a href="https://tc39.es/ecma262/#eqn-modulo">modulo</a></emu-xref> 12.</li><li>If <var>v</var> is 0 and <var>dateTimeFormat</var>.<var class="field">[[HourCycle]]</var> is <emu-val>"h12"</emu-val>, set <var>v</var> to 12.</li></ol></li><li>If <var>p</var> is <emu-val>"hour"</emu-val> and <var>dateTimeFormat</var>.<var class="field">[[HourCycle]]</var> is <emu-val>"h24"</emu-val>, then<ol><li>If <var>v</var> is 0, set <var>v</var> to 24.</li></ol></li><li>If <var>f</var> is <emu-val>"numeric"</emu-val>, then<ol><li>Let <var>fv</var> be <emu-xref aoid="FormatNumeric" id="_ref_565"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>nf</var>, <var>v</var>).</li></ol></li><li>Else if <var>f</var> is <emu-val>"2-digit"</emu-val>, then<ol><li>Let <var>fv</var> be <emu-xref aoid="FormatNumeric" id="_ref_566"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>nf2</var>, <var>v</var>).</li><li>Let <var>codePoints</var> be <emu-xref aoid="StringToCodePoints"><a href="https://tc39.es/ecma262/#sec-stringtocodepoints">StringToCodePoints</a></emu-xref>(<var>fv</var>).</li><li>Let <var>count</var> be the number of elements in <var>codePoints</var>.</li><li>If <var>count</var> &gt; 2, then<ol><li>Let <var>tens</var> be <var>codePoints</var>[<var>count</var> - 2].</li><li>Let <var>ones</var> be <var>codePoints</var>[<var>count</var> - 1].</li><li>Set <var>fv</var> to <emu-xref aoid="CodePointsToString"><a href="https://tc39.es/ecma262/#sec-codepointstostring">CodePointsToString</a></emu-xref>(« <var>tens</var>, <var>ones</var>&nbsp;»).</li></ol></li></ol></li><li>Else if <var>f</var> is <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, or <emu-val>"long"</emu-val>, then<ol><li>Let <var>fv</var> be a String value representing <var>v</var> in the form given by <var>f</var>; the String value depends upon the implementation and the effective locale and calendar of <var>dateTimeFormat</var>. If <var>p</var> is <emu-val>"month"</emu-val>, then the String value may also depend on whether <var>format</var>.<var class="field">[[day]]</var> is present. If the implementation does not have a localized representation of <var>f</var>, then use the String value of <var>v</var> itself.</li></ol></li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>p</var>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"ampm"</emu-val>, then<ol><li>Let <var>v</var> be <var>tm</var>.<var class="field">[[Hour]]</var>.</li><li>If <var>v</var> is greater than 11, then<ol><li>Let <var>fv</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_567"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value representing <emu-val>"post meridiem"</emu-val>.</li></ol></li><li>Else,<ol><li>Let <var>fv</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_568"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value representing <emu-val>"ante meridiem"</emu-val>.</li></ol></li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"dayPeriod"</emu-val>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"relatedYear"</emu-val>, then<ol><li>Let <var>v</var> be <var>tm</var>.<var class="field">[[RelatedYear]]</var>.</li><li>Let <var>fv</var> be <emu-xref aoid="FormatNumeric" id="_ref_569"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>nf</var>, <var>v</var>).</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"relatedYear"</emu-val>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"yearName"</emu-val>, then<ol><li>Let <var>v</var> be <var>tm</var>.<var class="field">[[YearName]]</var>.</li><li>Let <var>fv</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_570"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value representing <var>v</var>.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"yearName"</emu-val>, <var class="field">[[Value]]</var>: <var>fv</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else,<ol><li>Let <var>unknown</var> be an implementation-, locale-, and numbering system-dependent String based on <var>epochNanoseconds</var> and <var>p</var>.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"unknown"</emu-val>, <var class="field">[[Value]]</var>: <var>unknown</var>&nbsp;} to <var>result</var>.</li></ol></li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        It is recommended that implementations use the locale and calendar dependent strings provided by the Common Locale Data Repository (available at <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>), and use CLDR <emu-val>"abbreviated"</emu-val> strings for DateTimeFormat <emu-val>"short"</emu-val> strings, and CLDR <emu-val>"wide"</emu-val> strings for DateTimeFormat <emu-val>"long"</emu-val> strings.
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-partitiondatetimepattern" type="abstract operation" aoid="PartitionDateTimePattern">
      <h1><span class="secnum">11.5.6</span> PartitionDateTimePattern ( <var>dateTimeFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation PartitionDateTimePattern takes arguments <var>dateTimeFormat</var> (an Intl.DateTimeFormat) and <var>x</var> (a Number) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String) and <var class="field">[[Value]]</var> (a String), or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It interprets <var>x</var> as a <emu-xref href="#sec-time-values-and-time-range"><a href="https://tc39.es/ecma262/#sec-time-values-and-time-range">time value</a></emu-xref> as specified in <emu-xref href="#ecma262" id="_ref_571"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-time-values-and-time-range"><a href="https://tc39.es/ecma262/#sec-time-values-and-time-range">21.4.1.1</a></emu-xref>, and creates the corresponding parts according to the effective locale and the formatting options of <var>dateTimeFormat</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>x</var> be <emu-xref aoid="TimeClip"><a href="https://tc39.es/ecma262/#sec-timeclip">TimeClip</a></emu-xref>(<var>x</var>).</li><li>If <var>x</var> is <emu-val>NaN</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>epochNanoseconds</var> be <emu-xref aoid="ℤ"><a href="https://tc39.es/ecma262/#ℤ">ℤ</a></emu-xref>(<emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>x</var>) × 10<sup>6</sup>).</li><li>Let <var>format</var> be <var>dateTimeFormat</var>.<var class="field">[[DateTimeFormat]]</var>.</li><li>If <var>dateTimeFormat</var>.<var class="field">[[HourCycle]]</var> is <emu-val>"h11"</emu-val> or <emu-val>"h12"</emu-val>, then<ol><li>Let <var>pattern</var> be <var>format</var>.<var class="field">[[pattern12]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>pattern</var> be <var>format</var>.<var class="field">[[pattern]]</var>.</li></ol></li><li>Let <var>result</var> be <emu-xref aoid="FormatDateTimePattern" id="_ref_572"><a href="#sec-formatdatetimepattern">FormatDateTimePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>format</var>, <var>pattern</var>, <var>epochNanoseconds</var>).</li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatdatetime" type="abstract operation" aoid="FormatDateTime">
      <h1><span class="secnum">11.5.7</span> FormatDateTime ( <var>dateTimeFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation FormatDateTime takes arguments <var>dateTimeFormat</var> (an Intl.DateTimeFormat) and <var>x</var> (a Number) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a String or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>parts</var> be ?&nbsp;<emu-xref aoid="PartitionDateTimePattern" id="_ref_573"><a href="#sec-partitiondatetimepattern">PartitionDateTimePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>x</var>).</li><li>Let <var>result</var> be the empty String.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do<ol><li>Set <var>result</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>result</var> and <var>part</var>.<var class="field">[[Value]]</var>.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatdatetimetoparts" type="abstract operation" aoid="FormatDateTimeToParts">
      <h1><span class="secnum">11.5.8</span> FormatDateTimeToParts ( <var>dateTimeFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation FormatDateTimeToParts takes arguments <var>dateTimeFormat</var> (an Intl.DateTimeFormat) and <var>x</var> (a Number) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an Array or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>parts</var> be ?&nbsp;<emu-xref aoid="PartitionDateTimePattern" id="_ref_574"><a href="#sec-partitiondatetimepattern">PartitionDateTimePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>x</var>).</li><li>Let <var>result</var> be !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0).</li><li>Let <var>n</var> be 0.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do<ol><li>Let <var>O</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>n</var>)), <var>O</var>).</li><li>Increment <var>n</var> by 1.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-partitiondatetimerangepattern" type="abstract operation" aoid="PartitionDateTimeRangePattern">
      <h1><span class="secnum">11.5.9</span> PartitionDateTimeRangePattern ( <var>dateTimeFormat</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation PartitionDateTimeRangePattern takes arguments <var>dateTimeFormat</var> (an Intl.DateTimeFormat), <var>x</var> (a Number), and <var>y</var> (a Number) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String), <var class="field">[[Value]]</var> (a String), and <var class="field">[[Source]]</var> (a String), or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It interprets <var>x</var> and <var>y</var> as <emu-xref href="#sec-time-values-and-time-range"><a href="https://tc39.es/ecma262/#sec-time-values-and-time-range">time values</a></emu-xref> as specified in <emu-xref href="#ecma262" id="_ref_575"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-time-values-and-time-range"><a href="https://tc39.es/ecma262/#sec-time-values-and-time-range">21.4.1.1</a></emu-xref>, and creates the corresponding parts according to the effective locale and the formatting options of <var>dateTimeFormat</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Set <var>x</var> to <emu-xref aoid="TimeClip"><a href="https://tc39.es/ecma262/#sec-timeclip">TimeClip</a></emu-xref>(<var>x</var>).</li><li>If <var>x</var> is <emu-val>NaN</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Set <var>y</var> to <emu-xref aoid="TimeClip"><a href="https://tc39.es/ecma262/#sec-timeclip">TimeClip</a></emu-xref>(<var>y</var>).</li><li>If <var>y</var> is <emu-val>NaN</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>xEpochNanoseconds</var> be <emu-xref aoid="ℤ"><a href="https://tc39.es/ecma262/#ℤ">ℤ</a></emu-xref>(<emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>x</var>) × 10<sup>6</sup>).</li><li>Let <var>yEpochNanoseconds</var> be <emu-xref aoid="ℤ"><a href="https://tc39.es/ecma262/#ℤ">ℤ</a></emu-xref>(<emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>y</var>) × 10<sup>6</sup>).</li><li>Let <var>tm1</var> be <emu-xref aoid="ToLocalTime" id="_ref_576"><a href="#sec-tolocaltime">ToLocalTime</a></emu-xref>(<var>xEpochNanoseconds</var>, <var>dateTimeFormat</var>.<var class="field">[[Calendar]]</var>, <var>dateTimeFormat</var>.<var class="field">[[TimeZone]]</var>).</li><li>Let <var>tm2</var> be <emu-xref aoid="ToLocalTime" id="_ref_577"><a href="#sec-tolocaltime">ToLocalTime</a></emu-xref>(<var>yEpochNanoseconds</var>, <var>dateTimeFormat</var>.<var class="field">[[Calendar]]</var>, <var>dateTimeFormat</var>.<var class="field">[[TimeZone]]</var>).</li><li>Let <var>format</var> be <var>dateTimeFormat</var>.<var class="field">[[DateTimeFormat]]</var>.</li><li>If <var>dateTimeFormat</var>.<var class="field">[[HourCycle]]</var> is <emu-val>"h11"</emu-val> or <emu-val>"h12"</emu-val>, then<ol><li>Let <var>pattern</var> be <var>format</var>.<var class="field">[[pattern12]]</var>.</li><li>Let <var>rangePatterns</var> be <var>format</var>.<var class="field">[[rangePatterns12]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>pattern</var> be <var>format</var>.<var class="field">[[pattern]]</var>.</li><li>Let <var>rangePatterns</var> be <var>format</var>.<var class="field">[[rangePatterns]]</var>.</li></ol></li><li>Let <var>selectedRangePattern</var> be <emu-val>undefined</emu-val>.</li><li>Let <var>relevantFieldsEqual</var> be <emu-val>true</emu-val>.</li><li>Let <var>checkMoreFields</var> be <emu-val>true</emu-val>.</li><li>For each row of <emu-xref href="#table-datetimeformat-range-pattern-record" id="_ref_95"><a href="#table-datetimeformat-range-pattern-record">Table 6</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>fieldName</var> be the name given in the Field Name column of the row.</li><li>If <var>rangePatterns</var> has a field whose name is <var>fieldName</var>, let <var>rangePattern</var> be <var>rangePatterns</var>' field whose name is <var>fieldName</var>; else let <var>rangePattern</var> be <emu-val>undefined</emu-val>.</li><li>If <var>selectedRangePattern</var> is not <emu-val>undefined</emu-val> and <var>rangePattern</var> is <emu-val>undefined</emu-val>, then<ol><li>NOTE: Because there is no range pattern for differences at or below this field, no further checks will be performed.</li><li>Set <var>checkMoreFields</var> to <emu-val>false</emu-val>.</li></ol></li><li>If <var>fieldName</var> is not equal to <var class="field">[[Default]]</var> and <var>relevantFieldsEqual</var> is <emu-val>true</emu-val> and <var>checkMoreFields</var> is <emu-val>true</emu-val>, then<ol><li>Set <var>selectedRangePattern</var> to <var>rangePattern</var>.</li><li>If <var>fieldName</var> is <var class="field">[[AmPm]]</var>, then<ol><li>If <var>tm1</var>.<var class="field">[[Hour]]</var> is less than 12, let <var>v1</var> be <emu-val>"am"</emu-val>; else let <var>v1</var> be <emu-val>"pm"</emu-val>.</li><li>If <var>tm2</var>.<var class="field">[[Hour]]</var> is less than 12, let <var>v2</var> be <emu-val>"am"</emu-val>; else let <var>v2</var> be <emu-val>"pm"</emu-val>.</li></ol></li><li>Else if <var>fieldName</var> is <var class="field">[[DayPeriod]]</var>, then<ol><li>Let <var>v1</var> be a String value representing the day period of <var>tm1</var>; the String value depends upon the implementation and the effective locale of <var>dateTimeFormat</var>.</li><li>Let <var>v2</var> be a String value representing the day period of <var>tm2</var>; the String value depends upon the implementation and the effective locale of <var>dateTimeFormat</var>.</li></ol></li><li>Else if <var>fieldName</var> is <var class="field">[[FractionalSecondDigits]]</var>, then<ol><li>If <var>format</var> has a <var class="field">[[fractionalSecondDigits]]</var> field, then<ol><li>Let <var>fractionalSecondDigits</var> be <var>format</var>.<var class="field">[[fractionalSecondDigits]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>fractionalSecondDigits</var> be 3.</li></ol></li><li>Let <var>exp</var> be <var>fractionalSecondDigits</var> - 3.</li><li>Let <var>v1</var> be <emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tm1</var>.<var class="field">[[Millisecond]]</var> × 10<sup><var>exp</var></sup>).</li><li>Let <var>v2</var> be <emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tm2</var>.<var class="field">[[Millisecond]]</var> × 10<sup><var>exp</var></sup>).</li></ol></li><li>Else,<ol><li>Let <var>v1</var> be <var>tm1</var>'s field whose name is <var>fieldName</var>.</li><li>Let <var>v2</var> be <var>tm2</var>'s field whose name is <var>fieldName</var>.</li></ol></li><li>If <var>v1</var> is not equal to <var>v2</var>, then<ol><li>Set <var>relevantFieldsEqual</var> to <emu-val>false</emu-val>.</li></ol></li></ol></li></ol></li><li>If <var>relevantFieldsEqual</var> is <emu-val>true</emu-val>, then<ol><li>Let <var>collapsedResult</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>resultParts</var> be <emu-xref aoid="FormatDateTimePattern" id="_ref_578"><a href="#sec-formatdatetimepattern">FormatDateTimePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>format</var>, <var>pattern</var>, <var>xEpochNanoseconds</var>).</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>r</var> of <var>resultParts</var>, do<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>r</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>r</var>.<var class="field">[[Value]]</var>, <var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>&nbsp;} to <var>collapsedResult</var>.</li></ol></li><li>Return <var>collapsedResult</var>.</li></ol></li><li>Let <var>rangeResult</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>If <var>selectedRangePattern</var> is <emu-val>undefined</emu-val>, then<ol><li>Set <var>selectedRangePattern</var> to <var>rangePatterns</var>.<var class="field">[[Default]]</var>.</li></ol></li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Pattern]]</var>, <var class="field">[[Source]]</var>&nbsp;} <var>rangePatternPart</var> of <var>selectedRangePattern</var>.<var class="field">[[PatternParts]]</var>, do<ol><li>Let <var>pattern</var> be <var>rangePatternPart</var>.<var class="field">[[Pattern]]</var>.</li><li>Let <var>source</var> be <var>rangePatternPart</var>.<var class="field">[[Source]]</var>.</li><li>If <var>source</var> is <emu-val>"startRange"</emu-val> or <emu-val>"shared"</emu-val>, then<ol><li>Let <var>z</var> be <var>xEpochNanoseconds</var>.</li></ol></li><li>Else,<ol><li>Let <var>z</var> be <var>yEpochNanoseconds</var>.</li></ol></li><li>Let <var>resultParts</var> be <emu-xref aoid="FormatDateTimePattern" id="_ref_579"><a href="#sec-formatdatetimepattern">FormatDateTimePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>selectedRangePattern</var>, <var>pattern</var>, <var>z</var>).</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>r</var> of <var>resultParts</var>, do<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>r</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>r</var>.<var class="field">[[Value]]</var>, <var class="field">[[Source]]</var>: <var>source</var>&nbsp;} to <var>rangeResult</var>.</li></ol></li></ol></li><li>Return <var>rangeResult</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatdatetimerange" type="abstract operation" aoid="FormatDateTimeRange">
      <h1><span class="secnum">11.5.10</span> FormatDateTimeRange ( <var>dateTimeFormat</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation FormatDateTimeRange takes arguments <var>dateTimeFormat</var> (an Intl.DateTimeFormat), <var>x</var> (a Number), and <var>y</var> (a Number) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a String or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>parts</var> be ?&nbsp;<emu-xref aoid="PartitionDateTimeRangePattern" id="_ref_580"><a href="#sec-partitiondatetimerangepattern">PartitionDateTimeRangePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>x</var>, <var>y</var>).</li><li>Let <var>result</var> be the empty String.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Source]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do<ol><li>Set <var>result</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>result</var> and <var>part</var>.<var class="field">[[Value]]</var>.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatdatetimerangetoparts" type="abstract operation" aoid="FormatDateTimeRangeToParts">
      <h1><span class="secnum">11.5.11</span> FormatDateTimeRangeToParts ( <var>dateTimeFormat</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation FormatDateTimeRangeToParts takes arguments <var>dateTimeFormat</var> (an Intl.DateTimeFormat), <var>x</var> (a Number), and <var>y</var> (a Number) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an Array or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>parts</var> be ?&nbsp;<emu-xref aoid="PartitionDateTimeRangePattern" id="_ref_581"><a href="#sec-partitiondatetimerangepattern">PartitionDateTimeRangePattern</a></emu-xref>(<var>dateTimeFormat</var>, <var>x</var>, <var>y</var>).</li><li>Let <var>result</var> be !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0).</li><li>Let <var>n</var> be 0.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Source]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do<ol><li>Let <var>O</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"source"</emu-val>, <var>part</var>.<var class="field">[[Source]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>n</var>)), <var>O</var>).</li><li>Increment <var>n</var> by 1.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-tolocaltime" type="implementation-defined abstract operation" aoid="ToLocalTime">
      <h1><span class="secnum">11.5.12</span> ToLocalTime ( <var>epochNs</var>, <var>calendar</var>, <var>timeZoneIdentifier</var> )</h1>

      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation ToLocalTime takes arguments <var>epochNs</var> (a BigInt), <var>calendar</var> (a String), and <var>timeZoneIdentifier</var> (a String) and returns a <emu-xref href="#datetimeformat-tolocaltime-record" id="_ref_582"><a href="#datetimeformat-tolocaltime-record">ToLocalTime Record</a></emu-xref>. It performs the following steps when called:</p>

      <emu-alg><ol><li>If <emu-xref aoid="IsTimeZoneOffsetString"><a href="https://tc39.es/ecma262/#sec-istimezoneoffsetstring">IsTimeZoneOffsetString</a></emu-xref>(<var>timeZoneIdentifier</var>) is <emu-val>true</emu-val>, then<ol><li>Let <var>offsetNs</var> be <emu-xref aoid="ParseTimeZoneOffsetString"><a href="https://tc39.es/ecma262/#sec-parsetimezoneoffsetstring">ParseTimeZoneOffsetString</a></emu-xref>(<var>timeZoneIdentifier</var>).</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <emu-xref aoid="GetAvailableNamedTimeZoneIdentifier" id="_ref_583"><a href="#sec-getavailablenamedtimezoneidentifier">GetAvailableNamedTimeZoneIdentifier</a></emu-xref>(<var>timeZoneIdentifier</var>) is not <emu-const>empty</emu-const>.</li><li>Let <var>offsetNs</var> be <emu-xref aoid="GetNamedTimeZoneOffsetNanoseconds"><a href="https://tc39.es/ecma262/#sec-getnamedtimezoneoffsetnanoseconds">GetNamedTimeZoneOffsetNanoseconds</a></emu-xref>(<var>timeZoneIdentifier</var>, <var>epochNs</var>).</li></ol></li><li>Let <var>tz</var> be <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>epochNs</var>) + <var>offsetNs</var>.</li><li>If <var>calendar</var> is <emu-val>"gregory"</emu-val>, then<ol><li>Return a <emu-xref href="#datetimeformat-tolocaltime-record" id="_ref_584"><a href="#datetimeformat-tolocaltime-record">ToLocalTime Record</a></emu-xref> with fields calculated from <var>tz</var> according to <emu-xref href="#table-datetimeformat-tolocaltime-record" id="_ref_96"><a href="#table-datetimeformat-tolocaltime-record">Table 17</a></emu-xref>.</li></ol></li><li>Else,<ol><li>Return a <emu-xref href="#datetimeformat-tolocaltime-record" id="_ref_585"><a href="#datetimeformat-tolocaltime-record">ToLocalTime Record</a></emu-xref> with the fields calculated from <var>tz</var> for the given <var>calendar</var>. The calculations should use best available information about the specified <var>calendar</var>.</li></ol></li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-datetimeformat-tolocaltime-records">
      <h1><span class="secnum">11.5.13</span> ToLocalTime Records</h1>

      <p>Each <dfn id="datetimeformat-tolocaltime-record" tabindex="-1">ToLocalTime Record</dfn> has the fields defined in <emu-xref href="#table-datetimeformat-tolocaltime-record" id="_ref_97"><a href="#table-datetimeformat-tolocaltime-record">Table 17</a></emu-xref>.</p>

      <emu-table id="table-datetimeformat-tolocaltime-record"><figure><figcaption>Table 17: <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> returned by <emu-xref aoid="ToLocalTime" id="_ref_586"><a href="#sec-tolocaltime">ToLocalTime</a></emu-xref></figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Field Name</th>
              <th>Value Type</th>
              <th>Value Calculation for Gregorian Calendar</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Weekday]]</var></td>
            <td>an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref></td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="WeekDay"><a href="https://tc39.es/ecma262/#sec-weekday">WeekDay</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[Era]]</var></td>
            <td>a String</td>
            <td>Let <var>year</var> be <emu-xref aoid="YearFromTime"><a href="https://tc39.es/ecma262/#sec-yearfromtime">YearFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))). If <var>year</var> &lt; <emu-val>1</emu-val><sub>𝔽</sub>, return <emu-val>"BC"</emu-val>, else return <emu-val>"AD"</emu-val>.</td>
          </tr>
          <tr>
            <td><var class="field">[[Year]]</var></td>
            <td>an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref></td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="YearFromTime"><a href="https://tc39.es/ecma262/#sec-yearfromtime">YearFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[RelatedYear]]</var></td>
            <td>an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> or <emu-val>undefined</emu-val></td>
            <td><emu-val>undefined</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[YearName]]</var></td>
            <td>a String or <emu-val>undefined</emu-val></td>
            <td><emu-val>undefined</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Month]]</var></td>
            <td>an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref></td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="MonthFromTime"><a href="https://tc39.es/ecma262/#sec-monthfromtime">MonthFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[Day]]</var></td>
            <td>an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref></td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="DateFromTime"><a href="https://tc39.es/ecma262/#sec-datefromtime">DateFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[Hour]]</var></td>
            <td>an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref></td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="HourFromTime"><a href="https://tc39.es/ecma262/#sec-hourfromtime">HourFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[Minute]]</var></td>
            <td>an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref></td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="MinFromTime"><a href="https://tc39.es/ecma262/#sec-minfromtime">MinFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[Second]]</var></td>
            <td>an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref></td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="SecFromTime"><a href="https://tc39.es/ecma262/#sec-secfromtime">SecFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[Millisecond]]</var></td>
            <td>an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref></td>
            <td><emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="msFromTime"><a href="https://tc39.es/ecma262/#sec-msfromtime">msFromTime</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<emu-xref aoid="floor"><a href="https://tc39.es/ecma262/#eqn-floor">floor</a></emu-xref>(<var>tz</var> / 10<sup>6</sup>))))</td>
          </tr>
          <tr>
            <td><var class="field">[[InDST]]</var></td>
            <td>a Boolean</td>
            <td>Calculate <emu-val>true</emu-val> or <emu-val>false</emu-val> using the best available information about the specified <var>calendar</var> and <var>timeZoneIdentifier</var>, including current and historical information from the IANA Time Zone Database about time zone offsets from UTC and daylight saving time rules.</td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-unwrapdatetimeformat" type="abstract operation" normative-optional="" aoid="UnwrapDateTimeFormat"><div class="attributes-tag"><emu-xref href="#sec-conformance"><a href="https://tc39.es/ecma262/#sec-conformance">Normative Optional</a></emu-xref></div>
      <h1><span class="secnum">11.5.14</span> UnwrapDateTimeFormat ( <var>dtf</var> )</h1>
      <p>The abstract operation UnwrapDateTimeFormat takes argument <var>dtf</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref> or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. 
          It returns the DateTimeFormat instance of its input object, which is either the value itself or a value associated with it by <emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_587"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref> according to the normative optional <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> mode of <emu-xref href="#legacy-constructor" id="_ref_98"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref>.
         It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>dtf</var> <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">is not an Object</a></emu-xref>, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <var>dtf</var> does not have an <var class="field">[[InitializedDateTimeFormat]]</var> internal slot and ?&nbsp;<emu-xref aoid="OrdinaryHasInstance"><a href="https://tc39.es/ecma262/#sec-ordinaryhasinstance">OrdinaryHasInstance</a></emu-xref>(<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_588"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, <var>dtf</var>) is <emu-val>true</emu-val>, then<ol><li>Return ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>dtf</var>, <emu-xref href="#intl-object" id="_ref_589"><a href="#intl-object">%Intl%</a></emu-xref>.<var class="field">[[FallbackSymbol]]</var>).</li></ol></li><li>Return <var>dtf</var>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="intl-displaynames-objects">
  <h1><span class="secnum">12</span> DisplayNames Objects</h1>

  <emu-clause id="sec-intl-displaynames-constructor">
    <h1><span class="secnum">12.1</span> The Intl.DisplayNames Constructor</h1>

    <p>The Intl.DisplayNames <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.DisplayNames%</dfn>.</li>
      <li>is the initial value of the <emu-val>"DisplayNames"</emu-val> property of the <emu-xref href="#intl-object" id="_ref_590"><a href="#intl-object">Intl object</a></emu-xref>.</li>
    </ul>

    <p>Behaviour common to all <emu-xref href="#service-constructor" id="_ref_591"><a href="#service-constructor">service constructor</a></emu-xref> properties of the <emu-xref href="#intl-object" id="_ref_592"><a href="#intl-object">Intl object</a></emu-xref> is specified in <emu-xref href="#sec-internal-slots" id="_ref_99"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

    <emu-clause id="sec-Intl.DisplayNames">
      <h1><span class="secnum">12.1.1</span> Intl.DisplayNames ( <var>locales</var>, <var>options</var> )</h1>

      <p>When the <code>Intl.DisplayNames</code> function is called with arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>If NewTarget is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>displayNames</var> be ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.DisplayNames.prototype%"</emu-val>, « <var class="field">[[InitializedDisplayNames]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[Style]]</var>, <var class="field">[[Type]]</var>, <var class="field">[[Fallback]]</var>, <var class="field">[[LanguageDisplay]]</var>, <var class="field">[[Fields]]</var>&nbsp;»).</li><li>Let <var>optionsResolution</var> be ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_593"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-displaynames-constructor" id="_ref_594"><a href="#sec-intl-displaynames-constructor">%Intl.DisplayNames%</a></emu-xref>, <emu-xref href="#sec-intl-displaynames-constructor" id="_ref_595"><a href="#sec-intl-displaynames-constructor">%Intl.DisplayNames%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>, <var>options</var>, « <emu-const>require-options</emu-const>&nbsp;»).</li><li>Set <var>options</var> to <var>optionsResolution</var>.<var class="field">[[Options]]</var>.</li><li>Let <var>r</var> be <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var>.</li><li>Let <var>style</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_596"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"style"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>&nbsp;», <emu-val>"long"</emu-val>).</li><li>Set <var>displayNames</var>.<var class="field">[[Style]]</var> to <var>style</var>.</li><li>Let <var>type</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_597"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"type"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"language"</emu-val>, <emu-val>"region"</emu-val>, <emu-val>"script"</emu-val>, <emu-val>"currency"</emu-val>, <emu-val>"calendar"</emu-val>, <emu-val>"dateTimeField"</emu-val>&nbsp;», <emu-val>undefined</emu-val>).</li><li>If <var>type</var> is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Set <var>displayNames</var>.<var class="field">[[Type]]</var> to <var>type</var>.</li><li>Let <var>fallback</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_598"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"fallback"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"code"</emu-val>, <emu-val>"none"</emu-val>&nbsp;», <emu-val>"code"</emu-val>).</li><li>Set <var>displayNames</var>.<var class="field">[[Fallback]]</var> to <var>fallback</var>.</li><li>Set <var>displayNames</var>.<var class="field">[[Locale]]</var> to <var>r</var>.<var class="field">[[Locale]]</var>.</li><li>Let <var>resolvedLocaleData</var> be <var>r</var>.<var class="field">[[LocaleData]]</var>.</li><li>Let <var>types</var> be <var>resolvedLocaleData</var>.<var class="field">[[types]]</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>types</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> (see <emu-xref href="#sec-Intl.DisplayNames-internal-slots" id="_ref_100"><a href="#sec-Intl.DisplayNames-internal-slots">12.2.3</a></emu-xref>).</li><li>Let <var>languageDisplay</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_599"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"languageDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"dialect"</emu-val>, <emu-val>"standard"</emu-val>&nbsp;», <emu-val>"dialect"</emu-val>).</li><li>Let <var>typeFields</var> be <var>types</var>.[[&lt;<var>type</var>&gt;]].</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>typeFields</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> (see <emu-xref href="#sec-Intl.DisplayNames-internal-slots" id="_ref_101"><a href="#sec-Intl.DisplayNames-internal-slots">12.2.3</a></emu-xref>).</li><li>If <var>type</var> is <emu-val>"language"</emu-val>, then<ol><li>Set <var>displayNames</var>.<var class="field">[[LanguageDisplay]]</var> to <var>languageDisplay</var>.</li><li>Set <var>typeFields</var> to <var>typeFields</var>.[[&lt;<var>languageDisplay</var>&gt;]].</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>typeFields</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> (see <emu-xref href="#sec-Intl.DisplayNames-internal-slots" id="_ref_102"><a href="#sec-Intl.DisplayNames-internal-slots">12.2.3</a></emu-xref>).</li></ol></li><li>Let <var>styleFields</var> be <var>typeFields</var>.[[&lt;<var>style</var>&gt;]].</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>styleFields</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> (see <emu-xref href="#sec-Intl.DisplayNames-internal-slots" id="_ref_103"><a href="#sec-Intl.DisplayNames-internal-slots">12.2.3</a></emu-xref>).</li><li>Set <var>displayNames</var>.<var class="field">[[Fields]]</var> to <var>styleFields</var>.</li><li>Return <var>displayNames</var>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-displaynames-constructor">
    <h1><span class="secnum">12.2</span> Properties of the Intl.DisplayNames Constructor</h1>

    <p>The Intl.DisplayNames <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref>.</li>
      <li>has the following properties:</li>
    </ul>

    <emu-clause id="sec-Intl.DisplayNames.prototype">
      <h1><span class="secnum">12.2.1</span> Intl.DisplayNames.prototype</h1>

      <p>The value of <code>Intl.DisplayNames.prototype</code> is <emu-xref href="#sec-properties-of-intl-displaynames-prototype-object" id="_ref_600"><a href="#sec-properties-of-intl-displaynames-prototype-object">%Intl.DisplayNames.prototype%</a></emu-xref>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> }.</p>
    </emu-clause>

    <emu-clause id="sec-Intl.DisplayNames.supportedLocalesOf">
      <h1><span class="secnum">12.2.2</span> Intl.DisplayNames.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p>When the <code>supportedLocalesOf</code> method is called with arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>availableLocales</var> be <emu-xref href="#sec-intl-displaynames-constructor" id="_ref_601"><a href="#sec-intl-displaynames-constructor">%Intl.DisplayNames%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var>.</li><li>Let <var>requestedLocales</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_602"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_603"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.DisplayNames-internal-slots">
      <h1><span class="secnum">12.2.3</span> Internal slots</h1>

      <p>The value of the <var class="field">[[AvailableLocales]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_104"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

      <p>The value of the <var class="field">[[RelevantExtensionKeys]]</var> internal slot is « ».</p>

      <p>The value of the <var class="field">[[ResolutionOptionDescriptors]]</var> internal slot is « ».</p>

      <p>The value of the <var class="field">[[LocaleData]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_105"><a href="#sec-internal-slots">9.1</a></emu-xref> and the following additional constraints:</p>

      <ul>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] must have a <var class="field">[[types]]</var> field for all locale values <var>locale</var>. The value of this field must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>, which must have fields with the names of all display name types: <emu-val>"language"</emu-val>, <emu-val>"region"</emu-val>, <emu-val>"script"</emu-val>, <emu-val>"currency"</emu-val>, <emu-val>"calendar"</emu-val>, and <emu-val>"dateTimeField"</emu-val>.</li>
        <li>The value of the field <emu-val>"language"</emu-val> must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> which must have fields with the names of one of the valid language displays: <emu-val>"dialect"</emu-val> and <emu-val>"standard"</emu-val>.</li>
        <li>The language display fields under display name type <emu-val>"language"</emu-val> should contain <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> which must have fields with the names of one of the valid display name styles: <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, and <emu-val>"long"</emu-val>.</li>
        <li>The value of the fields <emu-val>"region"</emu-val>, <emu-val>"script"</emu-val>, <emu-val>"currency"</emu-val>, <emu-val>"calendar"</emu-val>, and <emu-val>"dateTimeField"</emu-val> must be <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref>, which must have fields with the names of all display name styles: <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, and <emu-val>"long"</emu-val>.</li>
        <li>The display name style fields under display name type <emu-val>"language"</emu-val> should contain <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with keys corresponding to language codes that can be matched by the <code>unicode_language_id</code> <emu-xref href="#sec-language-tags" id="_ref_604"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>. The value of these fields must be string values.</li>
        <li>The display name style fields under display name type <emu-val>"region"</emu-val> should contain <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with keys corresponding to region codes. The value of these fields must be string values.</li>
        <li>The display name style fields under display name type <emu-val>"script"</emu-val> should contain <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with keys corresponding to script codes. The value of these fields must be string values.</li>
        <li>The display name style fields under display name type <emu-val>"currency"</emu-val> should contain <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with keys corresponding to currency codes. The value of these fields must be string values.</li>
        <li>The display name style fields under display name type <emu-val>"calendar"</emu-val> should contain <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with keys corresponding to calendar identifiers that can be matched by the <code>type</code> <emu-xref href="#sec-language-tags" id="_ref_605"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>. The value of these fields must be string values.</li>
        <li>The display name style fields under display name type <emu-val>"dateTimeField"</emu-val> should contain <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with keys corresponding to codes listed in <emu-xref href="#table-validcodefordatetimefield" id="_ref_106"><a href="#table-validcodefordatetimefield">Table 19</a></emu-xref>. The value of these fields must be string values.</li>
      </ul>

      <emu-note><span class="note">Note</span><div class="note-contents">
        It is recommended that implementations use the locale data provided by the Common Locale Data Repository (available at <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>).
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-displaynames-prototype-object">
    <h1><span class="secnum">12.3</span> Properties of the Intl.DisplayNames Prototype Object</h1>

    <p>The <dfn tabindex="-1">Intl.DisplayNames prototype object</dfn>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.DisplayNames.prototype%</dfn>.</li>
      <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
      <li>is not an Intl.DisplayNames instance and does not have an <var class="field">[[InitializedDisplayNames]]</var> internal slot or any of the other internal slots of Intl.DisplayNames instance objects.</li>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>.</li>
    </ul>

    <emu-clause id="sec-Intl.DisplayNames.prototype.constructor">
      <h1><span class="secnum">12.3.1</span> Intl.DisplayNames.prototype.constructor</h1>

      <p>The initial value of <code>Intl.DisplayNames.prototype.constructor</code> is <emu-xref href="#sec-intl-displaynames-constructor" id="_ref_606"><a href="#sec-intl-displaynames-constructor">%Intl.DisplayNames%</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-Intl.DisplayNames.prototype.resolvedOptions">
      <h1><span class="secnum">12.3.2</span> Intl.DisplayNames.prototype.resolvedOptions ( )</h1>

      <p>This function provides access to the locale and options computed during initialization of the object.</p>

      <emu-alg><ol><li>Let <var>displayNames</var> be <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>displayNames</var>, <var class="field">[[InitializedDisplayNames]]</var>).</li><li>Let <var>options</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>For each row of <emu-xref href="#table-displaynames-resolvedoptions-properties" id="_ref_107"><a href="#table-displaynames-resolvedoptions-properties">Table 18</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>p</var> be the Property value of the current row.</li><li>Let <var>v</var> be the value of <var>displayNames</var>'s internal slot whose name is the Internal Slot value of the current row.</li><li>If <var>v</var> is not <emu-val>undefined</emu-val>, then<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>).</li></ol></li></ol></li><li>Return <var>options</var>.</li></ol></emu-alg>

      <emu-table id="table-displaynames-resolvedoptions-properties"><figure><figcaption>Table 18: Resolved Options of DisplayNames Instances</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Property</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Style]]</var></td>
            <td><emu-val>"style"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Type]]</var></td>
            <td><emu-val>"type"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Fallback]]</var></td>
            <td><emu-val>"fallback"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[LanguageDisplay]]</var></td>
            <td><emu-val>"languageDisplay"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-Intl.DisplayNames.prototype.of">
      <h1><span class="secnum">12.3.3</span> Intl.DisplayNames.prototype.of ( <var>code</var> )</h1>

      <p>When the <code>Intl.DisplayNames.prototype.of</code> is called with an argument <var>code</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>displayNames</var> be <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>displayNames</var>, <var class="field">[[InitializedDisplayNames]]</var>).</li><li>Let <var>code</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>code</var>).</li><li>Set <var>code</var> to ?&nbsp;<emu-xref aoid="CanonicalCodeForDisplayNames" id="_ref_607"><a href="#sec-canonicalcodefordisplaynames">CanonicalCodeForDisplayNames</a></emu-xref>(<var>displayNames</var>.<var class="field">[[Type]]</var>, <var>code</var>).</li><li>Let <var>fields</var> be <var>displayNames</var>.<var class="field">[[Fields]]</var>.</li><li>If <var>fields</var> has a field [[&lt;<var>code</var>&gt;]], return <var>fields</var>.[[&lt;<var>code</var>&gt;]].</li><li>If <var>displayNames</var>.<var class="field">[[Fallback]]</var> is <emu-val>"code"</emu-val>, return <var>code</var>.</li><li>Return <emu-val>undefined</emu-val>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.displaynames.prototype-%symbol.tostringtag%" oldids="sec-Intl.DisplayNames.prototype-@@tostringtag"><span id="sec-Intl.DisplayNames.prototype-@@tostringtag"></span>
      <h1><span class="secnum">12.3.4</span> Intl.DisplayNames.prototype [ %Symbol.toStringTag% ]</h1>

      <p>The initial value of the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property is the String value <emu-val>"Intl.DisplayNames"</emu-val>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> }.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-displaynames-instances">
    <h1><span class="secnum">12.4</span> Properties of Intl.DisplayNames Instances</h1>

    <p>Intl.DisplayNames instances are <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary objects</a></emu-xref> that inherit properties from <emu-xref href="#sec-properties-of-intl-displaynames-prototype-object" id="_ref_608"><a href="#sec-properties-of-intl-displaynames-prototype-object">%Intl.DisplayNames.prototype%</a></emu-xref>.</p>

    <p>Intl.DisplayNames instances have an <var class="field">[[InitializedDisplayNames]]</var> internal slot.</p>

    <p>Intl.DisplayNames instances also have several internal slots that are computed by <emu-xref href="#sec-intl-displaynames-constructor" title="" id="_ref_108"><a href="#sec-intl-displaynames-constructor">The Intl.DisplayNames Constructor</a></emu-xref>:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value with the <emu-xref href="#sec-language-tags" id="_ref_609"><a href="#sec-language-tags">language tag</a></emu-xref> of the locale whose localization is used for formatting.</li>
      <li><var class="field">[[Style]]</var> is one of the String values <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, or <emu-val>"long"</emu-val>, identifying the display name style used.</li>
      <li><var class="field">[[Type]]</var> is one of the String values <emu-val>"language"</emu-val>, <emu-val>"region"</emu-val>, <emu-val>"script"</emu-val>, <emu-val>"currency"</emu-val>, <emu-val>"calendar"</emu-val>, or <emu-val>"dateTimeField"</emu-val>, identifying the type of the display names requested.</li>
      <li><var class="field">[[Fallback]]</var> is one of the String values <emu-val>"code"</emu-val> or <emu-val>"none"</emu-val>, identifying the fallback return when the system does not have the requested display name.</li>
      <li><var class="field">[[LanguageDisplay]]</var> is one of the String values <emu-val>"dialect"</emu-val> or <emu-val>"standard"</emu-val>, identifying the language display kind. It is only used when <var class="field">[[Type]]</var> has the value <emu-val>"language"</emu-val>.</li>
      <li><var class="field">[[Fields]]</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> (see <emu-xref href="#sec-Intl.DisplayNames-internal-slots" id="_ref_109"><a href="#sec-Intl.DisplayNames-internal-slots">12.2.3</a></emu-xref>) which must have fields with keys corresponding to codes according to <var class="field">[[Style]]</var>, <var class="field">[[Type]]</var>, and <var class="field">[[LanguageDisplay]]</var>.</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-intl-displaynames-abstracts">
    <h1><span class="secnum">12.5</span> Abstract Operations for DisplayNames Objects</h1>

    <emu-clause id="sec-canonicalcodefordisplaynames" type="abstract operation" aoid="CanonicalCodeForDisplayNames">
      <h1><span class="secnum">12.5.1</span> CanonicalCodeForDisplayNames ( <var>type</var>, <var>code</var> )</h1>
      <p>The abstract operation CanonicalCodeForDisplayNames takes arguments <var>type</var> (a String) and <var>code</var> (a String) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a String or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It verifies that <var>code</var> represents a well-formed code according to <var>type</var> and returns the case-regularized form of <var>code</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>type</var> is <emu-val>"language"</emu-val>, then<ol><li>If <var>code</var> cannot be matched by the <code>unicode_language_id</code> <emu-xref href="#sec-language-tags" id="_ref_610"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li><li>If <emu-xref aoid="IsStructurallyValidLanguageTag" id="_ref_611"><a href="#sec-isstructurallyvalidlanguagetag">IsStructurallyValidLanguageTag</a></emu-xref>(<var>code</var>) is <emu-val>false</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return <emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_612"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>code</var>).</li></ol></li><li>If <var>type</var> is <emu-val>"region"</emu-val>, then<ol><li>If <var>code</var> cannot be matched by the <code>unicode_region_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_613"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return the <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_614"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-uppercase</a></emu-xref> of <var>code</var>.</li></ol></li><li>If <var>type</var> is <emu-val>"script"</emu-val>, then<ol><li>If <var>code</var> cannot be matched by the <code>unicode_script_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_615"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: The length of <var>code</var> is 4, and every code unit of <var>code</var> represents an ASCII letter (0x0041 through 0x005A and 0x0061 through 0x007A, both inclusive).</li><li>Let <var>first</var> be the <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_616"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-uppercase</a></emu-xref> of the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>code</var> from 0 to 1.</li><li>Let <var>rest</var> be the <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_617"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-lowercase</a></emu-xref> of the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>code</var> from 1.</li><li>Return the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>first</var> and <var>rest</var>.</li></ol></li><li>If <var>type</var> is <emu-val>"calendar"</emu-val>, then<ol><li>If <var>code</var> cannot be matched by the <code>type</code> <emu-xref href="#sec-language-tags" id="_ref_618"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li><li>If <var>code</var> uses any of the backwards compatibility syntax described in <a href="https://unicode.org/reports/tr35/#BCP_47_Conformance">Unicode Technical Standard #35 Part 1 Core, Section 3.3 BCP 47 Conformance</a>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return the <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_619"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-lowercase</a></emu-xref> of <var>code</var>.</li></ol></li><li>If <var>type</var> is <emu-val>"dateTimeField"</emu-val>, then<ol><li>If the result of <emu-xref aoid="IsValidDateTimeFieldCode" id="_ref_620"><a href="#sec-isvaliddatetimefieldcode">IsValidDateTimeFieldCode</a></emu-xref>(<var>code</var>) is <emu-val>false</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return <var>code</var>.</li></ol></li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>type</var> is <emu-val>"currency"</emu-val>.</li><li>If <emu-xref aoid="IsWellFormedCurrencyCode" id="_ref_621"><a href="#sec-iswellformedcurrencycode">IsWellFormedCurrencyCode</a></emu-xref>(<var>code</var>) is <emu-val>false</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return the <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_622"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-uppercase</a></emu-xref> of <var>code</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-isvaliddatetimefieldcode" type="abstract operation" aoid="IsValidDateTimeFieldCode">
      <h1><span class="secnum">12.5.2</span> IsValidDateTimeFieldCode ( <var>field</var> )</h1>
      <p>The abstract operation IsValidDateTimeFieldCode takes argument <var>field</var> (a String) and returns a Boolean. It verifies that the <var>field</var> argument represents a valid date time field code. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>field</var> is listed in the Code column of <emu-xref href="#table-validcodefordatetimefield" id="_ref_110"><a href="#table-validcodefordatetimefield">Table 19</a></emu-xref>, return <emu-val>true</emu-val>.</li><li>Return <emu-val>false</emu-val>.</li></ol></emu-alg>

      <emu-table id="table-validcodefordatetimefield"><figure><figcaption>Table 19: Codes For Date Time Field of DisplayNames</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Code</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><emu-val>"era"</emu-val></td>
            <td>The field indicating the era, e.g. AD or BC in the Gregorian or Julian calendar.</td>
          </tr>
          <tr>
            <td><emu-val>"year"</emu-val></td>
            <td>The field indicating the year (within an era).</td>
          </tr>
          <tr>
            <td><emu-val>"quarter"</emu-val></td>
            <td>The field indicating the quarter, e.g. Q2, 2nd quarter, etc.</td>
          </tr>
          <tr>
            <td><emu-val>"month"</emu-val></td>
            <td>The field indicating the month, e.g. Sep, September, etc.</td>
          </tr>
          <tr>
            <td><emu-val>"weekOfYear"</emu-val></td>
            <td>The field indicating the week number within a year.</td>
          </tr>
          <tr>
            <td><emu-val>"weekday"</emu-val></td>
            <td>The field indicating the day of week, e.g. Tue, Tuesday, etc.</td>
          </tr>
          <tr>
            <td><emu-val>"day"</emu-val></td>
            <td>The field indicating the day in month.</td>
          </tr>
          <tr>
            <td><emu-val>"dayPeriod"</emu-val></td>
            <td>The field indicating the day period, either am, pm, etc. or noon, evening, etc..</td>
          </tr>
          <tr>
            <td><emu-val>"hour"</emu-val></td>
            <td>The field indicating the hour.</td>
          </tr>
          <tr>
            <td><emu-val>"minute"</emu-val></td>
            <td>The field indicating the minute.</td>
          </tr>
          <tr>
            <td><emu-val>"second"</emu-val></td>
            <td>The field indicating the second.</td>
          </tr>
          <tr>
            <td><emu-val>"timeZoneName"</emu-val></td>
            <td>The field indicating the time zone name, e.g. PDT, Pacific Daylight Time, etc.</td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="durationformat-objects">
  <h1><span class="secnum">13</span> DurationFormat Objects</h1>

  <emu-clause id="sec-intl-durationformat-constructor">
    <h1><span class="secnum">13.1</span> The Intl.DurationFormat Constructor</h1>

    <p>The Intl.DurationFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.DurationFormat%</dfn>.</li>
      <li>is the initial value of the <emu-val>"DurationFormat"</emu-val> property of the <emu-xref href="#intl-object" id="_ref_623"><a href="#intl-object">Intl object</a></emu-xref>.</li>
    </ul>

    <p>Behaviour common to all <emu-xref href="#service-constructor" id="_ref_624"><a href="#service-constructor">service constructor</a></emu-xref> properties of the <emu-xref href="#intl-object" id="_ref_625"><a href="#intl-object">Intl object</a></emu-xref> is specified in <emu-xref href="#sec-internal-slots" id="_ref_111"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

    <emu-clause id="sec-Intl.DurationFormat">
      <h1><span class="secnum">13.1.1</span> Intl.DurationFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>When the <code>Intl.DurationFormat</code> function is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>If NewTarget is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>durationFormat</var> be ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.DurationFormatPrototype%"</emu-val>, « <var class="field">[[InitializedDurationFormat]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[NumberingSystem]]</var>, <var class="field">[[Style]]</var>, <var class="field">[[YearsOptions]]</var>, <var class="field">[[MonthsOptions]]</var>, <var class="field">[[WeeksOptions]]</var>, <var class="field">[[DaysOptions]]</var>, <var class="field">[[HoursOptions]]</var>, <var class="field">[[MinutesOptions]]</var>, <var class="field">[[SecondsOptions]]</var>, <var class="field">[[MillisecondsOptions]]</var>, <var class="field">[[MicrosecondsOptions]]</var>, <var class="field">[[NanosecondsOptions]]</var>, <var class="field">[[HourMinuteSeparator]]</var>, <var class="field">[[MinuteSecondSeparator]]</var>, <var class="field">[[FractionalDigits]]</var>&nbsp;»).</li><li>Let <var>optionsResolution</var> be ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_626"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-durationformat-constructor" id="_ref_627"><a href="#sec-intl-durationformat-constructor">%Intl.DurationFormat%</a></emu-xref>, <emu-xref href="#sec-intl-durationformat-constructor" id="_ref_628"><a href="#sec-intl-durationformat-constructor">%Intl.DurationFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>, <var>options</var>).</li><li>Set <var>options</var> to <var>optionsResolution</var>.<var class="field">[[Options]]</var>.</li><li>Let <var>r</var> be <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var>.</li><li>Set <var>durationFormat</var>.<var class="field">[[Locale]]</var> to <var>r</var>.<var class="field">[[Locale]]</var>.</li><li>Let <var>resolvedLocaleData</var> be <var>r</var>.<var class="field">[[LocaleData]]</var>.</li><li>Let <var>digitalFormat</var> be <var>resolvedLocaleData</var>.<var class="field">[[DigitalFormat]]</var>.</li><li>Set <var>durationFormat</var>.<var class="field">[[HourMinuteSeparator]]</var> to <var>digitalFormat</var>.<var class="field">[[HourMinuteSeparator]]</var>.</li><li>Set <var>durationFormat</var>.<var class="field">[[MinuteSecondSeparator]]</var> to <var>digitalFormat</var>.<var class="field">[[MinuteSecondSeparator]]</var>.</li><li>Set <var>durationFormat</var>.<var class="field">[[NumberingSystem]]</var> to <var>r</var>.<var class="field">[[nu]]</var>.</li><li>Let <var>style</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_629"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"style"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"digital"</emu-val>&nbsp;», <emu-val>"short"</emu-val>).</li><li>Set <var>durationFormat</var>.<var class="field">[[Style]]</var> to <var>style</var>.</li><li>Let <var>prevStyle</var> be the empty String.</li><li>For each row of <emu-xref href="#table-durationformat" id="_ref_112"><a href="#table-durationformat">Table 20</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>slot</var> be the Internal Slot value of the current row.</li><li>Let <var>unit</var> be the Unit value of the current row.</li><li>Let <var>styles</var> be the Styles value of the current row.</li><li>Let <var>digitalBase</var> be the Digital Default value of the current row.</li><li>Let <var>unitOptions</var> be ?&nbsp;<emu-xref aoid="GetDurationUnitOptions" id="_ref_630"><a href="#sec-getdurationunitoptions">GetDurationUnitOptions</a></emu-xref>(<var>unit</var>, <var>options</var>, <var>style</var>, <var>styles</var>, <var>digitalBase</var>, <var>prevStyle</var>, <var>digitalFormat</var>.<var class="field">[[TwoDigitHours]]</var>).</li><li>Set the value of <var>durationFormat</var>'s internal slot whose name is <var>slot</var> to <var>unitOptions</var>.</li><li>If <var>unit</var> is one of <emu-val>"hours"</emu-val>, <emu-val>"minutes"</emu-val>, <emu-val>"seconds"</emu-val>, <emu-val>"milliseconds"</emu-val>, or <emu-val>"microseconds"</emu-val>, then<ol><li>Set <var>prevStyle</var> to <var>unitOptions</var>.<var class="field">[[Style]]</var>.</li></ol></li></ol></li><li>Set <var>durationFormat</var>.<var class="field">[[FractionalDigits]]</var> to ?&nbsp;<emu-xref aoid="GetNumberOption" id="_ref_631"><a href="#sec-getnumberoption">GetNumberOption</a></emu-xref>(<var>options</var>, <emu-val>"fractionalDigits"</emu-val>, 0, 9, <emu-val>undefined</emu-val>).</li><li>Return <var>durationFormat</var>.</li></ol></emu-alg>
      <emu-table id="table-durationformat"><figure><figcaption>Table 20: Internal slots and property names of DurationFormat instances</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Unit</th>
              <th>Styles</th>
              <th>Digital Default</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[YearsOptions]]</var></td>
            <td><emu-val>"years"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val> »</td>
            <td><emu-val>"short"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[MonthsOptions]]</var></td>
            <td><emu-val>"months"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val> »</td>
            <td><emu-val>"short"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[WeeksOptions]]</var></td>
            <td><emu-val>"weeks"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val> »</td>
            <td><emu-val>"short"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[DaysOptions]]</var></td>
            <td><emu-val>"days"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val> »</td>
            <td><emu-val>"short"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[HoursOptions]]</var></td>
            <td><emu-val>"hours"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"numeric"</emu-val>, <emu-val>"2-digit"</emu-val> »</td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[MinutesOptions]]</var></td>
            <td><emu-val>"minutes"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"numeric"</emu-val>, <emu-val>"2-digit"</emu-val> »</td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[SecondsOptions]]</var></td>
            <td><emu-val>"seconds"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"numeric"</emu-val>, <emu-val>"2-digit"</emu-val> »</td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[MillisecondsOptions]]</var></td>
            <td><emu-val>"milliseconds"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"numeric"</emu-val> »</td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[MicrosecondsOptions]]</var></td>
            <td><emu-val>"microseconds"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"numeric"</emu-val> »</td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[NanosecondsOptions]]</var></td>
            <td><emu-val>"nanoseconds"</emu-val></td>
            <td>« <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"numeric"</emu-val> »</td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-durationformat-constructor">
    <h1><span class="secnum">13.2</span> Properties of the Intl.DurationFormat Constructor</h1>

    <p>The Intl.DurationFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref>.</li>
      <li>has the following properties:</li>
    </ul>

    <emu-clause id="sec-Intl.DurationFormat.prototype">
      <h1><span class="secnum">13.2.1</span> Intl.DurationFormat.prototype</h1>

      <p>The value of <code>Intl.DurationFormat.prototype</code> is <emu-xref href="#sec-properties-of-intl-durationformat-prototype-object" id="_ref_632"><a href="#sec-properties-of-intl-durationformat-prototype-object">%Intl.DurationFormat.prototype%</a></emu-xref>.</p>

      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> }.</p>
    </emu-clause>

    <emu-clause id="sec-Intl.DurationFormat.supportedLocalesOf">
      <h1><span class="secnum">13.2.2</span> Intl.DurationFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p>When the <code>supportedLocalesOf</code> method is called with arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>availableLocales</var> be <emu-xref href="#sec-intl-durationformat-constructor" id="_ref_633"><a href="#sec-intl-durationformat-constructor">%Intl.DurationFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var>.</li><li>Let <var>requestedLocales</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_634"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_635"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.DurationFormat-internal-slots">
      <h1><span class="secnum">13.2.3</span> Internal slots</h1>

      <p>The value of the <var class="field">[[AvailableLocales]]</var> internal slot is implementation defined within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_113"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

      <p>The value of the <var class="field">[[RelevantExtensionKeys]]</var> internal slot is « <emu-val>"nu"</emu-val> ».</p>

      <p>The value of the <var class="field">[[ResolutionOptionDescriptors]]</var> internal slot is « { <var class="field">[[Key]]</var>: <emu-val>"nu"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"numberingSystem"</emu-val> } ».</p>

      <p>The value of the <var class="field">[[LocaleData]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_114"><a href="#sec-internal-slots">9.1</a></emu-xref> and the following additional constraints for all locale values <var>locale</var>:</p>

      <ul>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields <var class="field">[[nu]]</var> and <var class="field">[[DigitalFormat]]</var>.</li>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[nu]]</var> must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> as specified in <emu-xref href="#sec-intl.numberformat-internal-slots" id="_ref_115"><a href="#sec-intl.numberformat-internal-slots">16.2.3</a></emu-xref> and must not include the values <emu-val>"native"</emu-val>, <emu-val>"traditio"</emu-val>, or <emu-val>"finance"</emu-val>.</li>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]].<var class="field">[[DigitalFormat]]</var> must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with keys corresponding to each numbering system available for <var>locale</var>. Each value associated with one of those keys must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> containing the following fields:
          <ul>
            <li><var class="field">[[HourMinuteSeparator]]</var> must be a String value that is the appropriate separator between hours and minutes for that combination of locale and numbering system when using style <emu-val>"numeric"</emu-val> or <emu-val>"2-digit"</emu-val>.</li>
            <li><var class="field">[[MinuteSecondSeparator]]</var> must be a String value that is the appropriate separator between minutes and seconds for that combination of locale and numbering system when using style <emu-val>"numeric"</emu-val> or <emu-val>"2-digit"</emu-val>.</li>
            <li><var class="field">[[TwoDigitHours]]</var> must be a Boolean value indicating whether hours are always displayed using two digits when using style <emu-val>"numeric"</emu-val>.</li>
          </ul>
        </li>
      </ul>

      <emu-note><span class="note">Note</span><div class="note-contents">It is recommended that implementations use the locale data provided by the Common Locale Data Repository (available at <a href="http://cldr.unicode.org/">http://cldr.unicode.org/</a>).</div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-durationformat-prototype-object">
    <h1><span class="secnum">13.3</span> Properties of the Intl.DurationFormat Prototype Object</h1>

    <p>The <dfn tabindex="-1">Intl.DurationFormat prototype object</dfn>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.DurationFormat.prototype%</dfn>.</li>
      <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
      <li>is not an Intl.DurationFormat instance and does not have an <var class="field">[[InitializedDurationFormat]]</var> internal slot or any of the other internal slots of Intl.DurationFormat instance objects.</li>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>.</li>
    </ul>

    <emu-clause id="sec-Intl.DurationFormat.prototype.constructor">
      <h1><span class="secnum">13.3.1</span> Intl.DurationFormat.prototype.constructor</h1>

      <p>The initial value of <code>Intl.DurationFormat.prototype.constructor</code> is the intrinsic object <emu-xref href="#sec-intl-durationformat-constructor" id="_ref_636"><a href="#sec-intl-durationformat-constructor">%Intl.DurationFormat%</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-Intl.DurationFormat.prototype.resolvedOptions">
      <h1><span class="secnum">13.3.2</span> Intl.DurationFormat.prototype.resolvedOptions ( )</h1>

      <p>This function provides access to the locale and options computed during initialization of the object.</p>

      <emu-alg><ol><li>Let <var>df</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>df</var>, <var class="field">[[InitializedDurationFormat]]</var>).</li><li>Let <var>options</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>For each row of <emu-xref href="#table-durationformat-resolvedoptions-properties" id="_ref_116"><a href="#table-durationformat-resolvedoptions-properties">Table 21</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>p</var> be the Property value of the current row.</li><li>Let <var>v</var> be the value of <var>df</var>'s internal slot whose name is the Internal Slot value of the current row.</li><li>If <var>v</var> is not <emu-val>undefined</emu-val>, then<ol><li>If there is a Conversion value in the current row, let <var>conversion</var> be that value; else let <var>conversion</var> be <emu-const>empty</emu-const>.</li><li>If <var>conversion</var> is <emu-const>number</emu-const>, then<ol><li>Set <var>v</var> to <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>v</var>).</li></ol></li><li>Else if <var>conversion</var> is not <emu-const>empty</emu-const>, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>conversion</var> is <emu-const>style+display</emu-const> and <var>v</var> is a <emu-xref href="#durationformat-unit-options-record" id="_ref_637"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref>.</li><li>NOTE: <var>v</var>.<var class="field">[[Style]]</var> will be represented with a property named <var>p</var> (a plural Temporal unit), then <var>v</var>.<var class="field">[[Display]]</var> will be represented with a property whose name suffixes <var>p</var> with <emu-val>"Display"</emu-val>.</li><li>Let <var>style</var> be <var>v</var>.<var class="field">[[Style]]</var>.</li><li>If <var>style</var> is <emu-val>"fractional"</emu-val>, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <emu-xref aoid="IsFractionalSecondUnitName" id="_ref_638"><a href="#sec-isfractionalsecondunitname">IsFractionalSecondUnitName</a></emu-xref>(<var>p</var>) is <emu-val>true</emu-val>.</li><li>Set <var>style</var> to <emu-val>"numeric"</emu-val>.</li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>style</var>).</li><li>Set <var>p</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>p</var> and <emu-val>"Display"</emu-val>.</li><li>Set <var>v</var> to <var>v</var>.<var class="field">[[Display]]</var>.</li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>).</li></ol></li></ol></li><li>Return <var>options</var>.</li></ol></emu-alg>

      <emu-table id="table-durationformat-resolvedoptions-properties"><figure><figcaption>Table 21: Resolved Options of DurationFormat Instances</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Property</th>
              <th>Conversion</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[NumberingSystem]]</var></td>
            <td><emu-val>"numberingSystem"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Style]]</var></td>
            <td><emu-val>"style"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[YearsOptions]]</var></td>
            <td><emu-val>"years"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MonthsOptions]]</var></td>
            <td><emu-val>"months"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[WeeksOptions]]</var></td>
            <td><emu-val>"weeks"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[DaysOptions]]</var></td>
            <td><emu-val>"days"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[HoursOptions]]</var></td>
            <td><emu-val>"hours"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MinutesOptions]]</var></td>
            <td><emu-val>"minutes"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[SecondsOptions]]</var></td>
            <td><emu-val>"seconds"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MillisecondsOptions]]</var></td>
            <td><emu-val>"milliseconds"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MicrosecondsOptions]]</var></td>
            <td><emu-val>"microseconds"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[NanosecondsOptions]]</var></td>
            <td><emu-val>"nanoseconds"</emu-val></td>
            <td><emu-const>style+display</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[FractionalDigits]]</var></td>
            <td><emu-val>"fractionalDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-Intl.DurationFormat.prototype.format">
      <h1><span class="secnum">13.3.3</span> Intl.DurationFormat.prototype.format ( <var>duration</var> )</h1>

      <p>When the <code>format</code> method is called with an argument <var>duration</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>df</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>df</var>, <var class="field">[[InitializedDurationFormat]]</var>).</li><li>Let <var>record</var> be ?&nbsp;<emu-xref aoid="ToDurationRecord" id="_ref_639"><a href="#sec-todurationrecord">ToDurationRecord</a></emu-xref>(<var>duration</var>).</li><li>Let <var>parts</var> be <emu-xref aoid="PartitionDurationFormatPattern" id="_ref_640"><a href="#sec-partitiondurationformatpattern">PartitionDurationFormatPattern</a></emu-xref>(<var>df</var>, <var>record</var>).</li><li>Let <var>result</var> be the empty String.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>&nbsp;} <var>part</var> in <var>parts</var>, do<ol><li>Set <var>result</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>result</var> and <var>part</var>.<var class="field">[[Value]]</var>.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.DurationFormat.prototype.formatToParts">
      <h1><span class="secnum">13.3.4</span> Intl.DurationFormat.prototype.formatToParts ( <var>duration</var> )</h1>

      <p>When the <code>formatToParts</code> method is called with an argument <var>duration</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>df</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>df</var>, <var class="field">[[InitializedDurationFormat]]</var>).</li><li>Let <var>record</var> be ?&nbsp;<emu-xref aoid="ToDurationRecord" id="_ref_641"><a href="#sec-todurationrecord">ToDurationRecord</a></emu-xref>(<var>duration</var>).</li><li>Let <var>parts</var> be <emu-xref aoid="PartitionDurationFormatPattern" id="_ref_642"><a href="#sec-partitiondurationformatpattern">PartitionDurationFormatPattern</a></emu-xref>(<var>df</var>, <var>record</var>).</li><li>Let <var>result</var> be !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0).</li><li>Let <var>n</var> be 0.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>&nbsp;} <var>part</var> in <var>parts</var>, do<ol><li>Let <var>obj</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>obj</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>obj</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>).</li><li>If <var>part</var>.<var class="field">[[Unit]]</var> is not <emu-const>empty</emu-const>, perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>obj</var>, <emu-val>"unit"</emu-val>, <var>part</var>.<var class="field">[[Unit]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>n</var>), <var>obj</var>).</li><li>Set <var>n</var> to <var>n</var> + 1.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.DurationFormat.prototype-%symbol.tostringtag%">
      <h1><span class="secnum">13.3.5</span> Intl.DurationFormat.prototype [ %Symbol.toStringTag% ]</h1>

      <p>The initial value of the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property is the String value <emu-val>"Intl.DurationFormat"</emu-val>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> }.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-durationformat-instances">
    <h1><span class="secnum">13.4</span> Properties of Intl.DurationFormat Instances</h1>

    <p>Intl.DurationFormat instances inherit properties from <emu-xref href="#sec-properties-of-intl-durationformat-prototype-object" id="_ref_643"><a href="#sec-properties-of-intl-durationformat-prototype-object">%Intl.DurationFormat.prototype%</a></emu-xref>.</p>
    <p>Intl.DurationFormat instances have an <var class="field">[[InitializedDurationFormat]]</var> internal slot.</p>
    <p>Intl.DurationFormat instances also have several internal slots that are computed by <emu-xref href="#sec-intl-durationformat-constructor" title="" id="_ref_117"><a href="#sec-intl-durationformat-constructor">The Intl.DurationFormat Constructor</a></emu-xref>:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value with the <emu-xref href="#sec-language-tags" id="_ref_644"><a href="#sec-language-tags">language tag</a></emu-xref> of the locale whose localization is used for formatting.</li>
      <li><var class="field">[[NumberingSystem]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value representing the <a href="https://unicode.org/reports/tr35/#UnicodeNumberSystemIdentifier">Unicode Number System Identifier</a> used for formatting.</li>
      <li><var class="field">[[Style]]</var> is one of the String values <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, or <emu-val>"digital"</emu-val> identifying the duration formatting style used.</li>
      <li><var class="field">[[YearsOptions]]</var> is a <emu-xref href="#durationformat-unit-options-record" id="_ref_645"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref> identifying the formatting style and display criteria for a <emu-xref href="#sec-duration-records" id="_ref_646"><a href="#sec-duration-records">Duration Record</a></emu-xref>'s <var class="field">[[Years]]</var> field.</li>
      <li><var class="field">[[MonthsOptions]]</var> is a <emu-xref href="#durationformat-unit-options-record" id="_ref_647"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref> identifying the formatting style and display criteria for a <emu-xref href="#sec-duration-records" id="_ref_648"><a href="#sec-duration-records">Duration Record</a></emu-xref>'s <var class="field">[[Months]]</var> field.</li>
      <li><var class="field">[[WeeksOptions]]</var> is a <emu-xref href="#durationformat-unit-options-record" id="_ref_649"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref> identifying the formatting style and display criteria for a <emu-xref href="#sec-duration-records" id="_ref_650"><a href="#sec-duration-records">Duration Record</a></emu-xref>'s <var class="field">[[Weeks]]</var> field.</li>
      <li><var class="field">[[DaysOptions]]</var> is a <emu-xref href="#durationformat-unit-options-record" id="_ref_651"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref> identifying the formatting style and display criteria for a <emu-xref href="#sec-duration-records" id="_ref_652"><a href="#sec-duration-records">Duration Record</a></emu-xref>'s <var class="field">[[Days]]</var> field.</li>
      <li><var class="field">[[HoursOptions]]</var> is a <emu-xref href="#durationformat-unit-options-record" id="_ref_653"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref> identifying the formatting style and display criteria for a <emu-xref href="#sec-duration-records" id="_ref_654"><a href="#sec-duration-records">Duration Record</a></emu-xref>'s <var class="field">[[Hours]]</var> field.</li>
      <li><var class="field">[[MinutesOptions]]</var> is a <emu-xref href="#durationformat-unit-options-record" id="_ref_655"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref> identifying the formatting style and display criteria for a <emu-xref href="#sec-duration-records" id="_ref_656"><a href="#sec-duration-records">Duration Record</a></emu-xref>'s <var class="field">[[Minutes]]</var> field.</li>
      <li><var class="field">[[SecondsOptions]]</var> is a <emu-xref href="#durationformat-unit-options-record" id="_ref_657"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref> identifying the formatting style and display criteria for a <emu-xref href="#sec-duration-records" id="_ref_658"><a href="#sec-duration-records">Duration Record</a></emu-xref>'s <var class="field">[[Seconds]]</var> field.</li>
      <li><var class="field">[[MillisecondsOptions]]</var> is a <emu-xref href="#durationformat-unit-options-record" id="_ref_659"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref> identifying the formatting style and display criteria for a <emu-xref href="#sec-duration-records" id="_ref_660"><a href="#sec-duration-records">Duration Record</a></emu-xref>'s <var class="field">[[Milliseconds]]</var> field.</li>
      <li><var class="field">[[MicrosecondsOptions]]</var> is a <emu-xref href="#durationformat-unit-options-record" id="_ref_661"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref> identifying the formatting style and display criteria for a <emu-xref href="#sec-duration-records" id="_ref_662"><a href="#sec-duration-records">Duration Record</a></emu-xref>'s <var class="field">[[Microseconds]]</var> field.</li>
      <li><var class="field">[[NanosecondsOptions]]</var> is a <emu-xref href="#durationformat-unit-options-record" id="_ref_663"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref> identifying the formatting style and display criteria for a <emu-xref href="#sec-duration-records" id="_ref_664"><a href="#sec-duration-records">Duration Record</a></emu-xref>'s <var class="field">[[Nanoseconds]]</var> field.</li>
      <li><var class="field">[[HourMinuteSeparator]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value identifying the separator to be used between hours and minutes when both fields are displayed and both fields are formatted using numeric styles.</li>
      <li><var class="field">[[MinuteSecondSeparator]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value identifying the separator to be used between minutes and seconds when both fields are displayed and both fields are formatted using numeric styles.</li>
      <li><var class="field">[[FractionalDigits]]</var> is either <emu-val>undefined</emu-val> or a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> identifying the number of fractional digits to be used with numeric styles.</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-intl-durationformat-abstracts">
    <h1><span class="secnum">13.5</span> Abstract Operations for DurationFormat Objects</h1>

    <emu-clause id="sec-duration-records">
      <h1><span class="secnum">13.5.1</span> Duration Records</h1>
      <p>A <dfn variants="Duration Records" tabindex="-1">Duration Record</dfn> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> value used to represent a Duration.</p>
      <p>Duration Records have the fields listed in <emu-xref href="#table-duration-record-fields" id="_ref_118"><a href="#table-duration-record-fields">Table 22</a></emu-xref></p>
      <emu-table id="table-duration-record-fields" caption="Duration Record Fields"><figure><figcaption>Table 22: <emu-xref href="#sec-duration-records" id="_ref_665"><a href="#sec-duration-records">Duration Record</a></emu-xref> Fields</figcaption>
        <table class="real-table">
          <tbody><tr>
            <th>Field</th>
            <th>Meaning</th>
          </tr>
          <tr>
            <td><var class="field">[[Years]]</var></td>
            <td>
              The number of years in the duration.
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Months]]</var></td>
            <td>
              The number of months in the duration.
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Weeks]]</var></td>
            <td>
              The number of weeks in the duration.
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Days]]</var></td>
            <td>
              The number of days in the duration.
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Hours]]</var></td>
            <td>
              The number of hours in the duration.
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Minutes]]</var></td>
            <td>
              The number of minutes in the duration.
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Seconds]]</var></td>
            <td>
              The number of seconds in the duration.
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Milliseconds]]</var></td>
            <td>
              The number of milliseconds in the duration.
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Microseconds]]</var></td>
            <td>
              The number of microseconds in the duration.
            </td>
          </tr>
          <tr>
            <td><var class="field">[[Nanoseconds]]</var></td>
            <td>
              The number of nanoseconds in the duration.
            </td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-tointegerifintegral" oldids="sec-tointegerwithoutrounding" type="abstract operation" aoid="ToIntegerIfIntegral"><span id="sec-tointegerwithoutrounding"></span>
      <h1><span class="secnum">13.5.2</span> ToIntegerIfIntegral ( <var>argument</var> )</h1>
      <p>The abstract operation ToIntegerIfIntegral takes argument <var>argument</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>, or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It converts <var>argument</var> to an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> representing its Number value, or throws a <emu-val>RangeError</emu-val> when that value is not <emu-xref href="#integral-number"><a href="https://tc39.es/ecma262/#integral-number">integral</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>number</var> be ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>argument</var>).</li><li>If <var>number</var> is not an <emu-xref href="#integral-number"><a href="https://tc39.es/ecma262/#integral-number">integral Number</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>number</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-todurationrecord" type="abstract operation" aoid="ToDurationRecord">
      <h1><span class="secnum">13.5.3</span> ToDurationRecord ( <var>input</var> )</h1>
      <p>The abstract operation ToDurationRecord takes argument <var>input</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a <emu-xref href="#sec-duration-records" id="_ref_666"><a href="#sec-duration-records">Duration Record</a></emu-xref>, or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It converts a given object that represents a Duration into a <emu-xref href="#sec-duration-records" id="_ref_667"><a href="#sec-duration-records">Duration Record</a></emu-xref>. It performs the following steps when called:</p>

      <emu-alg><ol><li>If <var>input</var> <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">is not an Object</a></emu-xref>, then<ol><li>If <var>input</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Throw a <emu-val>TypeError</emu-val> exception.</li></ol></li><li>Let <var>result</var> be a new <emu-xref href="#sec-duration-records" id="_ref_668"><a href="#sec-duration-records">Duration Record</a></emu-xref> with each field set to 0.</li><li>Let <var>days</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"days"</emu-val>).</li><li>If <var>days</var> is not <emu-val>undefined</emu-val>, set <var>result</var>.<var class="field">[[Days]]</var> to ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_669"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>days</var>).</li><li>Let <var>hours</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"hours"</emu-val>).</li><li>If <var>hours</var> is not <emu-val>undefined</emu-val>, set <var>result</var>.<var class="field">[[Hours]]</var> to ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_670"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>hours</var>).</li><li>Let <var>microseconds</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"microseconds"</emu-val>).</li><li>If <var>microseconds</var> is not <emu-val>undefined</emu-val>, set <var>result</var>.<var class="field">[[Microseconds]]</var> to ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_671"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>microseconds</var>).</li><li>Let <var>milliseconds</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"milliseconds"</emu-val>).</li><li>If <var>milliseconds</var> is not <emu-val>undefined</emu-val>, set <var>result</var>.<var class="field">[[Milliseconds]]</var> to ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_672"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>milliseconds</var>).</li><li>Let <var>minutes</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"minutes"</emu-val>).</li><li>If <var>minutes</var> is not <emu-val>undefined</emu-val>, set <var>result</var>.<var class="field">[[Minutes]]</var> to ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_673"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>minutes</var>).</li><li>Let <var>months</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"months"</emu-val>).</li><li>If <var>months</var> is not <emu-val>undefined</emu-val>, set <var>result</var>.<var class="field">[[Months]]</var> to ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_674"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>months</var>).</li><li>Let <var>nanoseconds</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"nanoseconds"</emu-val>).</li><li>If <var>nanoseconds</var> is not <emu-val>undefined</emu-val>, set <var>result</var>.<var class="field">[[Nanoseconds]]</var> to ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_675"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>nanoseconds</var>).</li><li>Let <var>seconds</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"seconds"</emu-val>).</li><li>If <var>seconds</var> is not <emu-val>undefined</emu-val>, set <var>result</var>.<var class="field">[[Seconds]]</var> to ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_676"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>seconds</var>).</li><li>Let <var>weeks</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"weeks"</emu-val>).</li><li>If <var>weeks</var> is not <emu-val>undefined</emu-val>, set <var>result</var>.<var class="field">[[Weeks]]</var> to ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_677"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>weeks</var>).</li><li>Let <var>years</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>input</var>, <emu-val>"years"</emu-val>).</li><li>If <var>years</var> is not <emu-val>undefined</emu-val>, set <var>result</var>.<var class="field">[[Years]]</var> to ?&nbsp;<emu-xref aoid="ToIntegerIfIntegral" id="_ref_678"><a href="#sec-tointegerifintegral">ToIntegerIfIntegral</a></emu-xref>(<var>years</var>).</li><li>If <var>years</var>, <var>months</var>, <var>weeks</var>, <var>days</var>, <var>hours</var>, <var>minutes</var>, <var>seconds</var>, <var>milliseconds</var>, <var>microseconds</var>, and <var>nanoseconds</var> are all <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <emu-xref aoid="IsValidDuration" id="_ref_679"><a href="#sec-isvalidduration">IsValidDuration</a></emu-xref>( <var>result</var>.<var class="field">[[Years]]</var>, <var>result</var>.<var class="field">[[Months]]</var>, <var>result</var>.<var class="field">[[Weeks]]</var>, <var>result</var>.<var class="field">[[Days]]</var>, <var>result</var>.<var class="field">[[Hours]]</var>, <var>result</var>.<var class="field">[[Minutes]]</var>, <var>result</var>.<var class="field">[[Seconds]]</var>, <var>result</var>.<var class="field">[[Milliseconds]]</var>, <var>result</var>.<var class="field">[[Microseconds]]</var>, <var>result</var>.<var class="field">[[Nanoseconds]]</var>) is <emu-val>false</emu-val>, then<ol><li>Throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-durationsign" type="abstract operation" aoid="DurationSign">
      <h1><span class="secnum">13.5.4</span> DurationSign ( <var>duration</var> )</h1>
      <p>The abstract operation DurationSign takes argument <var>duration</var> (a <emu-xref href="#sec-duration-records" id="_ref_680"><a href="#sec-duration-records">Duration Record</a></emu-xref>) and returns -1, 0, or 1. It returns 1 if the most significant non-zero field in the <var>duration</var> argument is positive, and -1 if the most significant non-zero field is negative. If all of <var>duration</var>'s fields are zero, it returns 0. It performs the following steps when called:</p>
      <emu-alg><ol><li>For each value <var>v</var> of « <var>duration</var>.<var class="field">[[Years]]</var>, <var>duration</var>.<var class="field">[[Months]]</var>, <var>duration</var>.<var class="field">[[Weeks]]</var>, <var>duration</var>.<var class="field">[[Days]]</var>, <var>duration</var>.<var class="field">[[Hours]]</var>, <var>duration</var>.<var class="field">[[Minutes]]</var>, <var>duration</var>.<var class="field">[[Seconds]]</var>, <var>duration</var>.<var class="field">[[Milliseconds]]</var>, <var>duration</var>.<var class="field">[[Microseconds]]</var>, <var>duration</var>.<var class="field">[[Nanoseconds]]</var>&nbsp;», do<ol><li>If <var>v</var> &lt; 0, return -1.</li><li>If <var>v</var> &gt; 0, return 1.</li></ol></li><li>Return 0.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-isvalidduration" type="abstract operation" aoid="IsValidDuration">
      <h1><span class="secnum">13.5.5</span> IsValidDuration ( <var>years</var>, <var>months</var>, <var>weeks</var>, <var>days</var>, <var>hours</var>, <var>minutes</var>, <var>seconds</var>, <var>milliseconds</var>, <var>microseconds</var>, <var>nanoseconds</var> )</h1>
      <p>The abstract operation IsValidDuration takes arguments <var>years</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), <var>months</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), <var>weeks</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), <var>days</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), <var>hours</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), <var>minutes</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), <var>seconds</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), <var>milliseconds</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), <var>microseconds</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), and <var>nanoseconds</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>) and returns a Boolean. It returns <emu-val>true</emu-val> if its arguments form valid input from which to construct a <emu-xref href="#sec-duration-records" id="_ref_681"><a href="#sec-duration-records">Duration Record</a></emu-xref>, and <emu-val>false</emu-val> otherwise. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>sign</var> be 0.</li><li>For each value <var>v</var> of « <var>years</var>, <var>months</var>, <var>weeks</var>, <var>days</var>, <var>hours</var>, <var>minutes</var>, <var>seconds</var>, <var>milliseconds</var>, <var>microseconds</var>, <var>nanoseconds</var>&nbsp;», do<ol><li>If <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>v</var>) is not <emu-xref href="#finite"><a href="https://tc39.es/ecma262/#finite">finite</a></emu-xref>, return <emu-val>false</emu-val>.</li><li>If <var>v</var> &lt; 0, then<ol><li>If <var>sign</var> &gt; 0, return <emu-val>false</emu-val>.</li><li>Set <var>sign</var> to -1.</li></ol></li><li>Else if <var>v</var> &gt; 0, then<ol><li>If <var>sign</var> &lt; 0, return <emu-val>false</emu-val>.</li><li>Set <var>sign</var> to 1.</li></ol></li></ol></li><li>If <emu-xref aoid="abs"><a href="https://tc39.es/ecma262/#eqn-abs">abs</a></emu-xref>(<var>years</var>) ≥ 2<sup>32</sup>, return <emu-val>false</emu-val>.</li><li>If <emu-xref aoid="abs"><a href="https://tc39.es/ecma262/#eqn-abs">abs</a></emu-xref>(<var>months</var>) ≥ 2<sup>32</sup>, return <emu-val>false</emu-val>.</li><li>If <emu-xref aoid="abs"><a href="https://tc39.es/ecma262/#eqn-abs">abs</a></emu-xref>(<var>weeks</var>) ≥ 2<sup>32</sup>, return <emu-val>false</emu-val>.</li><li>Let <var>normalizedSeconds</var> be <var>days</var> × 86,400 + <var>hours</var> × 3600 + <var>minutes</var> × 60 + <var>seconds</var> + <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>milliseconds</var>)) × 10<sup>-3</sup> + <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>microseconds</var>)) × 10<sup>-6</sup> + <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>nanoseconds</var>)) × 10<sup>-9</sup>.</li><li>NOTE: The above step cannot be implemented directly using floating-point arithmetic. Multiplying by 10<sup>-3</sup>, 10<sup>-6</sup>, and 10<sup>-9</sup> respectively may be imprecise when <var>milliseconds</var>, <var>microseconds</var>, or <var>nanoseconds</var> is an unsafe <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>. This multiplication can be implemented in C++ with an implementation of <code>std::remquo()</code> with sufficient bits in the quotient. String manipulation will also give an exact result, since the multiplication is by a power of 10.</li><li>If <emu-xref aoid="abs"><a href="https://tc39.es/ecma262/#eqn-abs">abs</a></emu-xref>(<var>normalizedSeconds</var>) ≥ 2<sup>53</sup>, return <emu-val>false</emu-val>.</li><li>Return <emu-val>true</emu-val>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getdurationunitoptions" type="abstract operation" aoid="GetDurationUnitOptions">
      <h1><span class="secnum">13.5.6</span> GetDurationUnitOptions ( <var>unit</var>, <var>options</var>, <var>baseStyle</var>, <var>stylesList</var>, <var>digitalBase</var>, <var>prevStyle</var>, <var>twoDigitHours</var> )</h1>
      <p>The abstract operation GetDurationUnitOptions takes arguments <var>unit</var> (a String), <var>options</var> (an Object), <var>baseStyle</var> (a String), <var>stylesList</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings), <var>digitalBase</var> (a String), <var>prevStyle</var> (a String), and <var>twoDigitHours</var> (a Boolean) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a <emu-xref href="#durationformat-unit-options-record" id="_ref_682"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref>, or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It extracts the relevant options for any given <var>unit</var> from an Object and returns them as a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>. It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>style</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_683"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <var>unit</var>, <emu-const>string</emu-const>, <var>stylesList</var>, <emu-val>undefined</emu-val>).</li><li>Let <var>displayDefault</var> be <emu-val>"always"</emu-val>.</li><li>If <var>style</var> is <emu-val>undefined</emu-val>, then<ol><li>If <var>baseStyle</var> is <emu-val>"digital"</emu-val>, then<ol><li>Set <var>style</var> to <var>digitalBase</var>.</li><li>If <var>unit</var> is not one of <emu-val>"hours"</emu-val>, <emu-val>"minutes"</emu-val>, or <emu-val>"seconds"</emu-val>, set <var>displayDefault</var> to <emu-val>"auto"</emu-val>.</li></ol></li><li>Else if <var>prevStyle</var> is one of <emu-val>"fractional"</emu-val>, <emu-val>"numeric"</emu-val> or <emu-val>"2-digit"</emu-val>, then<ol><li>Set <var>style</var> to <emu-val>"numeric"</emu-val>.</li><li>If <var>unit</var> is not <emu-val>"minutes"</emu-val> or <emu-val>"seconds"</emu-val>, set <var>displayDefault</var> to <emu-val>"auto"</emu-val>.</li></ol></li><li>Else,<ol><li>Set <var>style</var> to <var>baseStyle</var>.</li><li>Set <var>displayDefault</var> to <emu-val>"auto"</emu-val>.</li></ol></li></ol></li><li>If <var>style</var> is <emu-val>"numeric"</emu-val> and <emu-xref aoid="IsFractionalSecondUnitName" id="_ref_684"><a href="#sec-isfractionalsecondunitname">IsFractionalSecondUnitName</a></emu-xref>(<var>unit</var>) is <emu-val>true</emu-val>, then<ol><li>Set <var>style</var> to <emu-val>"fractional"</emu-val>.</li><li>Set <var>displayDefault</var> to <emu-val>"auto"</emu-val>.</li></ol></li><li>Let <var>displayField</var> be the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>unit</var> and <emu-val>"Display"</emu-val>.</li><li>Let <var>display</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_685"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <var>displayField</var>, <emu-const>string</emu-const>, « <emu-val>"auto"</emu-val>, <emu-val>"always"</emu-val>&nbsp;», <var>displayDefault</var>).</li><li>Perform ?&nbsp;<emu-xref aoid="ValidateDurationUnitStyle" id="_ref_686"><a href="#sec-validatedurationunitstyle">ValidateDurationUnitStyle</a></emu-xref>(<var>unit</var>, <var>style</var>, <var>display</var>, <var>prevStyle</var>).</li><li>If <var>unit</var> is <emu-val>"hours"</emu-val> and <var>twoDigitHours</var> is <emu-val>true</emu-val>, set <var>style</var> to <emu-val>"2-digit"</emu-val>.</li><li>If <var>unit</var> is <emu-val>"minutes"</emu-val> or <emu-val>"seconds"</emu-val> and <var>prevStyle</var> is <emu-val>"numeric"</emu-val> or <emu-val>"2-digit"</emu-val>, set <var>style</var> to <emu-val>"2-digit"</emu-val>.</li><li>Return the <emu-xref href="#durationformat-unit-options-record" id="_ref_687"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref> { <var class="field">[[Style]]</var>: <var>style</var>, <var class="field">[[Display]]</var>: <var>display</var>&nbsp;}.</li></ol></emu-alg>

      <emu-clause id="sec-durationformat-unit-options-record">
        <h1><span class="secnum">13.5.6.1</span> Duration Unit Options Records</h1>

        <p>Each <dfn id="durationformat-unit-options-record" tabindex="-1">Duration Unit Options Record</dfn> has the fields defined in <emu-xref href="#table-durationformat-unit-options-record" id="_ref_119"><a href="#table-durationformat-unit-options-record">Table 23</a></emu-xref>.</p>
        <emu-table id="table-durationformat-unit-options-record"><figure><figcaption>Table 23: <emu-xref href="#durationformat-unit-options-record" id="_ref_688"><a href="#durationformat-unit-options-record">Duration Unit Options Record</a></emu-xref></figcaption>
          
          <table class="real-table">
            <thead>
              <tr>
                <th>Field Name</th>
                <th>Value Type</th>
              </tr>
            </thead>
            <tbody><tr>
              <td><var class="field">[[Style]]</var></td>
              <td>a String from the Styles column of <emu-xref href="#table-durationformat" id="_ref_120"><a href="#table-durationformat">Table 20</a></emu-xref></td>
            </tr>
            <tr>
              <td><var class="field">[[Display]]</var></td>
              <td><emu-val>"auto"</emu-val> or <emu-val>"always"</emu-val></td>
            </tr>
          </tbody></table>
        </figure></emu-table>
      </emu-clause>

      <emu-clause id="sec-validatedurationunitstyle" type="abstract operation" aoid="ValidateDurationUnitStyle">
        <h1><span class="secnum">13.5.6.2</span> ValidateDurationUnitStyle ( <var>unit</var>, <var>style</var>, <var>display</var>, <var>prevStyle</var> )</h1>
        <p>The abstract operation ValidateDurationUnitStyle takes arguments <var>unit</var> (a String), <var>style</var> (a String), <var>display</var> (a String), and <var>prevStyle</var> (a String) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> <emu-const>unused</emu-const> or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
        <emu-alg><ol><li>If <var>display</var> is <emu-val>"always"</emu-val> and <var>style</var> is <emu-val>"fractional"</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>If <var>prevStyle</var> is <emu-val>"fractional"</emu-val> and <var>style</var> is not <emu-val>"fractional"</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>If <var>prevStyle</var> is <emu-val>"numeric"</emu-val> or <emu-val>"2-digit"</emu-val> and <var>style</var> is not one of <emu-val>"fractional"</emu-val>, <emu-val>"numeric"</emu-val> or <emu-val>"2-digit"</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return <emu-const>unused</emu-const>.</li></ol></emu-alg>
        <emu-note><span class="note">Note</span><div class="note-contents"><var>unit</var> is not referenced in the preceding algorithm, but it is recommended that implementations use it when constructing the message of a thrown exception.</div></emu-note>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-computefractionaldigits" oldids="sec-addfractionaldigits" type="abstract operation" aoid="ComputeFractionalDigits"><span id="sec-addfractionaldigits"></span>
      <h1><span class="secnum">13.5.7</span> ComputeFractionalDigits ( <var>durationFormat</var>, <var>duration</var> )</h1>
      <p>The abstract operation ComputeFractionalDigits takes arguments <var>durationFormat</var> (a DurationFormat Object) and <var>duration</var> (a <emu-xref href="#sec-duration-records" id="_ref_689"><a href="#sec-duration-records">Duration Record</a></emu-xref>) and returns a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>. It computes the sum of all values in <var>durationFormat</var> units with <emu-val>"fractional"</emu-val> style, expressed as a fraction of the smallest unit of <var>durationFormat</var> that does not use <emu-val>"fractional"</emu-val> style. It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>result</var> be 0.</li><li>Let <var>exponent</var> be 3.</li><li>For each row of <emu-xref href="#table-partition-duration-format-pattern" id="_ref_121"><a href="#table-partition-duration-format-pattern">Table 24</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>unitOptions</var> be the value of <var>durationFormat</var>'s internal slot whose name is the Internal Slot value of the current row.</li><li>If <var>unitOptions</var>.<var class="field">[[Style]]</var> is <emu-val>"fractional"</emu-val>, then<ol><li>Let <var>unit</var> be the Unit value of the current row.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <emu-xref aoid="IsFractionalSecondUnitName" id="_ref_690"><a href="#sec-isfractionalsecondunitname">IsFractionalSecondUnitName</a></emu-xref>(<var>unit</var>) is <emu-val>true</emu-val>.</li><li>Let <var>value</var> be the value of <var>duration</var>'s field whose name is the Value Field value of the current row.</li><li>Set <var>result</var> to <var>result</var> + (<var>value</var> / 10<sup><var>exponent</var></sup>).</li><li>Set <var>exponent</var> to <var>exponent</var> + 3.</li></ol></li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-nextunitfractional" type="abstract operation" aoid="NextUnitFractional">
      <h1><span class="secnum">13.5.8</span> NextUnitFractional ( <var>durationFormat</var>, <var>unit</var> )</h1>
      <p>The abstract operation NextUnitFractional takes arguments <var>durationFormat</var> (a DurationFormat Object) and <var>unit</var> (a String) and returns a Boolean. It returns <emu-val>true</emu-val> if the next smallest unit uses the <emu-val>"fractional"</emu-val> style. It performs the following steps when called:</p>

      <emu-alg><ol><li>If <var>unit</var> is <emu-val>"seconds"</emu-val> and <var>durationFormat</var>.<var class="field">[[MillisecondsOptions]]</var>.<var class="field">[[Style]]</var> is <emu-val>"fractional"</emu-val>, return <emu-val>true</emu-val>.</li><li>If <var>unit</var> is <emu-val>"milliseconds"</emu-val> and <var>durationFormat</var>.<var class="field">[[MicrosecondsOptions]]</var>.<var class="field">[[Style]]</var> is <emu-val>"fractional"</emu-val>, return <emu-val>true</emu-val>.</li><li>If <var>unit</var> is <emu-val>"microseconds"</emu-val> and <var>durationFormat</var>.<var class="field">[[NanosecondsOptions]]</var>.<var class="field">[[Style]]</var> is <emu-val>"fractional"</emu-val>, return <emu-val>true</emu-val>.</li><li>Return <emu-val>false</emu-val>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatnumerichours" type="abstract operation" aoid="FormatNumericHours">
      <h1><span class="secnum">13.5.9</span> FormatNumericHours ( <var>durationFormat</var>, <var>hoursValue</var>, <var>signDisplayed</var> )</h1>
      <p>The abstract operation FormatNumericHours takes arguments <var>durationFormat</var> (a DurationFormat object), <var>hoursValue</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), and <var>signDisplayed</var> (a Boolean) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref>. <var>hoursValue</var> is an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> indicating a number of hours. It creates the parts for <var>hoursValue</var> according to the effective locale and the formatting options of <var>durationFormat</var>. It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>hoursStyle</var> be <var>durationFormat</var>.<var class="field">[[HoursOptions]]</var>.<var class="field">[[Style]]</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>hoursStyle</var> is <emu-val>"numeric"</emu-val> or <var>hoursStyle</var> is <emu-val>"2-digit"</emu-val>.</li><li>Let <var>nfOpts</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</li><li>Let <var>numberingSystem</var> be <var>durationFormat</var>.<var class="field">[[NumberingSystem]]</var>.</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"numberingSystem"</emu-val>, <var>numberingSystem</var>).</li><li>If <var>hoursStyle</var> is <emu-val>"2-digit"</emu-val>, then<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumIntegerDigits"</emu-val>, <emu-val>2</emu-val><sub>𝔽</sub>).</li></ol></li><li>If <var>signDisplayed</var> is <emu-val>false</emu-val>, then<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"signDisplay"</emu-val>, <emu-val>"never"</emu-val>).</li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"useGrouping"</emu-val>, <emu-val>false</emu-val>).</li><li>Let <var>nf</var> be !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_691"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>durationFormat</var>.<var class="field">[[Locale]]</var>, <var>nfOpts</var>&nbsp;»).</li><li>Let <var>hoursParts</var> be <emu-xref aoid="PartitionNumberPattern" id="_ref_692"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>nf</var>, <var>hoursValue</var>).</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> of <var>hoursParts</var>, do<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>part</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>part</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <emu-val>"hour"</emu-val>&nbsp;} to <var>result</var>.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatnumericminutes" type="abstract operation" aoid="FormatNumericMinutes">
      <h1><span class="secnum">13.5.10</span> FormatNumericMinutes ( <var>durationFormat</var>, <var>minutesValue</var>, <var>hoursDisplayed</var>, <var>signDisplayed</var> )</h1>
      <p>The abstract operation FormatNumericMinutes takes arguments <var>durationFormat</var> (a DurationFormat Object), <var>minutesValue</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), <var>hoursDisplayed</var> (a Boolean), and <var>signDisplayed</var> (a Boolean) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref>. <var>minutesValue</var> is an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> indicating a number of minutes. It creates the parts for <var>minutesValue</var> according to the effective locale and the formatting options of <var>durationFormat</var>. It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>If <var>hoursDisplayed</var> is <emu-val>true</emu-val>, then<ol><li>Let <var>separator</var> be <var>durationFormat</var>.<var class="field">[[HourMinuteSeparator]]</var>.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>separator</var>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>&nbsp;} to <var>result</var>.</li></ol></li><li>Let <var>minutesStyle</var> be <var>durationFormat</var>.<var class="field">[[MinutesOptions]]</var>.<var class="field">[[Style]]</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>minutesStyle</var> is <emu-val>"numeric"</emu-val> or <var>minutesStyle</var> is <emu-val>"2-digit"</emu-val>.</li><li>Let <var>nfOpts</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</li><li>Let <var>numberingSystem</var> be <var>durationFormat</var>.<var class="field">[[NumberingSystem]]</var>.</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"numberingSystem"</emu-val>, <var>numberingSystem</var>).</li><li>If <var>minutesStyle</var> is <emu-val>"2-digit"</emu-val>, then<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumIntegerDigits"</emu-val>, <emu-val>2</emu-val><sub>𝔽</sub>).</li></ol></li><li>If <var>signDisplayed</var> is <emu-val>false</emu-val>, then<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"signDisplay"</emu-val>, <emu-val>"never"</emu-val>).</li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"useGrouping"</emu-val>, <emu-val>false</emu-val>).</li><li>Let <var>nf</var> be !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_693"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>durationFormat</var>.<var class="field">[[Locale]]</var>, <var>nfOpts</var>&nbsp;»).</li><li>Let <var>minutesParts</var> be <emu-xref aoid="PartitionNumberPattern" id="_ref_694"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>nf</var>, <var>minutesValue</var>).</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> of <var>minutesParts</var>, do<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>part</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>part</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <emu-val>"minute"</emu-val>&nbsp;} to <var>result</var>.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatnumericseconds" type="abstract operation" aoid="FormatNumericSeconds">
      <h1><span class="secnum">13.5.11</span> FormatNumericSeconds ( <var>durationFormat</var>, <var>secondsValue</var>, <var>minutesDisplayed</var>, <var>signDisplayed</var> )</h1>
      <p>The abstract operation FormatNumericSeconds takes arguments <var>durationFormat</var> (a DurationFormat Object), <var>secondsValue</var> (a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>), <var>minutesDisplayed</var> (a Boolean), and <var>signDisplayed</var> (a Boolean) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref>. <var>secondsValue</var> is a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref> indicating a number of seconds. It creates the parts for <var>secondsValue</var> according to the effective locale and the formatting options of <var>durationFormat</var>. It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>If <var>minutesDisplayed</var> is <emu-val>true</emu-val>, then<ol><li>Let <var>separator</var> be <var>durationFormat</var>.<var class="field">[[MinuteSecondSeparator]]</var>.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>separator</var>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>&nbsp;} to <var>result</var>.</li></ol></li><li>Let <var>secondsStyle</var> be <var>durationFormat</var>.<var class="field">[[SecondsOptions]]</var>.<var class="field">[[Style]]</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>secondsStyle</var> is <emu-val>"numeric"</emu-val> or <var>secondsStyle</var> is <emu-val>"2-digit"</emu-val>.</li><li>Let <var>nfOpts</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</li><li>Let <var>numberingSystem</var> be <var>durationFormat</var>.<var class="field">[[NumberingSystem]]</var>.</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"numberingSystem"</emu-val>, <var>numberingSystem</var>).</li><li>If <var>secondsStyle</var> is <emu-val>"2-digit"</emu-val>, then<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumIntegerDigits"</emu-val>, <emu-val>2</emu-val><sub>𝔽</sub>).</li></ol></li><li>If <var>signDisplayed</var> is <emu-val>false</emu-val>, then<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"signDisplay"</emu-val>, <emu-val>"never"</emu-val>).</li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"useGrouping"</emu-val>, <emu-val>false</emu-val>).</li><li>Let <var>fractionDigits</var> be <var>durationFormat</var>.<var class="field">[[FractionalDigits]]</var>.</li><li>If <var>fractionDigits</var> is <emu-val>undefined</emu-val>, then<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"maximumFractionDigits"</emu-val>, <emu-val>9</emu-val><sub>𝔽</sub>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumFractionDigits"</emu-val>, <emu-val>+0</emu-val><sub>𝔽</sub>).</li></ol></li><li>Else,<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"maximumFractionDigits"</emu-val>, <var>fractionDigits</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumFractionDigits"</emu-val>, <var>fractionDigits</var>).</li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"roundingMode"</emu-val>, <emu-val>"trunc"</emu-val>).</li><li>Let <var>nf</var> be !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_695"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>durationFormat</var>.<var class="field">[[Locale]]</var>, <var>nfOpts</var>&nbsp;»).</li><li>Let <var>secondsParts</var> be <emu-xref aoid="PartitionNumberPattern" id="_ref_696"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>nf</var>, <var>secondsValue</var>).</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> of <var>secondsParts</var>, do<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>part</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>part</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <emu-val>"second"</emu-val>&nbsp;} to <var>result</var>.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatnumericunits" type="abstract operation" aoid="FormatNumericUnits">
      <h1><span class="secnum">13.5.12</span> FormatNumericUnits ( <var>durationFormat</var>, <var>duration</var>, <var>firstNumericUnit</var>, <var>signDisplayed</var> )</h1>
      <p>The abstract operation FormatNumericUnits takes arguments <var>durationFormat</var> (a DurationFormat Object), <var>duration</var> (a <emu-xref href="#sec-duration-records" id="_ref_697"><a href="#sec-duration-records">Duration Record</a></emu-xref>), <var>firstNumericUnit</var> (a String), and <var>signDisplayed</var> (a Boolean) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref>. It creates the parts representing the elements of <var>duration</var> that use <emu-val>"numeric"</emu-val> or <emu-val>"2-digit"</emu-val> style according to the effective locale and the formatting options of <var>durationFormat</var>. It performs the following steps when called:</p>

      <emu-alg><ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>firstNumericUnit</var> is <emu-val>"hours"</emu-val>, <emu-val>"minutes"</emu-val>, or <emu-val>"seconds"</emu-val>.</li><li>Let <var>numericPartsList</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>hoursValue</var> be <var>duration</var>.<var class="field">[[Hours]]</var>.</li><li>Let <var>hoursDisplay</var> be <var>durationFormat</var>.<var class="field">[[HoursOptions]]</var>.<var class="field">[[Display]]</var>.</li><li>Let <var>minutesValue</var> be <var>duration</var>.<var class="field">[[Minutes]]</var>.</li><li>Let <var>minutesDisplay</var> be <var>durationFormat</var>.<var class="field">[[MinutesOptions]]</var>.<var class="field">[[Display]]</var>.</li><li>Let <var>secondsValue</var> be <var>duration</var>.<var class="field">[[Seconds]]</var>.</li><li>If <var>duration</var>.<var class="field">[[Milliseconds]]</var> is not 0 or <var>duration</var>.<var class="field">[[Microseconds]]</var> is not 0 or <var>duration</var>.<var class="field">[[Nanoseconds]]</var> is not 0, then<ol><li>Set <var>secondsValue</var> to <var>secondsValue</var> + <emu-xref aoid="ComputeFractionalDigits" id="_ref_698"><a href="#sec-computefractionaldigits">ComputeFractionalDigits</a></emu-xref>(<var>durationFormat</var>, <var>duration</var>).</li></ol></li><li>Let <var>secondsDisplay</var> be <var>durationFormat</var>.<var class="field">[[SecondsOptions]]</var>.<var class="field">[[Display]]</var>.</li><li>Let <var>hoursFormatted</var> be <emu-val>false</emu-val>.</li><li>If <var>firstNumericUnit</var> is <emu-val>"hours"</emu-val>, then<ol><li>If <var>hoursValue</var> is not 0 or <var>hoursDisplay</var> is <emu-val>"always"</emu-val>, then<ol><li>Set <var>hoursFormatted</var> to <emu-val>true</emu-val>.</li></ol></li></ol></li><li>If <var>secondsValue</var> is not 0 or <var>secondsDisplay</var> is <emu-val>"always"</emu-val>, then<ol><li>Let <var>secondsFormatted</var> be <emu-val>true</emu-val>.</li></ol></li><li>Else,<ol><li>Let <var>secondsFormatted</var> be <emu-val>false</emu-val>.</li></ol></li><li>Let <var>minutesFormatted</var> be <emu-val>false</emu-val>.</li><li>If <var>firstNumericUnit</var> is <emu-val>"hours"</emu-val> or <var>firstNumericUnit</var> is <emu-val>"minutes"</emu-val>, then<ol><li>If <var>hoursFormatted</var> is <emu-val>true</emu-val> and <var>secondsFormatted</var> is <emu-val>true</emu-val>, then<ol><li>Set <var>minutesFormatted</var> to <emu-val>true</emu-val>.</li></ol></li><li>Else if <var>minutesValue</var> is not 0 or <var>minutesDisplay</var> is <emu-val>"always"</emu-val>, then<ol><li>Set <var>minutesFormatted</var> to <emu-val>true</emu-val>.</li></ol></li></ol></li><li>If <var>hoursFormatted</var> is <emu-val>true</emu-val>, then<ol><li>If <var>signDisplayed</var> is <emu-val>true</emu-val>, then<ol><li>If <var>hoursValue</var> is 0 and <emu-xref aoid="DurationSign" id="_ref_699"><a href="#sec-durationsign">DurationSign</a></emu-xref>(<var>duration</var>) is -1, then<ol><li>Set <var>hoursValue</var> to <emu-const>negative-zero</emu-const>.</li></ol></li></ol></li><li>Let <var>hoursParts</var> be <emu-xref aoid="FormatNumericHours" id="_ref_700"><a href="#sec-formatnumerichours">FormatNumericHours</a></emu-xref>(<var>durationFormat</var>, <var>hoursValue</var>, <var>signDisplayed</var>).</li><li>Set <var>numericPartsList</var> to the <emu-xref href="#list-concatenation"><a href="https://tc39.es/ecma262/#list-concatenation">list-concatenation</a></emu-xref> of <var>numericPartsList</var> and <var>hoursParts</var>.</li><li>Set <var>signDisplayed</var> to <emu-val>false</emu-val>.</li></ol></li><li>If <var>minutesFormatted</var> is <emu-val>true</emu-val>, then<ol><li>If <var>signDisplayed</var> is <emu-val>true</emu-val>, then<ol><li>If <var>minutesValue</var> is 0 and <emu-xref aoid="DurationSign" id="_ref_701"><a href="#sec-durationsign">DurationSign</a></emu-xref>(<var>duration</var>) is -1, then<ol><li>Set <var>minutesValue</var> to <emu-const>negative-zero</emu-const>.</li></ol></li></ol></li><li>Let <var>minutesParts</var> be <emu-xref aoid="FormatNumericMinutes" id="_ref_702"><a href="#sec-formatnumericminutes">FormatNumericMinutes</a></emu-xref>(<var>durationFormat</var>, <var>minutesValue</var>, <var>hoursFormatted</var>, <var>signDisplayed</var>).</li><li>Set <var>numericPartsList</var> to the <emu-xref href="#list-concatenation"><a href="https://tc39.es/ecma262/#list-concatenation">list-concatenation</a></emu-xref> of <var>numericPartsList</var> and <var>minutesParts</var>.</li><li>Set <var>signDisplayed</var> to <emu-val>false</emu-val>.</li></ol></li><li>If <var>secondsFormatted</var> is <emu-val>true</emu-val>, then<ol><li>Let <var>secondsParts</var> be <emu-xref aoid="FormatNumericSeconds" id="_ref_703"><a href="#sec-formatnumericseconds">FormatNumericSeconds</a></emu-xref>(<var>durationFormat</var>, <var>secondsValue</var>, <var>minutesFormatted</var>, <var>signDisplayed</var>).</li><li>Set <var>numericPartsList</var> to the <emu-xref href="#list-concatenation"><a href="https://tc39.es/ecma262/#list-concatenation">list-concatenation</a></emu-xref> of <var>numericPartsList</var> and <var>secondsParts</var>.</li></ol></li><li>Return <var>numericPartsList</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-isfractionalsecondunitname" type="abstract operation" aoid="IsFractionalSecondUnitName">
      <h1><span class="secnum">13.5.13</span> IsFractionalSecondUnitName ( <var>unit</var> )</h1>
      <p>The abstract operation IsFractionalSecondUnitName takes argument <var>unit</var> (a String) and returns a Boolean. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>unit</var> is one of <emu-val>"milliseconds"</emu-val>, <emu-val>"microseconds"</emu-val>, or <emu-val>"nanoseconds"</emu-val>, return <emu-val>true</emu-val>.</li><li>Return <emu-val>false</emu-val>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-listformatparts" type="abstract operation" aoid="ListFormatParts">
      <h1><span class="secnum">13.5.14</span> ListFormatParts ( <var>durationFormat</var>, <var>partitionedPartsList</var> )</h1>
      <p>The abstract operation ListFormatParts takes arguments <var>durationFormat</var> (a DurationFormat Object) and <var>partitionedPartsList</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Lists</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>. It creates a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> corresponding to the parts within the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Lists</a></emu-xref> in <var>partitionedPartsList</var> according to the effective locale and the formatting options of <var>durationFormat</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>lfOpts</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>lfOpts</var>, <emu-val>"type"</emu-val>, <emu-val>"unit"</emu-val>).</li><li>Let <var>listStyle</var> be <var>durationFormat</var>.<var class="field">[[Style]]</var>.</li><li>If <var>listStyle</var> is <emu-val>"digital"</emu-val>, then<ol><li>Set <var>listStyle</var> to <emu-val>"short"</emu-val>.</li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>lfOpts</var>, <emu-val>"style"</emu-val>, <var>listStyle</var>).</li><li>Let <var>lf</var> be !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-listformat-constructor" id="_ref_704"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref>, « <var>durationFormat</var>.<var class="field">[[Locale]]</var>, <var>lfOpts</var>&nbsp;»).</li><li>Let <var>strings</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each element <var>parts</var> of <var>partitionedPartsList</var>, do<ol><li>Let <var>string</var> be the empty String.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>&nbsp;} <var>part</var> in <var>parts</var>, do<ol><li>Set <var>string</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>string</var> and <var>part</var>.<var class="field">[[Value]]</var>.</li></ol></li><li>Append <var>string</var> to <var>strings</var>.</li></ol></li><li>Let <var>formattedPartsList</var> be <emu-xref aoid="CreatePartsFromList" id="_ref_705"><a href="#sec-createpartsfromlist">CreatePartsFromList</a></emu-xref>(<var>lf</var>, <var>strings</var>).</li><li>Let <var>partitionedPartsIndex</var> be 0.</li><li>Let <var>partitionedLength</var> be the number of elements in <var>partitionedPartsList</var>.</li><li>Let <var>flattenedPartsList</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>listPart</var> in <var>formattedPartsList</var>, do<ol><li>If <var>listPart</var>.<var class="field">[[Type]]</var> is <emu-val>"element"</emu-val>, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>partitionedPartsIndex</var> &lt; <var>partitionedLength</var>.</li><li>Let <var>parts</var> be <var>partitionedPartsList</var>[<var>partitionedPartsIndex</var>].</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>&nbsp;} <var>part</var> in <var>parts</var>, do<ol><li>Append <var>part</var> to <var>flattenedPartsList</var>.</li></ol></li><li>Set <var>partitionedPartsIndex</var> to <var>partitionedPartsIndex</var> + 1.</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>listPart</var>.<var class="field">[[Type]]</var> is <emu-val>"literal"</emu-val>.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>listPart</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>&nbsp;} to <var>flattenedPartsList</var>.</li></ol></li></ol></li><li>Return <var>flattenedPartsList</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-partitiondurationformatpattern" type="abstract operation" aoid="PartitionDurationFormatPattern">
      <h1><span class="secnum">13.5.15</span> PartitionDurationFormatPattern ( <var>durationFormat</var>, <var>duration</var> )</h1>
      <p>The abstract operation PartitionDurationFormatPattern takes arguments <var>durationFormat</var> (a DurationFormat) and <var>duration</var> (a <emu-xref href="#sec-duration-records" id="_ref_706"><a href="#sec-duration-records">Duration Record</a></emu-xref>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>. It creates the corresponding parts for <var>duration</var> according to the effective locale and the formatting options of <var>durationFormat</var>. It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>signDisplayed</var> be <emu-val>true</emu-val>.</li><li>Let <var>numericUnitFound</var> be <emu-val>false</emu-val>.</li><li>While <var>numericUnitFound</var> is <emu-val>false</emu-val>, repeat for each row in <emu-xref href="#table-partition-duration-format-pattern" id="_ref_122"><a href="#table-partition-duration-format-pattern">Table 24</a></emu-xref> in table order, except the header row:<ol><li>Let <var>value</var> be the value of <var>duration</var>'s field whose name is the Value Field value of the current row.</li><li>Let <var>unitOptions</var> be the value of <var>durationFormat</var>'s internal slot whose name is the Internal Slot value of the current row.</li><li>Let <var>style</var> be <var>unitOptions</var>.<var class="field">[[Style]]</var>.</li><li>Let <var>display</var> be <var>unitOptions</var>.<var class="field">[[Display]]</var>.</li><li>Let <var>unit</var> be the Unit value of the current row.</li><li>Let <var>numberFormatUnit</var> be the NumberFormat Unit value of the current row.</li><li>If <var>style</var> is <emu-val>"numeric"</emu-val> or <emu-val>"2-digit"</emu-val>, then<ol><li>Let <var>numericPartsList</var> be <emu-xref aoid="FormatNumericUnits" id="_ref_707"><a href="#sec-formatnumericunits">FormatNumericUnits</a></emu-xref>(<var>durationFormat</var>, <var>duration</var>, <var>unit</var>, <var>signDisplayed</var>).</li><li>If <var>numericPartsList</var> is not empty, append <var>numericPartsList</var> to <var>result</var>.</li><li>Set <var>numericUnitFound</var> to <emu-val>true</emu-val>.</li></ol></li><li>Else,<ol><li>Let <var>nfOpts</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</li><li>If <emu-xref aoid="NextUnitFractional" id="_ref_708"><a href="#sec-nextunitfractional">NextUnitFractional</a></emu-xref>(<var>durationFormat</var>, <var>unit</var>) is <emu-val>true</emu-val>, then<ol><li>Set <var>value</var> to <var>value</var> + <emu-xref aoid="ComputeFractionalDigits" id="_ref_709"><a href="#sec-computefractionaldigits">ComputeFractionalDigits</a></emu-xref>(<var>durationFormat</var>, <var>duration</var>).</li><li>Let <var>fractionDigits</var> be <var>durationFormat</var>.<var class="field">[[FractionalDigits]]</var>.</li><li>If <var>fractionDigits</var> is <emu-val>undefined</emu-val>, then<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"maximumFractionDigits"</emu-val>, <emu-val>9</emu-val><sub>𝔽</sub>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumFractionDigits"</emu-val>, <emu-val>+0</emu-val><sub>𝔽</sub>).</li></ol></li><li>Else,<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"maximumFractionDigits"</emu-val>, <var>fractionDigits</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"minimumFractionDigits"</emu-val>, <var>fractionDigits</var>).</li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"roundingMode"</emu-val>, <emu-val>"trunc"</emu-val>).</li><li>Set <var>numericUnitFound</var> to <emu-val>true</emu-val>.</li></ol></li><li>If <var>display</var> is <emu-val>"always"</emu-val> or <var>value</var> is not 0, then<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"numberingSystem"</emu-val>, <var>durationFormat</var>.<var class="field">[[NumberingSystem]]</var>).</li><li>If <var>signDisplayed</var> is <emu-val>true</emu-val>, then<ol><li>Set <var>signDisplayed</var> to <emu-val>false</emu-val>.</li><li>If <var>value</var> is 0 and <emu-xref aoid="DurationSign" id="_ref_710"><a href="#sec-durationsign">DurationSign</a></emu-xref>(<var>duration</var>) is -1, set <var>value</var> to <emu-const>negative-zero</emu-const>.</li></ol></li><li>Else,<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"signDisplay"</emu-val>, <emu-val>"never"</emu-val>).</li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"style"</emu-val>, <emu-val>"unit"</emu-val>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"unit"</emu-val>, <var>numberFormatUnit</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOpts</var>, <emu-val>"unitDisplay"</emu-val>, <var>style</var>).</li><li>Let <var>nf</var> be !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_711"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>durationFormat</var>.<var class="field">[[Locale]]</var>, <var>nfOpts</var>&nbsp;»).</li><li>Let <var>parts</var> be <emu-xref aoid="PartitionNumberPattern" id="_ref_712"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>nf</var>, <var>value</var>).</li><li>Let <var>list</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>part</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>part</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <var>numberFormatUnit</var>&nbsp;} to <var>list</var>.</li></ol></li><li>Append <var>list</var> to <var>result</var>.</li></ol></li></ol></li></ol></li><li>Return <emu-xref aoid="ListFormatParts" id="_ref_713"><a href="#sec-listformatparts">ListFormatParts</a></emu-xref>(<var>durationFormat</var>, <var>result</var>).</li></ol></emu-alg>

      <emu-table id="table-partition-duration-format-pattern"><figure><figcaption>Table 24: DurationFormat instance internal slots and properties relevant to <emu-xref aoid="PartitionDurationFormatPattern" id="_ref_714"><a href="#sec-partitiondurationformatpattern">PartitionDurationFormatPattern</a></emu-xref></figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Value Field</th>
              <th>Internal Slot</th>
              <th>Unit</th>
              <th>NumberFormat Unit</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Years]]</var></td>
            <td><var class="field">[[YearsOptions]]</var></td>
            <td><emu-val>"years"</emu-val></td>
            <td><emu-val>"year"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Months]]</var></td>
            <td><var class="field">[[MonthsOptions]]</var></td>
            <td><emu-val>"months"</emu-val></td>
            <td><emu-val>"month"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Weeks]]</var></td>
            <td><var class="field">[[WeeksOptions]]</var></td>
            <td><emu-val>"weeks"</emu-val></td>
            <td><emu-val>"week"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Days]]</var></td>
            <td><var class="field">[[DaysOptions]]</var></td>
            <td><emu-val>"days"</emu-val></td>
            <td><emu-val>"day"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Hours]]</var></td>
            <td><var class="field">[[HoursOptions]]</var></td>
            <td><emu-val>"hours"</emu-val></td>
            <td><emu-val>"hour"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Minutes]]</var></td>
            <td><var class="field">[[MinutesOptions]]</var></td>
            <td><emu-val>"minutes"</emu-val></td>
            <td><emu-val>"minute"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Seconds]]</var></td>
            <td><var class="field">[[SecondsOptions]]</var></td>
            <td><emu-val>"seconds"</emu-val></td>
            <td><emu-val>"second"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Milliseconds]]</var></td>
            <td><var class="field">[[MillisecondsOptions]]</var></td>
            <td><emu-val>"milliseconds"</emu-val></td>
            <td><emu-val>"millisecond"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Microseconds]]</var></td>
            <td><var class="field">[[MicrosecondsOptions]]</var></td>
            <td><emu-val>"microseconds"</emu-val></td>
            <td><emu-val>"microsecond"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Nanoseconds]]</var></td>
            <td><var class="field">[[NanosecondsOptions]]</var></td>
            <td><emu-val>"nanoseconds"</emu-val></td>
            <td><emu-val>"nanosecond"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="listformat-objects">
  <h1><span class="secnum">14</span> ListFormat Objects</h1>

  <emu-clause id="sec-intl-listformat-constructor">
    <h1><span class="secnum">14.1</span> The Intl.ListFormat Constructor</h1>

    <p>The Intl.ListFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.ListFormat%</dfn>.</li>
      <li>is the initial value of the <emu-val>"ListFormat"</emu-val> property of the <emu-xref href="#intl-object" id="_ref_715"><a href="#intl-object">Intl object</a></emu-xref>.</li>
    </ul>

    <p>Behaviour common to all <emu-xref href="#service-constructor" id="_ref_716"><a href="#service-constructor">service constructor</a></emu-xref> properties of the <emu-xref href="#intl-object" id="_ref_717"><a href="#intl-object">Intl object</a></emu-xref> is specified in <emu-xref href="#sec-internal-slots" id="_ref_123"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

    <emu-clause id="sec-Intl.ListFormat">
      <h1><span class="secnum">14.1.1</span> Intl.ListFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>When the <code>Intl.ListFormat</code> function is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>If NewTarget is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>listFormat</var> be ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.ListFormat.prototype%"</emu-val>, « <var class="field">[[InitializedListFormat]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[Type]]</var>, <var class="field">[[Style]]</var>, <var class="field">[[Templates]]</var>&nbsp;»).</li><li>Let <var>optionsResolution</var> be ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_718"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-listformat-constructor" id="_ref_719"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref>, <emu-xref href="#sec-intl-listformat-constructor" id="_ref_720"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>, <var>options</var>).</li><li>Set <var>options</var> to <var>optionsResolution</var>.<var class="field">[[Options]]</var>.</li><li>Let <var>r</var> be <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var>.</li><li>Set <var>listFormat</var>.<var class="field">[[Locale]]</var> to <var>r</var>.<var class="field">[[Locale]]</var>.</li><li>Let <var>type</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_721"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"type"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"conjunction"</emu-val>, <emu-val>"disjunction"</emu-val>, <emu-val>"unit"</emu-val>&nbsp;», <emu-val>"conjunction"</emu-val>).</li><li>Set <var>listFormat</var>.<var class="field">[[Type]]</var> to <var>type</var>.</li><li>Let <var>style</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_722"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"style"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>&nbsp;», <emu-val>"long"</emu-val>).</li><li>Set <var>listFormat</var>.<var class="field">[[Style]]</var> to <var>style</var>.</li><li>Let <var>resolvedLocaleData</var> be <var>r</var>.<var class="field">[[LocaleData]]</var>.</li><li>Let <var>dataLocaleTypes</var> be <var>resolvedLocaleData</var>.[[&lt;<var>type</var>&gt;]].</li><li>Set <var>listFormat</var>.<var class="field">[[Templates]]</var> to <var>dataLocaleTypes</var>.[[&lt;<var>style</var>&gt;]].</li><li>Return <var>listFormat</var>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-listformat-constructor">
    <h1><span class="secnum">14.2</span> Properties of the Intl.ListFormat Constructor</h1>

    <p>The Intl.ListFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref>.</li>
      <li>has the following properties:</li>
    </ul>

    <emu-clause id="sec-Intl.ListFormat.prototype">
      <h1><span class="secnum">14.2.1</span> Intl.ListFormat.prototype</h1>

      <p>The value of <code>Intl.ListFormat.prototype</code> is <emu-xref href="#sec-properties-of-intl-listformat-prototype-object" id="_ref_723"><a href="#sec-properties-of-intl-listformat-prototype-object">%Intl.ListFormat.prototype%</a></emu-xref>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> }.</p>
    </emu-clause>

    <emu-clause id="sec-Intl.ListFormat.supportedLocalesOf">
      <h1><span class="secnum">14.2.2</span> Intl.ListFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p>When the <code>supportedLocalesOf</code> method is called with arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>availableLocales</var> be <emu-xref href="#sec-intl-listformat-constructor" id="_ref_724"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var>.</li><li>Let <var>requestedLocales</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_725"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_726"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.ListFormat-internal-slots">
      <h1><span class="secnum">14.2.3</span> Internal slots</h1>

      <p>The value of the <var class="field">[[AvailableLocales]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_124"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

      <p>The value of the <var class="field">[[RelevantExtensionKeys]]</var> internal slot is « ».</p>

      <p>The value of the <var class="field">[[ResolutionOptionDescriptors]]</var> internal slot is « ».</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        Intl.ListFormat does not have any relevant extension keys.
      </div></emu-note>

      <p>The value of the <var class="field">[[LocaleData]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_125"><a href="#sec-internal-slots">9.1</a></emu-xref> and the following additional constraints, for each locale value <var>locale</var> in <emu-xref href="#sec-intl-listformat-constructor" id="_ref_727"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var>:</p>

      <ul>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> which has three fields <var class="field">[[conjunction]]</var>, <var class="field">[[disjunction]]</var>, and <var class="field">[[unit]]</var>. Each of these is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> which must have fields with the names of three formatting styles: <var class="field">[[long]]</var>, <var class="field">[[short]]</var>, and <var class="field">[[narrow]]</var>.</li>
        <li>Each of those fields is considered a <dfn tabindex="-1">ListFormat template set</dfn>, which must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields named: <var class="field">[[Pair]]</var>, <var class="field">[[Start]]</var>, <var class="field">[[Middle]]</var>, and <var class="field">[[End]]</var>. Each of those fields must be a template string as specified in LDML <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> Format Rules. Each template string must contain the substrings <emu-val>"{0}"</emu-val> and <emu-val>"{1}"</emu-val> exactly once. The <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{0}"</emu-val> should occur before the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{1}"</emu-val>.</li>
      </ul>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        It is recommended that implementations use the locale data provided by the Common Locale Data Repository (available at <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>). In <a href="https://unicode.org/reports/tr35/tr35-general.html#ListPatterns">LDML's listPattern</a>, <code>conjunction</code> corresponds to "standard", <code>disjunction</code> corresponds to "or", and <code>unit</code> corresponds to "unit".
      </div></emu-note>

      <emu-note><span class="note">Note 3</span><div class="note-contents">
        Among the list types, <code>conjunction</code> stands for "and"-based lists (e.g., "A, B, and C"), <code>disjunction</code> stands for "or"-based lists (e.g., "A, B, or C"), and <code>unit</code> stands for lists of values with units (e.g., "5 pounds, 12 ounces").
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-listformat-prototype-object">
    <h1><span class="secnum">14.3</span> Properties of the Intl.ListFormat Prototype Object</h1>

    <p>The <dfn tabindex="-1">Intl.ListFormat prototype object</dfn>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.ListFormat.prototype%</dfn>.</li>
      <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
      <li>is not an Intl.ListFormat instance and does not have an <var class="field">[[InitializedListFormat]]</var> internal slot or any of the other internal slots of Intl.ListFormat instance objects.</li>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>.</li>
    </ul>

    <emu-clause id="sec-Intl.ListFormat.prototype.constructor">
      <h1><span class="secnum">14.3.1</span> Intl.ListFormat.prototype.constructor</h1>

      <p>The initial value of <code>Intl.ListFormat.prototype.constructor</code> is <emu-xref href="#sec-intl-listformat-constructor" id="_ref_728"><a href="#sec-intl-listformat-constructor">%Intl.ListFormat%</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-Intl.ListFormat.prototype.resolvedoptions">
      <h1><span class="secnum">14.3.2</span> Intl.ListFormat.prototype.resolvedOptions ( )</h1>

      <p>This function provides access to the locale and options computed during initialization of the object.</p>

      <emu-alg><ol><li>Let <var>lf</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>lf</var>, <var class="field">[[InitializedListFormat]]</var>).</li><li>Let <var>options</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>For each row of <emu-xref href="#table-listformat-resolvedoptions-properties" id="_ref_126"><a href="#table-listformat-resolvedoptions-properties">Table 25</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>p</var> be the Property value of the current row.</li><li>Let <var>v</var> be the value of <var>lf</var>'s internal slot whose name is the Internal Slot value of the current row.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>v</var> is not <emu-val>undefined</emu-val>.</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>).</li></ol></li><li>Return <var>options</var>.</li></ol></emu-alg>

      <emu-table id="table-listformat-resolvedoptions-properties"><figure><figcaption>Table 25: Resolved Options of ListFormat Instances</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Property</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Type]]</var></td>
            <td><emu-val>"type"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Style]]</var></td>
            <td><emu-val>"style"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-Intl.ListFormat.prototype.format">
      <h1><span class="secnum">14.3.3</span> Intl.ListFormat.prototype.format ( <var>list</var> )</h1>

      <p>When the <code>format</code> method is called with an argument <var>list</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>lf</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>lf</var>, <var class="field">[[InitializedListFormat]]</var>).</li><li>Let <var>stringList</var> be ?&nbsp;<emu-xref aoid="StringListFromIterable" id="_ref_729"><a href="#sec-createstringlistfromiterable">StringListFromIterable</a></emu-xref>(<var>list</var>).</li><li>Return <emu-xref aoid="FormatList" id="_ref_730"><a href="#sec-formatlist">FormatList</a></emu-xref>(<var>lf</var>, <var>stringList</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.ListFormat.prototype.formatToParts">
      <h1><span class="secnum">14.3.4</span> Intl.ListFormat.prototype.formatToParts ( <var>list</var> )</h1>

      <p>When the <code>formatToParts</code> method is called with an argument <var>list</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>lf</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>lf</var>, <var class="field">[[InitializedListFormat]]</var>).</li><li>Let <var>stringList</var> be ?&nbsp;<emu-xref aoid="StringListFromIterable" id="_ref_731"><a href="#sec-createstringlistfromiterable">StringListFromIterable</a></emu-xref>(<var>list</var>).</li><li>Return <emu-xref aoid="FormatListToParts" id="_ref_732"><a href="#sec-formatlisttoparts">FormatListToParts</a></emu-xref>(<var>lf</var>, <var>stringList</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.ListFormat.prototype-toStringTag">
      <h1><span class="secnum">14.3.5</span> Intl.ListFormat.prototype [ %Symbol.toStringTag% ]</h1>

      <p>The initial value of the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property is the String value <emu-val>"Intl.ListFormat"</emu-val>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> }.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-listformat-instances">
    <h1><span class="secnum">14.4</span> Properties of Intl.ListFormat Instances</h1>

    <p>Intl.ListFormat instances inherit properties from <emu-xref href="#sec-properties-of-intl-listformat-prototype-object" id="_ref_733"><a href="#sec-properties-of-intl-listformat-prototype-object">%Intl.ListFormat.prototype%</a></emu-xref>.</p>

    <p>Intl.ListFormat instances have an <var class="field">[[InitializedListFormat]]</var> internal slot.</p>

    <p>Intl.ListFormat instances also have several internal slots that are computed by <emu-xref href="#sec-intl-listformat-constructor" title="" id="_ref_127"><a href="#sec-intl-listformat-constructor">The Intl.ListFormat Constructor</a></emu-xref>:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value with the <emu-xref href="#sec-language-tags" id="_ref_734"><a href="#sec-language-tags">language tag</a></emu-xref> of the locale whose localization is used by the list format styles.</li>
      <li><var class="field">[[Type]]</var> is one of the String values <emu-val>"conjunction"</emu-val>, <emu-val>"disjunction"</emu-val>, or <emu-val>"unit"</emu-val>, identifying the list of types used.</li>
      <li><var class="field">[[Style]]</var> is one of the String values <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, or <emu-val>"narrow"</emu-val>, identifying the list formatting style used.</li>
      <li><var class="field">[[Templates]]</var> is a <emu-xref href="#sec-Intl.ListFormat-internal-slots" id="_ref_735"><a href="#sec-Intl.ListFormat-internal-slots">ListFormat template set</a></emu-xref>.</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-intl-listformat-abstracts">
    <h1><span class="secnum">14.5</span> Abstract Operations for ListFormat Objects</h1>

    <emu-clause id="sec-deconstructpattern" type="abstract operation" aoid="DeconstructPattern">
      <h1><span class="secnum">14.5.1</span> DeconstructPattern ( <var>pattern</var>, <var>placeables</var> )</h1>
      <p>The abstract operation DeconstructPattern takes arguments <var>pattern</var> (a <emu-xref href="#sec-pattern-string-types" id="_ref_736"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref>) and <var>placeables</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</p>
          <p>It deconstructs the pattern string into a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of parts.</p>
          <p>
            <var>placeables</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> whose keys are placeables tokens used in the pattern string, and values are parts <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> (as from <emu-xref aoid="PartitionPattern" id="_ref_737"><a href="#sec-partitionpattern">PartitionPattern</a></emu-xref>) which will be used in the result <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> to represent the token part.
            Example:
          </p>
          <pre>Input:
  DeconstructPattern("AA{xx}BB{yy}CC", {
    [[xx]]: {[[Type]]: "hour", [[Value]]: "15"},
    [[yy]]: {[[Type]]: "minute", [[Value]]: "06"}
  })

Output (List of parts Records):
  «
    {[[Type]]: "literal", [[Value]]: "AA"},
    {[[Type]]: "hour", [[Value]]: "15"},
    {[[Type]]: "literal", [[Value]]: "BB"},
    {[[Type]]: "minute", [[Value]]: "06"},
    {[[Type]]: "literal", [[Value]]: "CC"}
  »
          </pre>
        
      <p>It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>patternParts</var> be <emu-xref aoid="PartitionPattern" id="_ref_738"><a href="#sec-partitionpattern">PartitionPattern</a></emu-xref>(<var>pattern</var>).</li><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>patternPart</var> of <var>patternParts</var>, do<ol><li>Let <var>part</var> be <var>patternPart</var>.<var class="field">[[Type]]</var>.</li><li>If <var>part</var> is <emu-val>"literal"</emu-val>, then<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>patternPart</var>.<var class="field">[[Value]]</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>placeables</var> has a field [[&lt;<var>part</var>&gt;]].</li><li>Let <var>subst</var> be <var>placeables</var>.[[&lt;<var>part</var>&gt;]].</li><li>If <var>subst</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>, then<ol><li>For each element <var>s</var> of <var>subst</var>, do<ol><li>Append <var>s</var> to <var>result</var>.</li></ol></li></ol></li><li>Else,<ol><li>Append <var>subst</var> to <var>result</var>.</li></ol></li></ol></li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-createpartsfromlist" type="abstract operation" aoid="CreatePartsFromList">
      <h1><span class="secnum">14.5.2</span> CreatePartsFromList ( <var>listFormat</var>, <var>list</var> )</h1>
      <p>The abstract operation CreatePartsFromList takes arguments <var>listFormat</var> (an Intl.ListFormat) and <var>list</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (<emu-val>"element"</emu-val> or <emu-val>"literal"</emu-val>) and <var class="field">[[Value]]</var> (a String). It creates the corresponding <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of parts according to the effective locale and the formatting options of <var>listFormat</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>size</var> be the number of elements of <var>list</var>.</li><li>If <var>size</var> is 0, then<ol><li>Return a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li></ol></li><li>If <var>size</var> is 2, then<ol><li>Let <var>n</var> be an index into <var>listFormat</var>.<var class="field">[[Templates]]</var> based on <var>listFormat</var>.<var class="field">[[Locale]]</var>, <var>list</var>[0], and <var>list</var>[1].</li><li>Let <var>pattern</var> be <var>listFormat</var>.<var class="field">[[Templates]]</var>[<var>n</var>].<var class="field">[[Pair]]</var>.</li><li>Let <var>first</var> be the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"element"</emu-val>, <var class="field">[[Value]]</var>: <var>list</var>[0]&nbsp;}.</li><li>Let <var>second</var> be the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"element"</emu-val>, <var class="field">[[Value]]</var>: <var>list</var>[1]&nbsp;}.</li><li>Let <var>placeables</var> be the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[0]]</var>: <var>first</var>, <var class="field">[[1]]</var>: <var>second</var>&nbsp;}.</li><li>Return <emu-xref aoid="DeconstructPattern" id="_ref_739"><a href="#sec-deconstructpattern">DeconstructPattern</a></emu-xref>(<var>pattern</var>, <var>placeables</var>).</li></ol></li><li>Let <var>last</var> be the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"element"</emu-val>, <var class="field">[[Value]]</var>: <var>list</var>[<var>size</var> - 1]&nbsp;}.</li><li>Let <var>parts</var> be « <var>last</var>&nbsp;».</li><li>Let <var>i</var> be <var>size</var> - 2.</li><li>Repeat, while <var>i</var> ≥ 0,<ol><li>Let <var>head</var> be the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"element"</emu-val>, <var class="field">[[Value]]</var>: <var>list</var>[<var>i</var>]&nbsp;}.</li><li>Let <var>n</var> be an <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> index into <var>listFormat</var>.<var class="field">[[Templates]]</var> based on <var>listFormat</var>.<var class="field">[[Locale]]</var>, <var>head</var>, and <var>parts</var>.</li><li>If <var>i</var> is 0, then<ol><li>Let <var>pattern</var> be <var>listFormat</var>.<var class="field">[[Templates]]</var>[<var>n</var>].<var class="field">[[Start]]</var>.</li></ol></li><li>Else if <var>i</var> is less than <var>size</var> - 2, then<ol><li>Let <var>pattern</var> be <var>listFormat</var>.<var class="field">[[Templates]]</var>[<var>n</var>].<var class="field">[[Middle]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>pattern</var> be <var>listFormat</var>.<var class="field">[[Templates]]</var>[<var>n</var>].<var class="field">[[End]]</var>.</li></ol></li><li>Let <var>placeables</var> be the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[0]]</var>: <var>head</var>, <var class="field">[[1]]</var>: <var>parts</var>&nbsp;}.</li><li>Set <var>parts</var> to <emu-xref aoid="DeconstructPattern" id="_ref_740"><a href="#sec-deconstructpattern">DeconstructPattern</a></emu-xref>(<var>pattern</var>, <var>placeables</var>).</li><li>Decrement <var>i</var> by 1.</li></ol></li><li>Return <var>parts</var>.</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        The index <var>n</var> to select across multiple templates permits the conjunction to be dependent on the context, as in Spanish, where either "y" or "e" may be selected, depending on the following word.
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-formatlist" type="abstract operation" aoid="FormatList">
      <h1><span class="secnum">14.5.3</span> FormatList ( <var>listFormat</var>, <var>list</var> )</h1>
      <p>The abstract operation FormatList takes arguments <var>listFormat</var> (an Intl.ListFormat) and <var>list</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings) and returns a String. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>parts</var> be <emu-xref aoid="CreatePartsFromList" id="_ref_741"><a href="#sec-createpartsfromlist">CreatePartsFromList</a></emu-xref>(<var>listFormat</var>, <var>list</var>).</li><li>Let <var>result</var> be the empty String.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do<ol><li>Set <var>result</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>result</var> and <var>part</var>.<var class="field">[[Value]]</var>.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatlisttoparts" type="abstract operation" aoid="FormatListToParts">
      <h1><span class="secnum">14.5.4</span> FormatListToParts ( <var>listFormat</var>, <var>list</var> )</h1>
      <p>The abstract operation FormatListToParts takes arguments <var>listFormat</var> (an Intl.ListFormat) and <var>list</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings) and returns an Array. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>parts</var> be <emu-xref aoid="CreatePartsFromList" id="_ref_742"><a href="#sec-createpartsfromlist">CreatePartsFromList</a></emu-xref>(<var>listFormat</var>, <var>list</var>).</li><li>Let <var>result</var> be !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0).</li><li>Let <var>n</var> be 0.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do<ol><li>Let <var>O</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>n</var>)), <var>O</var>).</li><li>Increment <var>n</var> by 1.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-createstringlistfromiterable" type="abstract operation" aoid="StringListFromIterable">
      <h1><span class="secnum">14.5.5</span> StringListFromIterable ( <var>iterable</var> )</h1>
      <p>The abstract operation StringListFromIterable takes argument <var>iterable</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>iterable</var> is <emu-val>undefined</emu-val>, then<ol><li>Return a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li></ol></li><li>Let <var>iteratorRecord</var> be ?&nbsp;<emu-xref aoid="GetIterator"><a href="https://tc39.es/ecma262/#sec-getiterator">GetIterator</a></emu-xref>(<var>iterable</var>, <emu-const>sync</emu-const>).</li><li>Let <var>list</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Repeat,<ol><li>Let <var>next</var> be ?&nbsp;<emu-xref aoid="IteratorStepValue"><a href="https://tc39.es/ecma262/#sec-iteratorstepvalue">IteratorStepValue</a></emu-xref>(<var>iteratorRecord</var>).</li><li>If <var>next</var> is <emu-const>done</emu-const>, then<ol><li>Return <var>list</var>.</li></ol></li><li>If <var>next</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is not a String</a></emu-xref>, then<ol><li>Let <var>error</var> be <emu-xref aoid="ThrowCompletion"><a href="https://tc39.es/ecma262/#sec-throwcompletion">ThrowCompletion</a></emu-xref>(a newly created <emu-val>TypeError</emu-val> object).</li><li>Return ?&nbsp;<emu-xref aoid="IteratorClose"><a href="https://tc39.es/ecma262/#sec-iteratorclose">IteratorClose</a></emu-xref>(<var>iteratorRecord</var>, <var>error</var>).</li></ol></li><li>Append <var>next</var> to <var>list</var>.</li></ol></li></ol></emu-alg>
      <emu-note><span class="note">Note</span><div class="note-contents">
        <p>This algorithm raises exceptions when it encounters values that are not Strings, because there is no obvious locale-aware coercion for arbitrary values.</p>
      </div></emu-note>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="locale-objects">
  <h1><span class="secnum">15</span> Locale Objects</h1>

  <emu-clause id="sec-intl-locale-constructor">
    <h1><span class="secnum">15.1</span> The Intl.Locale Constructor</h1>

    <p>The Intl.Locale <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.Locale%</dfn>.</li>
      <li>is the initial value of the <emu-val>"Locale"</emu-val> property of the <emu-xref href="#intl-object" id="_ref_743"><a href="#intl-object">Intl object</a></emu-xref>.</li>
    </ul>

    <emu-clause id="sec-Intl.Locale">
      <h1><span class="secnum">15.1.1</span> Intl.Locale ( <var>tag</var> [ , <var>options</var> ] )</h1>

      <p>When the <code>Intl.Locale</code> function is called with an argument <var>tag</var> and an optional argument <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>If NewTarget is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>localeExtensionKeys</var> be <emu-xref href="#sec-intl-locale-constructor" id="_ref_744"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref>.<var class="field">[[LocaleExtensionKeys]]</var>.</li><li>Let <var>internalSlotsList</var> be « <var class="field">[[InitializedLocale]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[Calendar]]</var>, <var class="field">[[Collation]]</var>, <var class="field">[[HourCycle]]</var>, <var class="field">[[NumberingSystem]]</var>&nbsp;».</li><li>If <var>localeExtensionKeys</var> contains <emu-val>"kf"</emu-val>, then<ol><li>Append <var class="field">[[CaseFirst]]</var> to <var>internalSlotsList</var>.</li></ol></li><li>If <var>localeExtensionKeys</var> contains <emu-val>"kn"</emu-val>, then<ol><li>Append <var class="field">[[Numeric]]</var> to <var>internalSlotsList</var>.</li></ol></li><li>Let <var>locale</var> be ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.Locale.prototype%"</emu-val>, <var>internalSlotsList</var>).</li><li>If <var>tag</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is not a String</a></emu-xref> and <var>tag</var> <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">is not an Object</a></emu-xref>, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <var>tag</var> <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">is an Object</a></emu-xref> and <var>tag</var> has an <var class="field">[[InitializedLocale]]</var> internal slot, then<ol><li>Let <var>tag</var> be <var>tag</var>.<var class="field">[[Locale]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>tag</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>tag</var>).</li></ol></li><li>Set <var>options</var> to ?&nbsp;<emu-xref aoid="CoerceOptionsToObject" id="_ref_745"><a href="#sec-coerceoptionstoobject">CoerceOptionsToObject</a></emu-xref>(<var>options</var>).</li><li>If <emu-xref aoid="IsStructurallyValidLanguageTag" id="_ref_746"><a href="#sec-isstructurallyvalidlanguagetag">IsStructurallyValidLanguageTag</a></emu-xref>(<var>tag</var>) is <emu-val>false</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Set <var>tag</var> to <emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_747"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>tag</var>).</li><li>Set <var>tag</var> to ?&nbsp;<emu-xref aoid="UpdateLanguageId" id="_ref_748"><a href="#sec-updatelanguageid">UpdateLanguageId</a></emu-xref>(<var>tag</var>, <var>options</var>).</li><li>Let <var>opt</var> be a new <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>.</li><li>Let <var>calendar</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_749"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"calendar"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-val>undefined</emu-val>).</li><li>If <var>calendar</var> is not <emu-val>undefined</emu-val>, then<ol><li>If <var>calendar</var> cannot be matched by the <code>type</code> <emu-xref href="#sec-language-tags" id="_ref_750"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>Set <var>opt</var>.<var class="field">[[ca]]</var> to <var>calendar</var>.</li><li>Let <var>collation</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_751"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"collation"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-val>undefined</emu-val>).</li><li>If <var>collation</var> is not <emu-val>undefined</emu-val>, then<ol><li>If <var>collation</var> cannot be matched by the <code>type</code> <emu-xref href="#sec-language-tags" id="_ref_752"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>Set <var>opt</var>.<var class="field">[[co]]</var> to <var>collation</var>.</li><li>Let <var>hc</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_753"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"hourCycle"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"h11"</emu-val>, <emu-val>"h12"</emu-val>, <emu-val>"h23"</emu-val>, <emu-val>"h24"</emu-val>&nbsp;», <emu-val>undefined</emu-val>).</li><li>Set <var>opt</var>.<var class="field">[[hc]]</var> to <var>hc</var>.</li><li>Let <var>kf</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_754"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"caseFirst"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"upper"</emu-val>, <emu-val>"lower"</emu-val>, <emu-val>"false"</emu-val>&nbsp;», <emu-val>undefined</emu-val>).</li><li>Set <var>opt</var>.<var class="field">[[kf]]</var> to <var>kf</var>.</li><li>Let <var>kn</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_755"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"numeric"</emu-val>, <emu-const>boolean</emu-const>, <emu-const>empty</emu-const>, <emu-val>undefined</emu-val>).</li><li>If <var>kn</var> is not <emu-val>undefined</emu-val>, set <var>kn</var> to !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>kn</var>).</li><li>Set <var>opt</var>.<var class="field">[[kn]]</var> to <var>kn</var>.</li><li>Let <var>numberingSystem</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_756"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"numberingSystem"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-val>undefined</emu-val>).</li><li>If <var>numberingSystem</var> is not <emu-val>undefined</emu-val>, then<ol><li>If <var>numberingSystem</var> cannot be matched by the <code>type</code> <emu-xref href="#sec-language-tags" id="_ref_757"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>Set <var>opt</var>.<var class="field">[[nu]]</var> to <var>numberingSystem</var>.</li><li>Let <var>r</var> be <emu-xref aoid="MakeLocaleRecord" id="_ref_758"><a href="#sec-makelocalerecord">MakeLocaleRecord</a></emu-xref>(<var>tag</var>, <var>opt</var>, <var>localeExtensionKeys</var>).</li><li>Set <var>locale</var>.<var class="field">[[Locale]]</var> to <var>r</var>.<var class="field">[[locale]]</var>.</li><li>Set <var>locale</var>.<var class="field">[[Calendar]]</var> to <var>r</var>.<var class="field">[[ca]]</var>.</li><li>Set <var>locale</var>.<var class="field">[[Collation]]</var> to <var>r</var>.<var class="field">[[co]]</var>.</li><li>Set <var>locale</var>.<var class="field">[[HourCycle]]</var> to <var>r</var>.<var class="field">[[hc]]</var>.</li><li>If <var>localeExtensionKeys</var> contains <emu-val>"kf"</emu-val>, then<ol><li>Set <var>locale</var>.<var class="field">[[CaseFirst]]</var> to <var>r</var>.<var class="field">[[kf]]</var>.</li></ol></li><li>If <var>localeExtensionKeys</var> contains <emu-val>"kn"</emu-val>, then<ol><li>If <emu-xref aoid="SameValue"><a href="https://tc39.es/ecma262/#sec-samevalue">SameValue</a></emu-xref>(<var>r</var>.<var class="field">[[kn]]</var>, <emu-val>"true"</emu-val>) is <emu-val>true</emu-val> or <var>r</var>.<var class="field">[[kn]]</var> is the empty String, then<ol><li>Set <var>locale</var>.<var class="field">[[Numeric]]</var> to <emu-val>true</emu-val>.</li></ol></li><li>Else,<ol><li>Set <var>locale</var>.<var class="field">[[Numeric]]</var> to <emu-val>false</emu-val>.</li></ol></li></ol></li><li>Set <var>locale</var>.<var class="field">[[NumberingSystem]]</var> to <var>r</var>.<var class="field">[[nu]]</var>.</li><li>Return <var>locale</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-updatelanguageid" type="abstract operation" oldids="sec-apply-options-to-tag" aoid="UpdateLanguageId"><span id="sec-apply-options-to-tag"></span>
      <h1><span class="secnum">15.1.2</span> UpdateLanguageId ( <var>tag</var>, <var>options</var> )</h1>
      <p>The abstract operation UpdateLanguageId takes arguments <var>tag</var> (a <emu-xref href="#sec-language-tags" id="_ref_759"><a href="#sec-language-tags">Unicode canonicalized locale identifier</a></emu-xref>) and <var>options</var> (an Object) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a <emu-xref href="#sec-language-tags" id="_ref_760"><a href="#sec-language-tags">language tag</a></emu-xref> or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It updates the <code>unicode_language_id</code> <emu-xref href="#bcp-47-subtag" id="_ref_761"><a href="#bcp-47-subtag">subtags</a></emu-xref> in <var>tag</var> from the corresponding properties of <var>options</var> and returns the <emu-xref href="#sec-isstructurallyvalidlanguagetag" id="_ref_128"><a href="#sec-isstructurallyvalidlanguagetag">structurally valid</a></emu-xref> but non-canonicalized result. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>baseName</var> be <emu-xref aoid="GetLocaleBaseName" id="_ref_762"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>tag</var>).</li><li>Let <var>language</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_763"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"language"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-xref aoid="GetLocaleLanguage" id="_ref_764"><a href="#sec-getlocalelanguage">GetLocaleLanguage</a></emu-xref>(<var>baseName</var>)).</li><li>If <var>language</var> cannot be matched by the <code>unicode_language_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_765"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>script</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_766"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"script"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-xref aoid="GetLocaleScript" id="_ref_767"><a href="#sec-getlocalescript">GetLocaleScript</a></emu-xref>(<var>baseName</var>)).</li><li>If <var>script</var> is not <emu-val>undefined</emu-val>, then<ol><li>If <var>script</var> cannot be matched by the <code>unicode_script_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_768"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>Let <var>region</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_769"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"region"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-xref aoid="GetLocaleRegion" id="_ref_770"><a href="#sec-getlocaleregion">GetLocaleRegion</a></emu-xref>(<var>baseName</var>)).</li><li>If <var>region</var> is not <emu-val>undefined</emu-val>, then<ol><li>If <var>region</var> cannot be matched by the <code>unicode_region_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_771"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>Let <var>variants</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_772"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"variants"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-xref aoid="GetLocaleVariants" id="_ref_773"><a href="#sec-getlocalevariants">GetLocaleVariants</a></emu-xref>(<var>baseName</var>)).</li><li>If <var>variants</var> is not <emu-val>undefined</emu-val>, then<ol><li>If <var>variants</var> is the empty String, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>lowerVariants</var> be the <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_774"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-lowercase</a></emu-xref> of <var>variants</var>.</li><li>Let <var>variantSubtags</var> be <emu-xref aoid="StringSplitToList" id="_ref_775"><a href="#sec-string-split-to-list">StringSplitToList</a></emu-xref>(<var>lowerVariants</var>, <emu-val>"-"</emu-val>).</li><li>For each element <var>variant</var> of <var>variantSubtags</var>, do<ol><li>If <var>variant</var> cannot be matched by the <code>unicode_variant_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_776"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>If <var>variantSubtags</var> contains any duplicate elements, throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>Let <var>allExtensions</var> be the suffix of <var>tag</var> following <var>baseName</var>.</li><li>Let <var>newTag</var> be <var>language</var>.</li><li>If <var>script</var> is not <emu-val>undefined</emu-val>, set <var>newTag</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>newTag</var>, <emu-val>"-"</emu-val>, and <var>script</var>.</li><li>If <var>region</var> is not <emu-val>undefined</emu-val>, set <var>newTag</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>newTag</var>, <emu-val>"-"</emu-val>, and <var>region</var>.</li><li>If <var>variants</var> is not <emu-val>undefined</emu-val>, set <var>newTag</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>newTag</var>, <emu-val>"-"</emu-val>, and <var>variants</var>.</li><li>Set <var>newTag</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>newTag</var> and <var>allExtensions</var>.</li><li>Return <var>newTag</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-makelocalerecord" type="abstract operation" oldids="sec-apply-unicode-extension-to-tag" aoid="MakeLocaleRecord"><span id="sec-apply-unicode-extension-to-tag"></span>
      <h1><span class="secnum">15.1.3</span> MakeLocaleRecord ( <var>tag</var>, <var>options</var>, <var>localeExtensionKeys</var> )</h1>
      <p>The abstract operation MakeLocaleRecord takes arguments <var>tag</var> (a <emu-xref href="#sec-language-tags" id="_ref_777"><a href="#sec-language-tags">language tag</a></emu-xref>), <var>options</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>), and <var>localeExtensionKeys</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>. It constructs and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> in which each element of <var>localeExtensionKeys</var> defines a corresponding field with data from any <emu-xref href="#unicode-locale-extension-sequence" id="_ref_778"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> of <var>tag</var> as overridden by a corresponding field of <var>options</var>, and which additionally includes a <var class="field">[[locale]]</var> field containing a <emu-xref href="#sec-language-tags" id="_ref_779"><a href="#sec-language-tags">Unicode canonicalized locale identifier</a></emu-xref> resulting from incorporating those fields into <var>tag</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>tag</var> contains a <emu-not-ref>substring</emu-not-ref> that is a <emu-xref href="#unicode-locale-extension-sequence" id="_ref_780"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref>, then<ol><li>Let <var>extension</var> be the String value consisting of the <emu-not-ref>substring</emu-not-ref> of the <emu-xref href="#unicode-locale-extension-sequence" id="_ref_781"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequence</a></emu-xref> within <var>tag</var>.</li><li>Let <var>components</var> be <emu-xref aoid="UnicodeExtensionComponents" id="_ref_782"><a href="#sec-unicode-extension-components">UnicodeExtensionComponents</a></emu-xref>(<var>extension</var>).</li><li>Let <var>attributes</var> be <var>components</var>.<var class="field">[[Attributes]]</var>.</li><li>Let <var>keywords</var> be <var>components</var>.<var class="field">[[Keywords]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>attributes</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>keywords</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li></ol></li><li>Let <var>result</var> be a new <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>.</li><li>For each element <var>key</var> of <var>localeExtensionKeys</var>, do<ol><li>If <var>keywords</var> contains an element whose <var class="field">[[Key]]</var> is <var>key</var>, then<ol><li>Let <var>entry</var> be the element of <var>keywords</var> whose <var class="field">[[Key]]</var> is <var>key</var>.</li><li>Let <var>value</var> be <var>entry</var>.<var class="field">[[Value]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>entry</var> be <emu-const>empty</emu-const>.</li><li>Let <var>value</var> be <emu-val>undefined</emu-val>.</li></ol></li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>options</var> has a field [[&lt;<var>key</var>&gt;]].</li><li>Let <var>overrideValue</var> be <var>options</var>.[[&lt;<var>key</var>&gt;]].</li><li>If <var>overrideValue</var> is not <emu-val>undefined</emu-val>, then<ol><li>Set <var>value</var> to <emu-xref aoid="CanonicalizeUValue" id="_ref_783"><a href="#sec-canonicalizeuvalue">CanonicalizeUValue</a></emu-xref>(<var>key</var>, <var>overrideValue</var>).</li><li>If <var>entry</var> is not <emu-const>empty</emu-const>, then<ol><li>Set <var>entry</var>.<var class="field">[[Value]]</var> to <var>value</var>.</li></ol></li><li>Else,<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Key]]</var>: <var>key</var>, <var class="field">[[Value]]</var>: <var>value</var>&nbsp;} to <var>keywords</var>.</li></ol></li></ol></li><li>Set <var>result</var>.[[&lt;<var>key</var>&gt;]] to <var>value</var>.</li></ol></li><li>Let <var>locale</var> be the String value that is <var>tag</var> with any <emu-xref href="#unicode-locale-extension-sequence" id="_ref_784"><a href="#unicode-locale-extension-sequence">Unicode locale extension sequences</a></emu-xref> removed.</li><li>If <var>attributes</var> is not empty or <var>keywords</var> is not empty, then<ol><li>Set <var>result</var>.<var class="field">[[locale]]</var> to <emu-xref aoid="InsertUnicodeExtensionAndCanonicalize" id="_ref_785"><a href="#sec-insert-unicode-extension-and-canonicalize">InsertUnicodeExtensionAndCanonicalize</a></emu-xref>(<var>locale</var>, <var>attributes</var>, <var>keywords</var>).</li></ol></li><li>Else,<ol><li>Set <var>result</var>.<var class="field">[[locale]]</var> to <emu-xref aoid="CanonicalizeUnicodeLocaleId" id="_ref_786"><a href="#sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a></emu-xref>(<var>locale</var>).</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-locale-constructor">
    <h1><span class="secnum">15.2</span> Properties of the Intl.Locale Constructor</h1>

    <p>The Intl.Locale <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref>.</li>
      <li>has the following properties:</li>
    </ul>

    <emu-clause id="sec-Intl.Locale.prototype">
      <h1><span class="secnum">15.2.1</span> Intl.Locale.prototype</h1>

      <p>The value of <code>Intl.Locale.prototype</code> is <emu-xref href="#sec-properties-of-intl-locale-prototype-object" id="_ref_787"><a href="#sec-properties-of-intl-locale-prototype-object">%Intl.Locale.prototype%</a></emu-xref>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> }.</p>
    </emu-clause>

    <emu-clause id="sec-intl.locale-internal-slots">
      <h1><span class="secnum">15.2.2</span> Internal slots</h1>

      <p>The value of the <var class="field">[[LocaleExtensionKeys]]</var> internal slot is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> that must include all elements of « <emu-val>"ca"</emu-val>, <emu-val>"co"</emu-val>, <emu-val>"hc"</emu-val>, <emu-val>"nu"</emu-val> », must additionally include any element of « <emu-val>"kf"</emu-val>, <emu-val>"kn"</emu-val> » that is also an element of <emu-xref href="#sec-intl-collator-constructor" id="_ref_788"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>.<var class="field">[[RelevantExtensionKeys]]</var>, and must not include any other elements.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-locale-prototype-object">
    <h1><span class="secnum">15.3</span> Properties of the Intl.Locale Prototype Object</h1>

    <p>The <dfn tabindex="-1">Intl.Locale prototype object</dfn>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.Locale.prototype%</dfn>.</li>
      <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
      <li>is not an Intl.Locale instance and does not have an <var class="field">[[InitializedLocale]]</var> internal slot or any of the other internal slots of Intl.Locale instance objects.</li>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>.</li>
    </ul>

    <emu-clause id="sec-Intl.Locale.prototype.constructor">
      <h1><span class="secnum">15.3.1</span> Intl.Locale.prototype.constructor</h1>

      <p>The initial value of <code>Intl.Locale.prototype.constructor</code> is <emu-xref href="#sec-intl-locale-constructor" id="_ref_789"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.baseName">
      <h1><span class="secnum">15.3.2</span> get Intl.Locale.prototype.baseName</h1>
      <p><code>Intl.Locale.prototype.baseName</code> is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>
      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Return <emu-xref aoid="GetLocaleBaseName" id="_ref_790"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.calendar">
      <h1><span class="secnum">15.3.3</span> get Intl.Locale.prototype.calendar</h1>
      <p><code>Intl.Locale.prototype.calendar</code> is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>
      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Return <var>loc</var>.<var class="field">[[Calendar]]</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.caseFirst">
      <h1><span class="secnum">15.3.4</span> get Intl.Locale.prototype.caseFirst</h1>
      <p>This property only exists if <emu-xref href="#sec-intl-locale-constructor" id="_ref_791"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref>.<var class="field">[[LocaleExtensionKeys]]</var> contains <emu-val>"kf"</emu-val>.</p>
      <p><code>Intl.Locale.prototype.caseFirst</code> is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>
      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Return <var>loc</var>.<var class="field">[[CaseFirst]]</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.collation">
      <h1><span class="secnum">15.3.5</span> get Intl.Locale.prototype.collation</h1>
      <p><code>Intl.Locale.prototype.collation</code> is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>
      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Return <var>loc</var>.<var class="field">[[Collation]]</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.hourCycle">
      <h1><span class="secnum">15.3.6</span> get Intl.Locale.prototype.hourCycle</h1>
      <p><code>Intl.Locale.prototype.hourCycle</code> is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>
      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Return <var>loc</var>.<var class="field">[[HourCycle]]</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.language">
      <h1><span class="secnum">15.3.7</span> get Intl.Locale.prototype.language</h1>
      <p><code>Intl.Locale.prototype.language</code> is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>
      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Return <emu-xref aoid="GetLocaleLanguage" id="_ref_792"><a href="#sec-getlocalelanguage">GetLocaleLanguage</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.maximize">
      <h1><span class="secnum">15.3.8</span> Intl.Locale.prototype.maximize ( )</h1>

      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Let <var>maximal</var> be the result of the <a href="https://unicode.org/reports/tr35/#Likely_Subtags">Add Likely Subtags</a> algorithm applied to <var>loc</var>.<var class="field">[[Locale]]</var>. If an error is signaled, set <var>maximal</var> to <var>loc</var>.<var class="field">[[Locale]]</var>.</li><li>Return !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-locale-constructor" id="_ref_793"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref>, <var>maximal</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.minimize">
      <h1><span class="secnum">15.3.9</span> Intl.Locale.prototype.minimize ( )</h1>

      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Let <var>minimal</var> be the result of the <a href="https://unicode.org/reports/tr35/#Likely_Subtags">Remove Likely Subtags</a> algorithm applied to <var>loc</var>.<var class="field">[[Locale]]</var>. If an error is signaled, set <var>minimal</var> to <var>loc</var>.<var class="field">[[Locale]]</var>.</li><li>Return !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-locale-constructor" id="_ref_794"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref>, <var>minimal</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.numberingSystem">
      <h1><span class="secnum">15.3.10</span> get Intl.Locale.prototype.numberingSystem</h1>
      <p><code>Intl.Locale.prototype.numberingSystem</code> is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>
      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Return <var>loc</var>.<var class="field">[[NumberingSystem]]</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.numeric">
      <h1><span class="secnum">15.3.11</span> get Intl.Locale.prototype.numeric</h1>
      <p>This property only exists if <emu-xref href="#sec-intl-locale-constructor" id="_ref_795"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref>.<var class="field">[[LocaleExtensionKeys]]</var> contains <emu-val>"kn"</emu-val>.</p>
      <p><code>Intl.Locale.prototype.numeric</code> is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>
      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Return <var>loc</var>.<var class="field">[[Numeric]]</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.region">
      <h1><span class="secnum">15.3.12</span> get Intl.Locale.prototype.region</h1>
      <p><code>Intl.Locale.prototype.region</code> is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>
      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Return <emu-xref aoid="GetLocaleRegion" id="_ref_796"><a href="#sec-getlocaleregion">GetLocaleRegion</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.script">
      <h1><span class="secnum">15.3.13</span> get Intl.Locale.prototype.script</h1>
      <p><code>Intl.Locale.prototype.script</code> is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>
      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Return <emu-xref aoid="GetLocaleScript" id="_ref_797"><a href="#sec-getlocalescript">GetLocaleScript</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.toString">
      <h1><span class="secnum">15.3.14</span> Intl.Locale.prototype.toString ( )</h1>

      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Return <var>loc</var>.<var class="field">[[Locale]]</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.Locale.prototype.variants">
      <h1><span class="secnum">15.3.15</span> get Intl.Locale.prototype.variants</h1>
      <p><code>Intl.Locale.prototype.variants</code> is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>
      <emu-alg><ol><li>Let <var>loc</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>loc</var>, <var class="field">[[InitializedLocale]]</var>).</li><li>Return <emu-xref aoid="GetLocaleVariants" id="_ref_798"><a href="#sec-getlocalevariants">GetLocaleVariants</a></emu-xref>(<var>loc</var>.<var class="field">[[Locale]]</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.locale.prototype-%symbol.tostringtag%" oldids="sec-Intl.Locale.prototype-@@tostringtag"><span id="sec-Intl.Locale.prototype-@@tostringtag"></span>
      <h1><span class="secnum">15.3.16</span> Intl.Locale.prototype [ %Symbol.toStringTag% ]</h1>

      <p>The initial value of the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property is the String value <emu-val>"Intl.Locale"</emu-val>.</p>

      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> }.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-locale-instances">
    <h1><span class="secnum">15.4</span> Properties of Intl.Locale Instances</h1>

    <p>Intl.Locale instances are <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary objects</a></emu-xref> that inherit properties from <emu-xref href="#sec-properties-of-intl-locale-prototype-object" id="_ref_799"><a href="#sec-properties-of-intl-locale-prototype-object">%Intl.Locale.prototype%</a></emu-xref>.</p>

    <p>Intl.Locale instances have an <var class="field">[[InitializedLocale]]</var> internal slot.</p>

    <p>Intl.Locale instances also have several internal slots that are computed by <emu-xref href="#sec-intl-locale-constructor" title="" id="_ref_129"><a href="#sec-intl-locale-constructor">The Intl.Locale Constructor</a></emu-xref>:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value with the <emu-xref href="#sec-language-tags" id="_ref_800"><a href="#sec-language-tags">language tag</a></emu-xref> of the locale whose localization is used for formatting.</li>
      <li><var class="field">[[Calendar]]</var> is either <emu-val>undefined</emu-val> or a String value that is a well-formed <a href="https://unicode.org/reports/tr35/#UnicodeCalendarIdentifier">Unicode Calendar Identifier</a> in canonical form.</li>
      <li><var class="field">[[Collation]]</var> is either <emu-val>undefined</emu-val> or a String value that is a well-formed <a href="https://unicode.org/reports/tr35/#UnicodeCollationIdentifier">Unicode Collation Identifier</a> in canonical form.</li>
      <li><var class="field">[[HourCycle]]</var> is either <emu-val>undefined</emu-val> or a String value that is a valid <a href="https://unicode.org/reports/tr35/#UnicodeHourCycleIdentifier">Unicode Hour Cycle Identifier</a> in canonical form.</li>
      <li><var class="field">[[NumberingSystem]]</var> is either <emu-val>undefined</emu-val> or a String value that is a well-formed <a href="https://unicode.org/reports/tr35/#UnicodeNumberSystemIdentifier">Unicode Number System Identifier</a> in canonical form.</li>
      <li><var class="field">[[CaseFirst]]</var> is either <emu-val>undefined</emu-val> or one of the String values <emu-val>"upper"</emu-val>, <emu-val>"lower"</emu-val>, or <emu-val>"false"</emu-val>. This internal slot only exists if the <var class="field">[[LocaleExtensionKeys]]</var> internal slot of <emu-xref href="#sec-intl-locale-constructor" id="_ref_801"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref> contains <emu-val>"kf"</emu-val>.</li>
      <li><var class="field">[[Numeric]]</var> is either <emu-val>undefined</emu-val> or a Boolean value specifying whether numeric sorting is used by the locale. This internal slot only exists if the <var class="field">[[LocaleExtensionKeys]]</var> internal slot of <emu-xref href="#sec-intl-locale-constructor" id="_ref_802"><a href="#sec-intl-locale-constructor">%Intl.Locale%</a></emu-xref> contains <emu-val>"kn"</emu-val>.</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-intl-locale-abstracts">
    <h1><span class="secnum">15.5</span> Abstract Operations for Locale Objects</h1>

    <emu-clause id="sec-getlocalebasename" type="abstract operation" aoid="GetLocaleBaseName">
      <h1><span class="secnum">15.5.1</span> GetLocaleBaseName ( <var>locale</var> )</h1>
      <p>The abstract operation GetLocaleBaseName takes argument <var>locale</var> (a String) and returns a String. It performs the following steps when called:</p>
      <emu-alg><ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>locale</var> can be matched by the <code>unicode_locale_id</code> <emu-xref href="#sec-language-tags" id="_ref_803"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>.</li><li>Return the longest prefix of <var>locale</var> matched by the <code>unicode_language_id</code> <emu-xref href="#sec-language-tags" id="_ref_804"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getlocalelanguage" type="abstract operation" aoid="GetLocaleLanguage">
      <h1><span class="secnum">15.5.2</span> GetLocaleLanguage ( <var>locale</var> )</h1>
      <p>The abstract operation GetLocaleLanguage takes argument <var>locale</var> (a String) and returns a String. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>baseName</var> be <emu-xref aoid="GetLocaleBaseName" id="_ref_805"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>locale</var>).</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: The first <emu-xref href="#bcp-47-subtag" id="_ref_806"><a href="#bcp-47-subtag">subtag</a></emu-xref> of <var>baseName</var> can be matched by the <code>unicode_language_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_807"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>.</li><li>Return the first <emu-xref href="#bcp-47-subtag" id="_ref_808"><a href="#bcp-47-subtag">subtag</a></emu-xref> of <var>baseName</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getlocalescript" type="abstract operation" aoid="GetLocaleScript">
      <h1><span class="secnum">15.5.3</span> GetLocaleScript ( <var>locale</var> )</h1>
      <p>The abstract operation GetLocaleScript takes argument <var>locale</var> (a String) and returns a String or <emu-val>undefined</emu-val>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>baseName</var> be <emu-xref aoid="GetLocaleBaseName" id="_ref_809"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>locale</var>).</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>baseName</var> contains at most one <emu-xref href="#bcp-47-subtag" id="_ref_810"><a href="#bcp-47-subtag">subtag</a></emu-xref> that can be matched by the <code>unicode_script_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_811"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>.</li><li>If <var>baseName</var> contains a <emu-xref href="#bcp-47-subtag" id="_ref_812"><a href="#bcp-47-subtag">subtag</a></emu-xref> matched by the <code>unicode_script_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_813"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, return that <emu-xref href="#bcp-47-subtag" id="_ref_814"><a href="#bcp-47-subtag">subtag</a></emu-xref>.</li><li>Return <emu-val>undefined</emu-val>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getlocaleregion" type="abstract operation" aoid="GetLocaleRegion">
      <h1><span class="secnum">15.5.4</span> GetLocaleRegion ( <var>locale</var> )</h1>
      <p>The abstract operation GetLocaleRegion takes argument <var>locale</var> (a String) and returns a String or <emu-val>undefined</emu-val>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>baseName</var> be <emu-xref aoid="GetLocaleBaseName" id="_ref_815"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>locale</var>).</li><li>NOTE: A <code>unicode_region_subtag</code> <emu-xref href="#bcp-47-subtag" id="_ref_816"><a href="#bcp-47-subtag">subtag</a></emu-xref> is only valid immediately after an initial <code>unicode_language_subtag</code> <emu-xref href="#bcp-47-subtag" id="_ref_817"><a href="#bcp-47-subtag">subtag</a></emu-xref>, optionally with a single <code>unicode_script_subtag</code> <emu-xref href="#bcp-47-subtag" id="_ref_818"><a href="#bcp-47-subtag">subtag</a></emu-xref> between them. In that position, <code>unicode_region_subtag</code> cannot be confused with any other valid <emu-xref href="#bcp-47-subtag" id="_ref_819"><a href="#bcp-47-subtag">subtag</a></emu-xref> because all their productions are disjoint.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: The first <emu-xref href="#bcp-47-subtag" id="_ref_820"><a href="#bcp-47-subtag">subtag</a></emu-xref> of <var>baseName</var> can be matched by the <code>unicode_language_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_821"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>.</li><li>Let <var>baseNameTail</var> be the suffix of <var>baseName</var> following the first <emu-xref href="#bcp-47-subtag" id="_ref_822"><a href="#bcp-47-subtag">subtag</a></emu-xref>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>baseNameTail</var> contains at most one <emu-xref href="#bcp-47-subtag" id="_ref_823"><a href="#bcp-47-subtag">subtag</a></emu-xref> that can be matched by the <code>unicode_region_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_824"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>.</li><li>If <var>baseNameTail</var> contains a <emu-xref href="#bcp-47-subtag" id="_ref_825"><a href="#bcp-47-subtag">subtag</a></emu-xref> matched by the <code>unicode_region_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_826"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>, return that <emu-xref href="#bcp-47-subtag" id="_ref_827"><a href="#bcp-47-subtag">subtag</a></emu-xref>.</li><li>Return <emu-val>undefined</emu-val>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getlocalevariants" type="abstract operation" aoid="GetLocaleVariants">
      <h1><span class="secnum">15.5.5</span> GetLocaleVariants ( <var>locale</var> )</h1>
      <p>The abstract operation GetLocaleVariants takes argument <var>locale</var> (a String) and returns a String or <emu-val>undefined</emu-val>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>baseName</var> be <emu-xref aoid="GetLocaleBaseName" id="_ref_828"><a href="#sec-getlocalebasename">GetLocaleBaseName</a></emu-xref>(<var>locale</var>).</li><li>NOTE: Each <emu-xref href="#bcp-47-subtag" id="_ref_829"><a href="#bcp-47-subtag">subtag</a></emu-xref> in <var>baseName</var> that is preceded by <emu-val>"-"</emu-val> is either a <code>unicode_script_subtag</code>, <code>unicode_region_subtag</code>, or <code>unicode_variant_subtag</code>, but any <emu-not-ref>substring</emu-not-ref> matched by <code>unicode_variant_subtag</code> is strictly longer than any prefix thereof which could also be matched by one of the other productions.</li><li>Let <var>variants</var> be the longest suffix of <var>baseName</var> that starts with a <emu-val>"-"</emu-val> followed by a <emu-not-ref>substring</emu-not-ref> that is matched by the <code>unicode_variant_subtag</code> <emu-xref href="#sec-language-tags" id="_ref_830"><a href="#sec-language-tags">Unicode locale nonterminal</a></emu-xref>. If there is no such suffix, return <emu-val>undefined</emu-val>.</li><li>Return the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>variants</var> from 1.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="numberformat-objects">
  <h1><span class="secnum">16</span> NumberFormat Objects</h1>

  <emu-clause id="sec-intl-numberformat-constructor">
    <h1><span class="secnum">16.1</span> The Intl.NumberFormat Constructor</h1>

    <p>The Intl.NumberFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.NumberFormat%</dfn>.</li>
      <li>is the initial value of the <emu-val>"NumberFormat"</emu-val> property of the <emu-xref href="#intl-object" id="_ref_831"><a href="#intl-object">Intl object</a></emu-xref>.</li>
    </ul>

    <p>Behaviour common to all <emu-xref href="#service-constructor" id="_ref_832"><a href="#service-constructor">service constructor</a></emu-xref> properties of the <emu-xref href="#intl-object" id="_ref_833"><a href="#intl-object">Intl object</a></emu-xref> is specified in <emu-xref href="#sec-internal-slots" id="_ref_130"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

    <emu-clause id="sec-intl.numberformat" oldids="sec-initializenumberformat"><span id="sec-initializenumberformat"></span>
      <h1><span class="secnum">16.1.1</span> Intl.NumberFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>When the <code>Intl.NumberFormat</code> function is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>If NewTarget is <emu-val>undefined</emu-val>, let <var>newTarget</var> be the <emu-xref href="#active-function-object"><a href="https://tc39.es/ecma262/#active-function-object">active function object</a></emu-xref>, else let <var>newTarget</var> be NewTarget.</li><li>Let <var>numberFormat</var> be ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(<var>newTarget</var>, <emu-val>"%Intl.NumberFormat.prototype%"</emu-val>, « <var class="field">[[InitializedNumberFormat]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[LocaleData]]</var>, <var class="field">[[NumberingSystem]]</var>, <var class="field">[[Style]]</var>, <var class="field">[[Unit]]</var>, <var class="field">[[UnitDisplay]]</var>, <var class="field">[[Currency]]</var>, <var class="field">[[CurrencyDisplay]]</var>, <var class="field">[[CurrencySign]]</var>, <var class="field">[[MinimumIntegerDigits]]</var>, <var class="field">[[MinimumFractionDigits]]</var>, <var class="field">[[MaximumFractionDigits]]</var>, <var class="field">[[MinimumSignificantDigits]]</var>, <var class="field">[[MaximumSignificantDigits]]</var>, <var class="field">[[RoundingType]]</var>, <var class="field">[[Notation]]</var>, <var class="field">[[CompactDisplay]]</var>, <var class="field">[[UseGrouping]]</var>, <var class="field">[[SignDisplay]]</var>, <var class="field">[[RoundingIncrement]]</var>, <var class="field">[[RoundingMode]]</var>, <var class="field">[[ComputedRoundingPriority]]</var>, <var class="field">[[TrailingZeroDisplay]]</var>, <var class="field">[[BoundFormat]]</var>&nbsp;»).</li><li>Let <var>optionsResolution</var> be ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_834"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_835"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_836"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>, <var>options</var>, « <emu-const>coerce-options</emu-const>&nbsp;»).</li><li>Set <var>options</var> to <var>optionsResolution</var>.<var class="field">[[Options]]</var>.</li><li>Let <var>r</var> be <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var>.</li><li>Set <var>numberFormat</var>.<var class="field">[[Locale]]</var> to <var>r</var>.<var class="field">[[Locale]]</var>.</li><li>Set <var>numberFormat</var>.<var class="field">[[LocaleData]]</var> to <var>r</var>.<var class="field">[[LocaleData]]</var>.</li><li>Set <var>numberFormat</var>.<var class="field">[[NumberingSystem]]</var> to <var>r</var>.<var class="field">[[nu]]</var>.</li><li>Perform ?&nbsp;<emu-xref aoid="SetNumberFormatUnitOptions" id="_ref_837"><a href="#sec-setnumberformatunitoptions">SetNumberFormatUnitOptions</a></emu-xref>(<var>numberFormat</var>, <var>options</var>).</li><li>Let <var>style</var> be <var>numberFormat</var>.<var class="field">[[Style]]</var>.</li><li>Let <var>notation</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_838"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"notation"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"standard"</emu-val>, <emu-val>"scientific"</emu-val>, <emu-val>"engineering"</emu-val>, <emu-val>"compact"</emu-val>&nbsp;», <emu-val>"standard"</emu-val>).</li><li>Set <var>numberFormat</var>.<var class="field">[[Notation]]</var> to <var>notation</var>.</li><li>If <var>style</var> is <emu-val>"currency"</emu-val> and <var>notation</var> is <emu-val>"standard"</emu-val>, then<ol><li>Let <var>currency</var> be <var>numberFormat</var>.<var class="field">[[Currency]]</var>.</li><li>Let <var>cDigits</var> be <emu-xref aoid="CurrencyDigits" id="_ref_839"><a href="#sec-currencydigits">CurrencyDigits</a></emu-xref>(<var>currency</var>).</li><li>Let <var>mnfdDefault</var> be <var>cDigits</var>.</li><li>Let <var>mxfdDefault</var> be <var>cDigits</var>.</li></ol></li><li>Else,<ol><li>Let <var>mnfdDefault</var> be 0.</li><li>If <var>style</var> is <emu-val>"percent"</emu-val>, then<ol><li>Let <var>mxfdDefault</var> be 0.</li></ol></li><li>Else,<ol><li>Let <var>mxfdDefault</var> be 3.</li></ol></li></ol></li><li>Perform ?&nbsp;<emu-xref aoid="SetNumberFormatDigitOptions" id="_ref_840"><a href="#sec-setnumberformatdigitoptions">SetNumberFormatDigitOptions</a></emu-xref>(<var>numberFormat</var>, <var>options</var>, <var>mnfdDefault</var>, <var>mxfdDefault</var>, <var>notation</var>).</li><li>Let <var>compactDisplay</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_841"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"compactDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>&nbsp;», <emu-val>"short"</emu-val>).</li><li>Let <var>defaultUseGrouping</var> be <emu-val>"auto"</emu-val>.</li><li>If <var>notation</var> is <emu-val>"compact"</emu-val>, then<ol><li>Set <var>numberFormat</var>.<var class="field">[[CompactDisplay]]</var> to <var>compactDisplay</var>.</li><li>Set <var>defaultUseGrouping</var> to <emu-val>"min2"</emu-val>.</li></ol></li><li>NOTE: For historical reasons, the strings <emu-val>"true"</emu-val> and <emu-val>"false"</emu-val> are accepted and replaced with the default value.</li><li>Let <var>useGrouping</var> be ?&nbsp;<emu-xref aoid="GetBooleanOrStringNumberFormatOption" id="_ref_842"><a href="#sec-getbooleanorstringnumberformatoption">GetBooleanOrStringNumberFormatOption</a></emu-xref>(<var>options</var>, <emu-val>"useGrouping"</emu-val>, « <emu-val>"min2"</emu-val>, <emu-val>"auto"</emu-val>, <emu-val>"always"</emu-val>, <emu-val>"true"</emu-val>, <emu-val>"false"</emu-val>&nbsp;», <var>defaultUseGrouping</var>).</li><li>If <var>useGrouping</var> is <emu-val>"true"</emu-val> or <var>useGrouping</var> is <emu-val>"false"</emu-val>, set <var>useGrouping</var> to <var>defaultUseGrouping</var>.</li><li>If <var>useGrouping</var> is <emu-val>true</emu-val>, set <var>useGrouping</var> to <emu-val>"always"</emu-val>.</li><li>Set <var>numberFormat</var>.<var class="field">[[UseGrouping]]</var> to <var>useGrouping</var>.</li><li>Let <var>signDisplay</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_843"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"signDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"auto"</emu-val>, <emu-val>"never"</emu-val>, <emu-val>"always"</emu-val>, <emu-val>"exceptZero"</emu-val>, <emu-val>"negative"</emu-val>&nbsp;», <emu-val>"auto"</emu-val>).</li><li>Set <var>numberFormat</var>.<var class="field">[[SignDisplay]]</var> to <var>signDisplay</var>.</li><li>If the implementation supports the normative optional <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> mode of <emu-xref href="#legacy-constructor" id="_ref_131"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref>, then<ol><li>Let <var>this</var> be the <emu-val>this</emu-val> value.</li><li>Return ?&nbsp;<emu-xref aoid="ChainNumberFormat" id="_ref_844"><a href="#sec-chainnumberformat">ChainNumberFormat</a></emu-xref>(<var>numberFormat</var>, NewTarget, <var>this</var>).</li></ol></li><li>Return <var>numberFormat</var>.</li></ol></emu-alg>

      <emu-clause id="sec-chainnumberformat" type="abstract operation" normative-optional="" aoid="ChainNumberFormat"><div class="attributes-tag"><emu-xref href="#sec-conformance"><a href="https://tc39.es/ecma262/#sec-conformance">Normative Optional</a></emu-xref></div>
        <h1><span class="secnum">16.1.1.1</span> ChainNumberFormat ( <var>numberFormat</var>, <var>newTarget</var>, <var>this</var> )</h1>
        <p>The abstract operation ChainNumberFormat takes arguments <var>numberFormat</var> (an Intl.NumberFormat), <var>newTarget</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>), and <var>this</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an Object or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
        <emu-alg><ol><li>If <var>newTarget</var> is <emu-val>undefined</emu-val> and ?&nbsp;<emu-xref aoid="OrdinaryHasInstance"><a href="https://tc39.es/ecma262/#sec-ordinaryhasinstance">OrdinaryHasInstance</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_845"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, <var>this</var>) is <emu-val>true</emu-val>, then<ol><li>Perform ?&nbsp;<emu-xref aoid="DefinePropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-definepropertyorthrow">DefinePropertyOrThrow</a></emu-xref>(<var>this</var>, <emu-xref href="#intl-object" id="_ref_846"><a href="#intl-object">%Intl%</a></emu-xref>.<var class="field">[[FallbackSymbol]]</var>, PropertyDescriptor{ <var class="field">[[Value]]</var>: <var>numberFormat</var>, <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val>&nbsp;}).</li><li>Return <var>this</var>.</li></ol></li><li>Return <var>numberFormat</var>.</li></ol></emu-alg>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-setnumberformatdigitoptions" oldids="sec-setnfdigitoptions" type="abstract operation" aoid="SetNumberFormatDigitOptions"><span id="sec-setnfdigitoptions"></span>
      <h1><span class="secnum">16.1.2</span> SetNumberFormatDigitOptions ( <var>intlObj</var>, <var>options</var>, <var>mnfdDefault</var>, <var>mxfdDefault</var>, <var>notation</var> )</h1>
      <p>The abstract operation SetNumberFormatDigitOptions takes arguments <var>intlObj</var> (an Object), <var>options</var> (an Object), <var>mnfdDefault</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), <var>mxfdDefault</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), and <var>notation</var> (a String) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> <emu-const>unused</emu-const> or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It populates the internal slots of <var>intlObj</var> that affect locale-independent number rounding (see <emu-xref href="#sec-formatnumerictostring" id="_ref_132"><a href="#sec-formatnumerictostring">16.5.3</a></emu-xref>). It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>mnid</var> be ?&nbsp;<emu-xref aoid="GetNumberOption" id="_ref_847"><a href="#sec-getnumberoption">GetNumberOption</a></emu-xref>(<var>options</var>, <emu-val>"minimumIntegerDigits,"</emu-val>, 1, 21, 1).</li><li>Let <var>mnfd</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <emu-val>"minimumFractionDigits"</emu-val>).</li><li>Let <var>mxfd</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <emu-val>"maximumFractionDigits"</emu-val>).</li><li>Let <var>mnsd</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <emu-val>"minimumSignificantDigits"</emu-val>).</li><li>Let <var>mxsd</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>options</var>, <emu-val>"maximumSignificantDigits"</emu-val>).</li><li>Set <var>intlObj</var>.<var class="field">[[MinimumIntegerDigits]]</var> to <var>mnid</var>.</li><li>Let <var>roundingIncrement</var> be ?&nbsp;<emu-xref aoid="GetNumberOption" id="_ref_848"><a href="#sec-getnumberoption">GetNumberOption</a></emu-xref>(<var>options</var>, <emu-val>"roundingIncrement"</emu-val>, 1, 5000, 1).</li><li>If <var>roundingIncrement</var> is not in « 1, 2, 5, 10, 20, 25, 50, 100, 200, 250, 500, 1000, 2000, 2500, 5000&nbsp;», throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>roundingMode</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_849"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"roundingMode"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"ceil"</emu-val>, <emu-val>"floor"</emu-val>, <emu-val>"expand"</emu-val>, <emu-val>"trunc"</emu-val>, <emu-val>"halfCeil"</emu-val>, <emu-val>"halfFloor"</emu-val>, <emu-val>"halfExpand"</emu-val>, <emu-val>"halfTrunc"</emu-val>, <emu-val>"halfEven"</emu-val>&nbsp;», <emu-val>"halfExpand"</emu-val>).</li><li>Let <var>roundingPriority</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_850"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"roundingPriority"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"auto"</emu-val>, <emu-val>"morePrecision"</emu-val>, <emu-val>"lessPrecision"</emu-val>&nbsp;», <emu-val>"auto"</emu-val>).</li><li>Let <var>trailingZeroDisplay</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_851"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"trailingZeroDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"auto"</emu-val>, <emu-val>"stripIfInteger"</emu-val>&nbsp;», <emu-val>"auto"</emu-val>).</li><li>NOTE: All fields required by <emu-xref aoid="SetNumberFormatDigitOptions" id="_ref_852"><a href="#sec-setnumberformatdigitoptions">SetNumberFormatDigitOptions</a></emu-xref> have now been read from <var>options</var>. The remainder of this AO interprets the options and may throw exceptions.</li><li>If <var>roundingIncrement</var> is not 1, set <var>mxfdDefault</var> to <var>mnfdDefault</var>.</li><li>Set <var>intlObj</var>.<var class="field">[[RoundingIncrement]]</var> to <var>roundingIncrement</var>.</li><li>Set <var>intlObj</var>.<var class="field">[[RoundingMode]]</var> to <var>roundingMode</var>.</li><li>Set <var>intlObj</var>.<var class="field">[[TrailingZeroDisplay]]</var> to <var>trailingZeroDisplay</var>.</li><li>If <var>mnsd</var> is <emu-val>undefined</emu-val> and <var>mxsd</var> is <emu-val>undefined</emu-val>, let <var>hasSd</var> be <emu-val>false</emu-val>. Otherwise, let <var>hasSd</var> be <emu-val>true</emu-val>.</li><li>If <var>mnfd</var> is <emu-val>undefined</emu-val> and <var>mxfd</var> is <emu-val>undefined</emu-val>, let <var>hasFd</var> be <emu-val>false</emu-val>. Otherwise, let <var>hasFd</var> be <emu-val>true</emu-val>.</li><li>Let <var>needSd</var> be <emu-val>true</emu-val>.</li><li>Let <var>needFd</var> be <emu-val>true</emu-val>.</li><li>If <var>roundingPriority</var> is <emu-val>"auto"</emu-val>, then<ol><li>Set <var>needSd</var> to <var>hasSd</var>.</li><li>If <var>needSd</var> is <emu-val>true</emu-val>, or <var>hasFd</var> is <emu-val>false</emu-val> and <var>notation</var> is <emu-val>"compact"</emu-val>, then<ol><li>Set <var>needFd</var> to <emu-val>false</emu-val>.</li></ol></li></ol></li><li>If <var>needSd</var> is <emu-val>true</emu-val>, then<ol><li>If <var>hasSd</var> is <emu-val>true</emu-val>, then<ol><li>Set <var>intlObj</var>.<var class="field">[[MinimumSignificantDigits]]</var> to ?&nbsp;<emu-xref aoid="DefaultNumberOption" id="_ref_853"><a href="#sec-defaultnumberoption">DefaultNumberOption</a></emu-xref>(<var>mnsd</var>, 1, 21, 1).</li><li>Set <var>intlObj</var>.<var class="field">[[MaximumSignificantDigits]]</var> to ?&nbsp;<emu-xref aoid="DefaultNumberOption" id="_ref_854"><a href="#sec-defaultnumberoption">DefaultNumberOption</a></emu-xref>(<var>mxsd</var>, <var>intlObj</var>.<var class="field">[[MinimumSignificantDigits]]</var>, 21, 21).</li></ol></li><li>Else,<ol><li>Set <var>intlObj</var>.<var class="field">[[MinimumSignificantDigits]]</var> to 1.</li><li>Set <var>intlObj</var>.<var class="field">[[MaximumSignificantDigits]]</var> to 21.</li></ol></li></ol></li><li>If <var>needFd</var> is <emu-val>true</emu-val>, then<ol><li>If <var>hasFd</var> is <emu-val>true</emu-val>, then<ol><li>Set <var>mnfd</var> to ?&nbsp;<emu-xref aoid="DefaultNumberOption" id="_ref_855"><a href="#sec-defaultnumberoption">DefaultNumberOption</a></emu-xref>(<var>mnfd</var>, 0, 100, <emu-val>undefined</emu-val>).</li><li>Set <var>mxfd</var> to ?&nbsp;<emu-xref aoid="DefaultNumberOption" id="_ref_856"><a href="#sec-defaultnumberoption">DefaultNumberOption</a></emu-xref>(<var>mxfd</var>, 0, 100, <emu-val>undefined</emu-val>).</li><li>If <var>mnfd</var> is <emu-val>undefined</emu-val>, set <var>mnfd</var> to <emu-xref aoid="min"><a href="https://tc39.es/ecma262/#eqn-min">min</a></emu-xref>(<var>mnfdDefault</var>, <var>mxfd</var>).</li><li>Else if <var>mxfd</var> is <emu-val>undefined</emu-val>, set <var>mxfd</var> to <emu-xref aoid="max"><a href="https://tc39.es/ecma262/#eqn-max">max</a></emu-xref>(<var>mxfdDefault</var>, <var>mnfd</var>).</li><li>Else if <var>mnfd</var> is greater than <var>mxfd</var>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Set <var>intlObj</var>.<var class="field">[[MinimumFractionDigits]]</var> to <var>mnfd</var>.</li><li>Set <var>intlObj</var>.<var class="field">[[MaximumFractionDigits]]</var> to <var>mxfd</var>.</li></ol></li><li>Else,<ol><li>Set <var>intlObj</var>.<var class="field">[[MinimumFractionDigits]]</var> to <var>mnfdDefault</var>.</li><li>Set <var>intlObj</var>.<var class="field">[[MaximumFractionDigits]]</var> to <var>mxfdDefault</var>.</li></ol></li></ol></li><li>If <var>needSd</var> is <emu-val>false</emu-val> and <var>needFd</var> is <emu-val>false</emu-val>, then<ol><li>Set <var>intlObj</var>.<var class="field">[[MinimumFractionDigits]]</var> to 0.</li><li>Set <var>intlObj</var>.<var class="field">[[MaximumFractionDigits]]</var> to 0.</li><li>Set <var>intlObj</var>.<var class="field">[[MinimumSignificantDigits]]</var> to 1.</li><li>Set <var>intlObj</var>.<var class="field">[[MaximumSignificantDigits]]</var> to 2.</li><li>Set <var>intlObj</var>.<var class="field">[[RoundingType]]</var> to <emu-const>more-precision</emu-const>.</li><li>Set <var>intlObj</var>.<var class="field">[[ComputedRoundingPriority]]</var> to <emu-val>"morePrecision"</emu-val>.</li></ol></li><li>Else if <var>roundingPriority</var> is <emu-val>"morePrecision"</emu-val>, then<ol><li>Set <var>intlObj</var>.<var class="field">[[RoundingType]]</var> to <emu-const>more-precision</emu-const>.</li><li>Set <var>intlObj</var>.<var class="field">[[ComputedRoundingPriority]]</var> to <emu-val>"morePrecision"</emu-val>.</li></ol></li><li>Else if <var>roundingPriority</var> is <emu-val>"lessPrecision"</emu-val>, then<ol><li>Set <var>intlObj</var>.<var class="field">[[RoundingType]]</var> to <emu-const>less-precision</emu-const>.</li><li>Set <var>intlObj</var>.<var class="field">[[ComputedRoundingPriority]]</var> to <emu-val>"lessPrecision"</emu-val>.</li></ol></li><li>Else if <var>hasSd</var> is <emu-val>true</emu-val>, then<ol><li>Set <var>intlObj</var>.<var class="field">[[RoundingType]]</var> to <emu-const>significant-digits</emu-const>.</li><li>Set <var>intlObj</var>.<var class="field">[[ComputedRoundingPriority]]</var> to <emu-val>"auto"</emu-val>.</li></ol></li><li>Else,<ol><li>Set <var>intlObj</var>.<var class="field">[[RoundingType]]</var> to <emu-const>fraction-digits</emu-const>.</li><li>Set <var>intlObj</var>.<var class="field">[[ComputedRoundingPriority]]</var> to <emu-val>"auto"</emu-val>.</li></ol></li><li>If <var>roundingIncrement</var> is not 1, then<ol><li>If <var>intlObj</var>.<var class="field">[[RoundingType]]</var> is not <emu-const>fraction-digits</emu-const>, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <var>intlObj</var>.<var class="field">[[MaximumFractionDigits]]</var> is not <var>intlObj</var>.<var class="field">[[MinimumFractionDigits]]</var>, throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>Return <emu-const>unused</emu-const>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-setnumberformatunitoptions" type="abstract operation" aoid="SetNumberFormatUnitOptions">
      <h1><span class="secnum">16.1.3</span> SetNumberFormatUnitOptions ( <var>intlObj</var>, <var>options</var> )</h1>
      <p>The abstract operation SetNumberFormatUnitOptions takes arguments <var>intlObj</var> (an Intl.NumberFormat) and <var>options</var> (an Object) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> <emu-const>unused</emu-const> or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It resolves the user-specified options relating to units onto <var>intlObj</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>style</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_857"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"style"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"decimal"</emu-val>, <emu-val>"percent"</emu-val>, <emu-val>"currency"</emu-val>, <emu-val>"unit"</emu-val>&nbsp;», <emu-val>"decimal"</emu-val>).</li><li>Set <var>intlObj</var>.<var class="field">[[Style]]</var> to <var>style</var>.</li><li>Let <var>currency</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_858"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"currency"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-val>undefined</emu-val>).</li><li>If <var>currency</var> is <emu-val>undefined</emu-val>, then<ol><li>If <var>style</var> is <emu-val>"currency"</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li></ol></li><li>Else,<ol><li>If <emu-xref aoid="IsWellFormedCurrencyCode" id="_ref_859"><a href="#sec-iswellformedcurrencycode">IsWellFormedCurrencyCode</a></emu-xref>(<var>currency</var>) is <emu-val>false</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>Let <var>currencyDisplay</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_860"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"currencyDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"code"</emu-val>, <emu-val>"symbol"</emu-val>, <emu-val>"narrowSymbol"</emu-val>, <emu-val>"name"</emu-val>&nbsp;», <emu-val>"symbol"</emu-val>).</li><li>Let <var>currencySign</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_861"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"currencySign"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"standard"</emu-val>, <emu-val>"accounting"</emu-val>&nbsp;», <emu-val>"standard"</emu-val>).</li><li>Let <var>unit</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_862"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"unit"</emu-val>, <emu-const>string</emu-const>, <emu-const>empty</emu-const>, <emu-val>undefined</emu-val>).</li><li>If <var>unit</var> is <emu-val>undefined</emu-val>, then<ol><li>If <var>style</var> is <emu-val>"unit"</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li></ol></li><li>Else,<ol><li>If <emu-xref aoid="IsWellFormedUnitIdentifier" id="_ref_863"><a href="#sec-iswellformedunitidentifier">IsWellFormedUnitIdentifier</a></emu-xref>(<var>unit</var>) is <emu-val>false</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li></ol></li><li>Let <var>unitDisplay</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_864"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"unitDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, <emu-val>"long"</emu-val>&nbsp;», <emu-val>"short"</emu-val>).</li><li>If <var>style</var> is <emu-val>"currency"</emu-val>, then<ol><li>Set <var>intlObj</var>.<var class="field">[[Currency]]</var> to the <emu-xref href="#sec-case-sensitivity-and-case-mapping" id="_ref_865"><a href="#sec-case-sensitivity-and-case-mapping">ASCII-uppercase</a></emu-xref> of <var>currency</var>.</li><li>Set <var>intlObj</var>.<var class="field">[[CurrencyDisplay]]</var> to <var>currencyDisplay</var>.</li><li>Set <var>intlObj</var>.<var class="field">[[CurrencySign]]</var> to <var>currencySign</var>.</li></ol></li><li>If <var>style</var> is <emu-val>"unit"</emu-val>, then<ol><li>Set <var>intlObj</var>.<var class="field">[[Unit]]</var> to <var>unit</var>.</li><li>Set <var>intlObj</var>.<var class="field">[[UnitDisplay]]</var> to <var>unitDisplay</var>.</li></ol></li><li>Return <emu-const>unused</emu-const>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-numberformat-constructor">
    <h1><span class="secnum">16.2</span> Properties of the Intl.NumberFormat Constructor</h1>

    <p>The Intl.NumberFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref>.</li>
      <li>has the following properties:</li>
    </ul>

    <emu-clause id="sec-intl.numberformat.prototype">
      <h1><span class="secnum">16.2.1</span> Intl.NumberFormat.prototype</h1>

      <p>The value of <code>Intl.NumberFormat.prototype</code> is <emu-xref href="#sec-properties-of-intl-numberformat-prototype-object" id="_ref_866"><a href="#sec-properties-of-intl-numberformat-prototype-object">%Intl.NumberFormat.prototype%</a></emu-xref>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> }.</p>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.supportedlocalesof">
      <h1><span class="secnum">16.2.2</span> Intl.NumberFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p>When the <code>supportedLocalesOf</code> method is called with arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>availableLocales</var> be <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_867"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var>.</li><li>Let <var>requestedLocales</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_868"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_869"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat-internal-slots">
      <h1><span class="secnum">16.2.3</span> Internal slots</h1>

      <p>The value of the <var class="field">[[AvailableLocales]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_133"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

      <p>The value of the <var class="field">[[RelevantExtensionKeys]]</var> internal slot is « <emu-val>"nu"</emu-val> ».</p>

      <p>The value of the <var class="field">[[ResolutionOptionDescriptors]]</var> internal slot is « { <var class="field">[[Key]]</var>: <emu-val>"nu"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"numberingSystem"</emu-val> } ».</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode Technical Standard #35 Part 1 Core, Section 3.6.1 Key and Type Definitions</a> describes three locale extension keys that are relevant to number formatting: <emu-val>"cu"</emu-val> for currency, <emu-val>"cf"</emu-val> for currency format style, and <emu-val>"nu"</emu-val> for numbering system. Intl.NumberFormat, however, requires that the currency of a currency format is specified through the currency property in the options objects, and the currency format style of a currency format is specified through the currencySign property in the options objects.
      </div></emu-note>

      <p>The value of the <var class="field">[[LocaleData]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_134"><a href="#sec-internal-slots">9.1</a></emu-xref> and the following additional constraints:</p>

      <ul>
        <li>The <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> that is the value of the <emu-val>"nu"</emu-val> field of any locale field of <var class="field">[[LocaleData]]</var> must not include the values <emu-val>"native"</emu-val>, <emu-val>"traditio"</emu-val>, or <emu-val>"finance"</emu-val>.</li>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] must have a <var class="field">[[patterns]]</var> field for all locale values <var>locale</var>. The value of this field must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>, which must have fields with the names of the four number format styles: <emu-val>"decimal"</emu-val>, <emu-val>"percent"</emu-val>, <emu-val>"currency"</emu-val>, and <emu-val>"unit"</emu-val>.</li>
        <li>
          The two fields <emu-val>"currency"</emu-val> and <emu-val>"unit"</emu-val> noted above must be <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with at least one field, <emu-val>"fallback"</emu-val>.
          The <emu-val>"currency"</emu-val> may have additional fields with keys corresponding to currency codes according to <emu-xref href="#sec-currency-codes" id="_ref_135"><a href="#sec-currency-codes">6.3</a></emu-xref>.
          Each field of <emu-val>"currency"</emu-val> must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields corresponding to the possible currencyDisplay values: <emu-val>"code"</emu-val>, <emu-val>"symbol"</emu-val>, <emu-val>"narrowSymbol"</emu-val>, and <emu-val>"name"</emu-val>.
          Each of those fields must contain a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields corresponding to the possible currencySign values: <emu-val>"standard"</emu-val> or <emu-val>"accounting"</emu-val>. The <emu-val>"unit"</emu-val> field (of <var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]]) may have additional fields beyond the required field <emu-val>"fallback"</emu-val> with keys corresponding to core measurement unit identifiers corresponding to <emu-xref href="#sec-measurement-unit-identifiers" id="_ref_136"><a href="#sec-measurement-unit-identifiers">6.6</a></emu-xref>.
          Each field of <emu-val>"unit"</emu-val> must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields corresponding to the possible unitDisplay values: <emu-val>"narrow"</emu-val>, <emu-val>"short"</emu-val>, and <emu-val>"long"</emu-val>.
        </li>
        <li>All of the leaf fields so far described for the patterns tree (<emu-val>"decimal"</emu-val>, <emu-val>"percent"</emu-val>, great-grandchildren of <emu-val>"currency"</emu-val>, and grandchildren of <emu-val>"unit"</emu-val>) must be <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with the keys <emu-val>"positivePattern"</emu-val>, <emu-val>"zeroPattern"</emu-val>, and <emu-val>"negativePattern"</emu-val>.</li>
        <li>
          The value of the aforementioned fields (the sign-dependent pattern fields) must be string values that must contain the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{number}"</emu-val>.
          <emu-val>"positivePattern"</emu-val> must contain the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{plusSign}"</emu-val> but not <emu-val>"{minusSign}"</emu-val>; <emu-val>"negativePattern"</emu-val> must contain the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{minusSign}"</emu-val> but not <emu-val>"{plusSign}"</emu-val>; and <emu-val>"zeroPattern"</emu-val> must not contain either <emu-val>"{plusSign}"</emu-val> or <emu-val>"{minusSign}"</emu-val>.
          Additionally, the values within the <emu-val>"percent"</emu-val> field must also contain the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{percentSign}"</emu-val>; the values within the <emu-val>"currency"</emu-val> field must also contain one or more of the following substrings: <emu-val>"{currencyCode}"</emu-val>, <emu-val>"{currencyPrefix}"</emu-val>, or <emu-val>"{currencySuffix}"</emu-val>; and the values within the <emu-val>"unit"</emu-val> field must also contain one or more of the following substrings: <emu-val>"{unitPrefix}"</emu-val> or <emu-val>"{unitSuffix}"</emu-val>.
          The pattern strings, when interpreted as a sequence of UTF-16 encoded code points as described in <emu-xref href="#ecma262" id="_ref_870"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">6.1.4</a></emu-xref>, must not contain any code points in the General Category "Number, decimal digit" as specified by the Unicode Standard.
        </li>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] must also have a <var class="field">[[notationSubPatterns]]</var> field for all locale values <var>locale</var>. The value of this field must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref>, which must have two fields: <var class="field">[[scientific]]</var> and <var class="field">[[compact]]</var>. The <var class="field">[[scientific]]</var> field must be a string value containing the substrings <emu-val>"{number}"</emu-val>, <emu-val>"{scientificSeparator}"</emu-val>, and <emu-val>"{scientificExponent}"</emu-val>. The <var class="field">[[compact]]</var> field must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with two fields: <emu-val>"short"</emu-val> and <emu-val>"long"</emu-val>. Each of these fields must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> keys corresponding to all discrete magnitudes the implementation supports for compact notation. Each of these fields must be a string value which may contain the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{number}"</emu-val>. Strings descended from <emu-val>"short"</emu-val> must contain the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{compactSymbol}"</emu-val>, and strings descended from <emu-val>"long"</emu-val> must contain the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> <emu-val>"{compactName}"</emu-val>.</li>
      </ul>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        It is recommended that implementations use the locale data provided by the Common Locale Data Repository (available at <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>).
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-numberformat-prototype-object">
    <h1><span class="secnum">16.3</span> Properties of the Intl.NumberFormat Prototype Object</h1>

    <p>The <dfn tabindex="-1">Intl.NumberFormat prototype object</dfn>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.NumberFormat.prototype%</dfn>.</li>
      <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
      <li>is not an Intl.NumberFormat instance and does not have an <var class="field">[[InitializedNumberFormat]]</var> internal slot or any of the other internal slots of Intl.NumberFormat instance objects.</li>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>.</li>
    </ul>

    <emu-clause id="sec-intl.numberformat.prototype.constructor">
      <h1><span class="secnum">16.3.1</span> Intl.NumberFormat.prototype.constructor</h1>

      <p>The initial value of <code>Intl.NumberFormat.prototype.constructor</code> is <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_871"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.prototype.resolvedoptions">
      <h1><span class="secnum">16.3.2</span> Intl.NumberFormat.prototype.resolvedOptions ( )</h1>

      <p>This function provides access to the locale and options computed during initialization of the object.</p>

      <emu-alg><ol><li>Let <var>nf</var> be the <emu-val>this</emu-val> value.</li><li>If the implementation supports the normative optional <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> mode of <emu-xref href="#legacy-constructor" id="_ref_137"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref>, then<ol><li>Set <var>nf</var> to ?&nbsp;<emu-xref aoid="UnwrapNumberFormat" id="_ref_872"><a href="#sec-unwrapnumberformat">UnwrapNumberFormat</a></emu-xref>(<var>nf</var>).</li></ol></li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>nf</var>, <var class="field">[[InitializedNumberFormat]]</var>).</li><li>Let <var>options</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>For each row of <emu-xref href="#table-numberformat-resolvedoptions-properties" id="_ref_138"><a href="#table-numberformat-resolvedoptions-properties">Table 26</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>p</var> be the Property value of the current row.</li><li>Let <var>v</var> be the value of <var>nf</var>'s internal slot whose name is the Internal Slot value of the current row.</li><li>If <var>v</var> is not <emu-val>undefined</emu-val>, then<ol><li>If there is a Conversion value in the current row, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: The Conversion value of the current row is <emu-const>number</emu-const>.</li><li>Set <var>v</var> to <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>v</var>).</li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>).</li></ol></li></ol></li><li>Return <var>options</var>.</li></ol></emu-alg>

      <emu-table id="table-numberformat-resolvedoptions-properties"><figure><figcaption>Table 26: Resolved Options of NumberFormat Instances</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Property</th>
              <th>Conversion</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[NumberingSystem]]</var></td>
            <td><emu-val>"numberingSystem"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Style]]</var></td>
            <td><emu-val>"style"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Currency]]</var></td>
            <td><emu-val>"currency"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[CurrencyDisplay]]</var></td>
            <td><emu-val>"currencyDisplay"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[CurrencySign]]</var></td>
            <td><emu-val>"currencySign"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Unit]]</var></td>
            <td><emu-val>"unit"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[UnitDisplay]]</var></td>
            <td><emu-val>"unitDisplay"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[MinimumIntegerDigits]]</var></td>
            <td><emu-val>"minimumIntegerDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MinimumFractionDigits]]</var></td>
            <td><emu-val>"minimumFractionDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MaximumFractionDigits]]</var></td>
            <td><emu-val>"maximumFractionDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MinimumSignificantDigits]]</var></td>
            <td><emu-val>"minimumSignificantDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MaximumSignificantDigits]]</var></td>
            <td><emu-val>"maximumSignificantDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[UseGrouping]]</var></td>
            <td><emu-val>"useGrouping"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Notation]]</var></td>
            <td><emu-val>"notation"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[CompactDisplay]]</var></td>
            <td><emu-val>"compactDisplay"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[SignDisplay]]</var></td>
            <td><emu-val>"signDisplay"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[RoundingIncrement]]</var></td>
            <td><emu-val>"roundingIncrement"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[RoundingMode]]</var></td>
            <td><emu-val>"roundingMode"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[ComputedRoundingPriority]]</var></td>
            <td><emu-val>"roundingPriority"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[TrailingZeroDisplay]]</var></td>
            <td><emu-val>"trailingZeroDisplay"</emu-val></td>
            <td></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.prototype.format">
      <h1><span class="secnum">16.3.3</span> get Intl.NumberFormat.prototype.format</h1>

      <p>Intl.NumberFormat.prototype.format is an <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">accessor property</a></emu-xref> whose set accessor function is <emu-val>undefined</emu-val>. Its get accessor function performs the following steps:</p>

      <emu-alg><ol><li>Let <var>nf</var> be the <emu-val>this</emu-val> value.</li><li>If the implementation supports the normative optional <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> mode of <emu-xref href="#legacy-constructor" id="_ref_139"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref>, then<ol><li>Set <var>nf</var> to ?&nbsp;<emu-xref aoid="UnwrapNumberFormat" id="_ref_873"><a href="#sec-unwrapnumberformat">UnwrapNumberFormat</a></emu-xref>(<var>nf</var>).</li></ol></li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>nf</var>, <var class="field">[[InitializedNumberFormat]]</var>).</li><li>If <var>nf</var>.<var class="field">[[BoundFormat]]</var> is <emu-val>undefined</emu-val>, then<ol><li>Let <var>F</var> be a new built-in <emu-xref href="#function-object"><a href="https://tc39.es/ecma262/#function-object">function object</a></emu-xref> as defined in Number Format Functions (<emu-xref href="#sec-number-format-functions" id="_ref_140"><a href="#sec-number-format-functions">16.5.2</a></emu-xref>).</li><li>Set <var>F</var>.<var class="field">[[NumberFormat]]</var> to <var>nf</var>.</li><li>Set <var>nf</var>.<var class="field">[[BoundFormat]]</var> to <var>F</var>.</li></ol></li><li>Return <var>nf</var>.<var class="field">[[BoundFormat]]</var>.</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        The returned function is bound to <var>nf</var> so that it can be passed directly to <code>Array.prototype.map</code> or other functions.
        This is considered a historical artefact, as part of a convention which is no longer followed for new features, but is preserved to maintain compatibility with existing programs.
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.prototype.formatrange">
      <h1><span class="secnum">16.3.4</span> Intl.NumberFormat.prototype.formatRange ( <var>start</var>, <var>end</var> )</h1>

      <p>When the <code>formatRange</code> method is called with arguments <var>start</var> and <var>end</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>nf</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>nf</var>, <var class="field">[[InitializedNumberFormat]]</var>).</li><li>If <var>start</var> is <emu-val>undefined</emu-val> or <var>end</var> is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>x</var> be ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_874"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>start</var>).</li><li>Let <var>y</var> be ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_875"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>end</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FormatNumericRange" id="_ref_876"><a href="#sec-formatnumericrange">FormatNumericRange</a></emu-xref>(<var>nf</var>, <var>x</var>, <var>y</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.prototype.formatrangetoparts">
      <h1><span class="secnum">16.3.5</span> Intl.NumberFormat.prototype.formatRangeToParts ( <var>start</var>, <var>end</var> )</h1>

      <p>When the <code>formatRangeToParts</code> method is called with arguments <var>start</var> and <var>end</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>nf</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>nf</var>, <var class="field">[[InitializedNumberFormat]]</var>).</li><li>If <var>start</var> is <emu-val>undefined</emu-val> or <var>end</var> is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>x</var> be ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_877"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>start</var>).</li><li>Let <var>y</var> be ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_878"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>end</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FormatNumericRangeToParts" id="_ref_879"><a href="#sec-formatnumericrangetoparts">FormatNumericRangeToParts</a></emu-xref>(<var>nf</var>, <var>x</var>, <var>y</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.prototype.formattoparts">
      <h1><span class="secnum">16.3.6</span> Intl.NumberFormat.prototype.formatToParts ( <var>value</var> )</h1>

      <p>When the <code>formatToParts</code> method is called with an optional argument <var>value</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>nf</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>nf</var>, <var class="field">[[InitializedNumberFormat]]</var>).</li><li>Let <var>x</var> be ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_880"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>value</var>).</li><li>Return <emu-xref aoid="FormatNumericToParts" id="_ref_881"><a href="#sec-formatnumbertoparts">FormatNumericToParts</a></emu-xref>(<var>nf</var>, <var>x</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.numberformat.prototype-%symbol.tostringtag%" oldids="sec-intl.numberformat.prototype-@@tostringtag"><span id="sec-intl.numberformat.prototype-@@tostringtag"></span>
      <h1><span class="secnum">16.3.7</span> Intl.NumberFormat.prototype [ %Symbol.toStringTag% ]</h1>

      <p>The initial value of the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property is the String value <emu-val>"Intl.NumberFormat"</emu-val>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> }.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-numberformat-instances">
    <h1><span class="secnum">16.4</span> Properties of Intl.NumberFormat Instances</h1>

    <p>Intl.NumberFormat instances are <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary objects</a></emu-xref> that inherit properties from <emu-xref href="#sec-properties-of-intl-numberformat-prototype-object" id="_ref_882"><a href="#sec-properties-of-intl-numberformat-prototype-object">%Intl.NumberFormat.prototype%</a></emu-xref>.</p>

    <p>Intl.NumberFormat instances have an <var class="field">[[InitializedNumberFormat]]</var> internal slot.</p>

    <p>Intl.NumberFormat instances also have several internal slots that are computed by <emu-xref href="#sec-intl-numberformat-constructor" title="" id="_ref_141"><a href="#sec-intl-numberformat-constructor">The Intl.NumberFormat Constructor</a></emu-xref>:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value with the <emu-xref href="#sec-language-tags" id="_ref_883"><a href="#sec-language-tags">language tag</a></emu-xref> of the locale whose localization is used for formatting.</li>
      <li><var class="field">[[LocaleData]]</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> representing the data available to the implementation for formatting. It is the value of an entry in <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_884"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var> associated with either the value of <var class="field">[[Locale]]</var> or a prefix thereof.</li>
      <li><var class="field">[[NumberingSystem]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value representing the <a href="https://unicode.org/reports/tr35/#UnicodeNumberSystemIdentifier">Unicode Number System Identifier</a> used for formatting.</li>
      <li><var class="field">[[Style]]</var> is one of the String values <emu-val>"decimal"</emu-val>, <emu-val>"currency"</emu-val>, <emu-val>"percent"</emu-val>, or <emu-val>"unit"</emu-val>, identifying the type of quantity being measured.</li>
      <li><var class="field">[[Currency]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value with the currency code identifying the currency to be used if formatting with the <emu-val>"currency"</emu-val> unit type. It is only used when <var class="field">[[Style]]</var> has the value <emu-val>"currency"</emu-val>.</li>
      <li><var class="field">[[CurrencyDisplay]]</var> is one of the String values <emu-val>"code"</emu-val>, <emu-val>"symbol"</emu-val>, <emu-val>"narrowSymbol"</emu-val>, or <emu-val>"name"</emu-val>, specifying whether to display the currency as an ISO 4217 alphabetic currency code, a localized currency symbol, or a localized currency name if formatting with the <emu-val>"currency"</emu-val> style. It is only used when <var class="field">[[Style]]</var> has the value <emu-val>"currency"</emu-val>.</li>
      <li><var class="field">[[CurrencySign]]</var> is one of the String values <emu-val>"standard"</emu-val> or <emu-val>"accounting"</emu-val>, specifying whether to render negative numbers in accounting format, often signified by parenthesis. It is only used when <var class="field">[[Style]]</var> has the value <emu-val>"currency"</emu-val> and when <var class="field">[[SignDisplay]]</var> is not <emu-val>"never"</emu-val>.</li>
      <li><var class="field">[[Unit]]</var> is a <emu-xref href="#sec-measurement-unit-identifiers" id="_ref_885"><a href="#sec-measurement-unit-identifiers">core unit identifier</a></emu-xref>. It is only used when <var class="field">[[Style]]</var> has the value <emu-val>"unit"</emu-val>.</li>
      <li><var class="field">[[UnitDisplay]]</var> is one of the String values <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>, or <emu-val>"long"</emu-val>, specifying whether to display the unit as a symbol, narrow symbol, or localized long name if formatting with the <emu-val>"unit"</emu-val> style. It is only used when <var class="field">[[Style]]</var> has the value <emu-val>"unit"</emu-val>.</li>
      <li><var class="field">[[MinimumIntegerDigits]]</var> is a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> indicating the minimum <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> digits to be used. Numbers will be padded with leading zeroes if necessary.</li>
      <li><var class="field">[[MinimumFractionDigits]]</var> and <var class="field">[[MaximumFractionDigits]]</var> are non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integers</a></emu-xref> indicating the minimum and maximum fraction digits to be used. Numbers will be rounded or padded with trailing zeroes if necessary. These properties are only used when <var class="field">[[RoundingType]]</var> is <emu-const>fraction-digits</emu-const>, <emu-const>more-precision</emu-const>, or <emu-const>less-precision</emu-const>.</li>
      <li><var class="field">[[MinimumSignificantDigits]]</var> and <var class="field">[[MaximumSignificantDigits]]</var> are positive <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integers</a></emu-xref> indicating the minimum and maximum fraction digits to be shown. If present, the formatter uses however many fraction digits are required to display the specified number of significant digits. These properties are only used when <var class="field">[[RoundingType]]</var> is <emu-const>significant-digits</emu-const>, <emu-const>more-precision</emu-const>, or <emu-const>less-precision</emu-const>.</li>
      <li><var class="field">[[UseGrouping]]</var> <emu-xref href="#sec-ecmascript-language-types-boolean-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-boolean-type">is a Boolean</a></emu-xref> or String value indicating the conditions under which a grouping separator should be used. The positions of grouping separators, and whether to display grouping separators for a formatted number, is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref>. A value <emu-val>"always"</emu-val> hints the implementation to display grouping separators if possible; <emu-val>"min2"</emu-val>, if there are at least 2 digits in a group; <emu-val>"auto"</emu-val>, if the locale prefers to use grouping separators for the formatted number. A value <emu-val>false</emu-val> disables grouping separators.</li>
      <li><var class="field">[[RoundingType]]</var> is one of the values <emu-const>fraction-digits</emu-const>, <emu-const>significant-digits</emu-const>, <emu-const>more-precision</emu-const>, or <emu-const>less-precision</emu-const>, indicating which rounding strategy to use. If <emu-const>fraction-digits</emu-const>, formatted numbers are rounded according to <var class="field">[[MinimumFractionDigits]]</var> and <var class="field">[[MaximumFractionDigits]]</var>, as described above. If <emu-const>significant-digits</emu-const>, formatted numbers are rounded according to <var class="field">[[MinimumSignificantDigits]]</var> and <var class="field">[[MaximumSignificantDigits]]</var> as described above. If <emu-const>more-precision</emu-const> or <emu-const>less-precision</emu-const>, all four of those settings are used, with specific rules for disambiguating when to use one set versus the other. <var class="field">[[RoundingType]]</var> is derived from the <emu-val>"roundingPriority"</emu-val> option.</li>
      <li><var class="field">[[ComputedRoundingPriority]]</var> is one of the String values <emu-val>"auto"</emu-val>, <emu-val>"morePrecision"</emu-val>, or <emu-val>"lessPrecision"</emu-val>. It is only used in <emu-xref href="#sec-intl.numberformat.prototype.resolvedoptions" id="_ref_142"><a href="#sec-intl.numberformat.prototype.resolvedoptions">16.3.2</a></emu-xref> to convert <var class="field">[[RoundingType]]</var> back to a valid <emu-val>"roundingPriority"</emu-val> option.</li>
      <li><var class="field">[[Notation]]</var> is one of the String values <emu-val>"standard"</emu-val>, <emu-val>"scientific"</emu-val>, <emu-val>"engineering"</emu-val>, or <emu-val>"compact"</emu-val>, specifying whether the formatted number should be displayed without scaling, scaled to the units place with the power of ten in scientific notation, scaled to the nearest thousand with the power of ten in scientific notation, or scaled to the nearest <emu-xref href="#sec-implementation-dependencies" id="_ref_886"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> compact decimal notation power of ten with the corresponding compact decimal notation affix.</li>
      <li><var class="field">[[CompactDisplay]]</var> is one of the String values <emu-val>"short"</emu-val> or <emu-val>"long"</emu-val>, specifying whether to display compact notation affixes in short form ("5K") or long form ("5 thousand") if formatting with the <emu-val>"compact"</emu-val> notation. It is only used when <var class="field">[[Notation]]</var> has the value <emu-val>"compact"</emu-val>.</li>
      <li>
        <var class="field">[[SignDisplay]]</var> is one of the String values <emu-val>"auto"</emu-val>, <emu-val>"always"</emu-val>, <emu-val>"never"</emu-val>, <emu-val>"exceptZero"</emu-val>, or <emu-val>"negative"</emu-val>, specifying when to include a sign (with non-<emu-val>"auto"</emu-val> options respectively corresponding with inclusion always, never, only for non-zero numbers, or only for non-zero negative numbers).
        In scientific notation, this slot affects the sign display of the mantissa but not the exponent.
      </li>
      <li><var class="field">[[RoundingIncrement]]</var> is an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> that evenly divides 10, 100, 1000, or 10000 into tenths, fifths, quarters, or halves. It indicates the increment at which rounding should take place relative to the calculated rounding magnitude. For example, if <var class="field">[[MaximumFractionDigits]]</var> is 2 and <var class="field">[[RoundingIncrement]]</var> is 5, then formatted numbers are rounded to the nearest 0.05 ("nickel rounding").</li>
      <li><var class="field">[[RoundingMode]]</var> is a <dfn id="rounding-mode" tabindex="-1">rounding mode</dfn>, one of the String values in the Identifier column of <emu-xref href="#table-intl-rounding-modes" id="_ref_143"><a href="#table-intl-rounding-modes">Table 27</a></emu-xref>.</li>
      <li><var class="field">[[TrailingZeroDisplay]]</var> is one of the String values <emu-val>"auto"</emu-val> or <emu-val>"stripIfInteger"</emu-val>, indicating whether to strip trailing zeros if the formatted number is an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> (i.e., has no non-zero fraction digit).</li>
    </ul>

    <emu-table id="table-intl-rounding-modes"><figure><figcaption>Table 27: Rounding modes in Intl.NumberFormat</figcaption>
      
      <table class="real-table">
        <thead>
          <tr>
            <th rowspan="2">Identifier</th>
            <th rowspan="2">Description</th>
            <th colspan="5">Examples: Round to 0 fraction digits</th>
          </tr>
          <tr>
            <th>-1.5</th>
            <th>0.4</th>
            <th>0.5</th>
            <th>0.6</th>
            <th>1.5</th>
          </tr>
        </thead>
        <tbody><tr>
          <td><emu-val>"ceil"</emu-val></td>
          <td>Toward positive infinity</td>
          <td>⬆️ [-1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [2]</td>
        </tr>
        <tr>
          <td><emu-val>"floor"</emu-val></td>
          <td>Toward negative infinity</td>
          <td>⬇️ [-2]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [1]</td>
        </tr>
        <tr>
          <td><emu-val>"expand"</emu-val></td>
          <td>Away from zero</td>
          <td>⬇️ [-2]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [2]</td>
        </tr>
        <tr>
          <td><emu-val>"trunc"</emu-val></td>
          <td>Toward zero</td>
          <td>⬆️ [-1]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [1]</td>
        </tr>
        <tr>
          <td><emu-val>"halfCeil"</emu-val></td>
          <td>Ties toward positive infinity</td>
          <td>⬆️ [-1]</td>
          <td>⬇️ [0]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [2]</td>
        </tr>
        <tr>
          <td><emu-val>"halfFloor"</emu-val></td>
          <td>Ties toward negative infinity</td>
          <td>⬇️ [-2]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬆️ [1]</td>
          <td>⬇️ [1]</td>
        </tr>
        <tr>
          <td><emu-val>"halfExpand"</emu-val></td>
          <td>Ties away from zero</td>
          <td>⬇️ [-2]</td>
          <td>⬇️ [0]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [2]</td>
        </tr>
        <tr>
          <td><emu-val>"halfTrunc"</emu-val></td>
          <td>Ties toward zero</td>
          <td>⬆️ [-1]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬆️ [1]</td>
          <td>⬇️ [1]</td>
        </tr>
        <tr>
          <td><emu-val>"halfEven"</emu-val></td>
          <td>Ties toward an even rounding increment multiple</td>
          <td>⬇️ [-2]</td>
          <td>⬇️ [0]</td>
          <td>⬇️ [0]</td>
          <td>⬆️ [1]</td>
          <td>⬆️ [2]</td>
        </tr>
      </tbody></table>
      <emu-note><span class="note">Note</span><div class="note-contents">The examples are illustrative of the unique behaviour of each option. ⬆️ means "resolves toward positive infinity"; ⬇️ means "resolves toward negative infinity".</div></emu-note>
    </figure></emu-table>

    <p>Finally, Intl.NumberFormat instances have a <var class="field">[[BoundFormat]]</var> internal slot that caches the function returned by the format accessor (<emu-xref href="#sec-intl.numberformat.prototype.format" id="_ref_144"><a href="#sec-intl.numberformat.prototype.format">16.3.3</a></emu-xref>).</p>
  </emu-clause>

  <emu-clause id="sec-numberformat-abstracts">
    <h1><span class="secnum">16.5</span> Abstract Operations for NumberFormat Objects</h1>

    <emu-clause id="sec-currencydigits" type="implementation-defined abstract operation" aoid="CurrencyDigits">
      <h1><span class="secnum">16.5.1</span> CurrencyDigits ( <var>currency</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation CurrencyDigits takes argument <var>currency</var> (a String) and returns a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>. It performs the following steps when called:</p>

      <emu-alg><ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <emu-xref aoid="IsWellFormedCurrencyCode" id="_ref_887"><a href="#sec-iswellformedcurrencycode">IsWellFormedCurrencyCode</a></emu-xref>(<var>currency</var>) is <emu-val>true</emu-val>.</li><li>Return a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> indicating the number of fractional digits used when formatting quantities of the currency corresponding to <var>currency</var>. If there is no available information on the number of digits to be used, return 2.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-number-format-functions">
      <h1><span class="secnum">16.5.2</span> Number Format Functions</h1>

      <p>A Number format function is an anonymous built-in function that has a <var class="field">[[NumberFormat]]</var> internal slot.</p>
      <p>When a Number format function <var>F</var> is called with optional argument <var>value</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>nf</var> be <var>F</var>.<var class="field">[[NumberFormat]]</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>nf</var> <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">is an Object</a></emu-xref> and <var>nf</var> has an <var class="field">[[InitializedNumberFormat]]</var> internal slot.</li><li>If <var>value</var> is not provided, let <var>value</var> be <emu-val>undefined</emu-val>.</li><li>Let <var>x</var> be ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_888"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>value</var>).</li><li>Return <emu-xref aoid="FormatNumeric" id="_ref_889"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>nf</var>, <var>x</var>).</li></ol></emu-alg>

      <p>The <emu-val>"length"</emu-val> property of a Number format function is <emu-val>1</emu-val><sub>𝔽</sub>.</p>
    </emu-clause>

    <emu-clause id="sec-formatnumerictostring" oldids="sec-formatnumberstring" type="abstract operation" aoid="FormatNumericToString"><span id="sec-formatnumberstring"></span>
      <h1><span class="secnum">16.5.3</span> FormatNumericToString ( <var>intlObject</var>, <var>x</var> )</h1>
      <p>The abstract operation FormatNumericToString takes arguments <var>intlObject</var> (an Object) and <var>x</var> (a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref> or <emu-const>negative-zero</emu-const>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields <var class="field">[[RoundedNumber]]</var> (a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref> or <emu-const>negative-zero</emu-const>) and <var class="field">[[FormattedString]]</var> (a String). It rounds <var>x</var> to an <emu-xref href="#intl-mathematical-value" id="_ref_890"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref> according to the internal slots of <var>intlObject</var>. The <var class="field">[[RoundedNumber]]</var> field contains the rounded result value and the <var class="field">[[FormattedString]]</var> field contains a String value representation of that result formatted according to the internal slots of <var>intlObject</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>intlObject</var> has <var class="field">[[RoundingMode]]</var>, <var class="field">[[RoundingType]]</var>, <var class="field">[[MinimumSignificantDigits]]</var>, <var class="field">[[MaximumSignificantDigits]]</var>, <var class="field">[[MinimumIntegerDigits]]</var>, <var class="field">[[MinimumFractionDigits]]</var>, <var class="field">[[MaximumFractionDigits]]</var>, <var class="field">[[RoundingIncrement]]</var>, and <var class="field">[[TrailingZeroDisplay]]</var> internal slots.</li><li>If <var>x</var> is <emu-const>negative-zero</emu-const>, then<ol><li>Let <var>sign</var> be <emu-const>negative</emu-const>.</li><li>Set <var>x</var> to 0.</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>x</var> is a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>.</li><li>If <var>x</var> &lt; 0, let <var>sign</var> be <emu-const>negative</emu-const>; else let <var>sign</var> be <emu-const>positive</emu-const>.</li><li>If <var>sign</var> is <emu-const>negative</emu-const>, then<ol><li>Set <var>x</var> to -<var>x</var>.</li></ol></li></ol></li><li>Let <var>unsignedRoundingMode</var> be <emu-xref aoid="GetUnsignedRoundingMode" id="_ref_891"><a href="#sec-getunsignedroundingmode">GetUnsignedRoundingMode</a></emu-xref>(<var>intlObject</var>.<var class="field">[[RoundingMode]]</var>, <var>sign</var>).</li><li>If <var>intlObject</var>.<var class="field">[[RoundingType]]</var> is <emu-const>significant-digits</emu-const>, then<ol><li>Let <var>result</var> be <emu-xref aoid="ToRawPrecision" id="_ref_892"><a href="#sec-torawprecision">ToRawPrecision</a></emu-xref>(<var>x</var>, <var>intlObject</var>.<var class="field">[[MinimumSignificantDigits]]</var>, <var>intlObject</var>.<var class="field">[[MaximumSignificantDigits]]</var>, <var>unsignedRoundingMode</var>).</li></ol></li><li>Else if <var>intlObject</var>.<var class="field">[[RoundingType]]</var> is <emu-const>fraction-digits</emu-const>, then<ol><li>Let <var>result</var> be <emu-xref aoid="ToRawFixed" id="_ref_893"><a href="#sec-torawfixed">ToRawFixed</a></emu-xref>(<var>x</var>, <var>intlObject</var>.<var class="field">[[MinimumFractionDigits]]</var>, <var>intlObject</var>.<var class="field">[[MaximumFractionDigits]]</var>, <var>intlObject</var>.<var class="field">[[RoundingIncrement]]</var>, <var>unsignedRoundingMode</var>).</li></ol></li><li>Else,<ol><li>Let <var>sResult</var> be <emu-xref aoid="ToRawPrecision" id="_ref_894"><a href="#sec-torawprecision">ToRawPrecision</a></emu-xref>(<var>x</var>, <var>intlObject</var>.<var class="field">[[MinimumSignificantDigits]]</var>, <var>intlObject</var>.<var class="field">[[MaximumSignificantDigits]]</var>, <var>unsignedRoundingMode</var>).</li><li>Let <var>fResult</var> be <emu-xref aoid="ToRawFixed" id="_ref_895"><a href="#sec-torawfixed">ToRawFixed</a></emu-xref>(<var>x</var>, <var>intlObject</var>.<var class="field">[[MinimumFractionDigits]]</var>, <var>intlObject</var>.<var class="field">[[MaximumFractionDigits]]</var>, <var>intlObject</var>.<var class="field">[[RoundingIncrement]]</var>, <var>unsignedRoundingMode</var>).</li><li>If <var>fResult</var>.<var class="field">[[RoundingMagnitude]]</var> &lt; <var>sResult</var>.<var class="field">[[RoundingMagnitude]]</var>, let <var>fixedIsMorePrecise</var> be <emu-val>true</emu-val>; else let <var>fixedIsMorePrecise</var> be <emu-val>false</emu-val>.</li><li>If <var>intlObject</var>.<var class="field">[[RoundingType]]</var> is <emu-const>more-precision</emu-const> and <var>fixedIsMorePrecise</var> is <emu-val>true</emu-val>, then<ol><li>Let <var>result</var> be <var>fResult</var>.</li></ol></li><li>Else if <var>intlObject</var>.<var class="field">[[RoundingType]]</var> is <emu-const>less-precision</emu-const> and <var>fixedIsMorePrecise</var> is <emu-val>false</emu-val>, then<ol><li>Let <var>result</var> be <var>fResult</var>.</li></ol></li><li>Else,<ol><li>Let <var>result</var> be <var>sResult</var>.</li></ol></li></ol></li><li>Set <var>x</var> to <var>result</var>.<var class="field">[[RoundedNumber]]</var>.</li><li>Let <var>string</var> be <var>result</var>.<var class="field">[[FormattedString]]</var>.</li><li>If <var>intlObject</var>.<var class="field">[[TrailingZeroDisplay]]</var> is <emu-val>"stripIfInteger"</emu-val> and <emu-eqn class="inline"><var>x</var> <emu-xref aoid="modulo"><a href="https://tc39.es/ecma262/#eqn-modulo">modulo</a></emu-xref> 1 = 0</emu-eqn>, then<ol><li>Let <var>i</var> be <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>string</var>, <emu-val>"."</emu-val>, 0).</li><li>If <var>i</var> is not <emu-const>not-found</emu-const>, set <var>string</var> to the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>string</var> from 0 to <var>i</var>.</li></ol></li><li>Let <var>int</var> be <var>result</var>.<var class="field">[[IntegerDigitsCount]]</var>.</li><li>Let <var>minInteger</var> be <var>intlObject</var>.<var class="field">[[MinimumIntegerDigits]]</var>.</li><li>If <var>int</var> &lt; <var>minInteger</var>, then<ol><li>Let <var>forwardZeros</var> be the String consisting of <var>minInteger</var> - <var>int</var> occurrences of the code unit 0x0030 (DIGIT ZERO).</li><li>Set <var>string</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>forwardZeros</var> and <var>string</var>.</li></ol></li><li>If <var>sign</var> is <emu-const>negative</emu-const>, then<ol><li>If <var>x</var> is 0, set <var>x</var> to <emu-const>negative-zero</emu-const>. Otherwise, set <var>x</var> to -<var>x</var>.</li></ol></li><li>Return the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[RoundedNumber]]</var>: <var>x</var>, <var class="field">[[FormattedString]]</var>: <var>string</var>&nbsp;}.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-partitionnumberpattern" type="abstract operation" aoid="PartitionNumberPattern">
      <h1><span class="secnum">16.5.4</span> PartitionNumberPattern ( <var>numberFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation PartitionNumberPattern takes arguments <var>numberFormat</var> (an object initialized as a NumberFormat) and <var>x</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_896"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String) and <var class="field">[[Value]]</var> (a String). It creates the parts representing the <emu-xref href="#mathematical-value-of"><a href="https://tc39.es/ecma262/#mathematical-value-of">mathematical value of</a></emu-xref> <var>x</var> according to the effective locale and the formatting options of <var>numberFormat</var>. It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>exponent</var> be 0.</li><li>If <var>x</var> is <emu-const>not-a-number</emu-const>, then<ol><li>Let <var>n</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_897"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value indicating the <emu-val>NaN</emu-val> value.</li></ol></li><li>Else if <var>x</var> is <emu-const>positive-infinity</emu-const>, then<ol><li>Let <var>n</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_898"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value indicating positive infinity.</li></ol></li><li>Else if <var>x</var> is <emu-const>negative-infinity</emu-const>, then<ol><li>Let <var>n</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_899"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value indicating negative infinity.</li></ol></li><li>Else,<ol><li>If <var>x</var> is not <emu-const>negative-zero</emu-const>, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>x</var> is a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>.</li><li>If <var>numberFormat</var>.<var class="field">[[Style]]</var> is <emu-val>"percent"</emu-val>, set <var>x</var> be 100 × <var>x</var>.</li><li>Set <var>exponent</var> to <emu-xref aoid="ComputeExponent" id="_ref_900"><a href="#sec-computeexponent">ComputeExponent</a></emu-xref>(<var>numberFormat</var>, <var>x</var>).</li><li>Set <var>x</var> to <var>x</var> × 10<sup>-<var>exponent</var></sup>.</li></ol></li><li>Let <var>formatNumberResult</var> be <emu-xref aoid="FormatNumericToString" id="_ref_901"><a href="#sec-formatnumerictostring">FormatNumericToString</a></emu-xref>(<var>numberFormat</var>, <var>x</var>).</li><li>Let <var>n</var> be <var>formatNumberResult</var>.<var class="field">[[FormattedString]]</var>.</li><li>Set <var>x</var> to <var>formatNumberResult</var>.<var class="field">[[RoundedNumber]]</var>.</li></ol></li><li>Let <var>pattern</var> be <emu-xref aoid="GetNumberFormatPattern" id="_ref_902"><a href="#sec-getnumberformatpattern">GetNumberFormatPattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>).</li><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>Let <var>patternParts</var> be <emu-xref aoid="PartitionPattern" id="_ref_903"><a href="#sec-partitionpattern">PartitionPattern</a></emu-xref>(<var>pattern</var>).</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>patternPart</var> of <var>patternParts</var>, do<ol><li>Let <var>p</var> be <var>patternPart</var>.<var class="field">[[Type]]</var>.</li><li>If <var>p</var> is <emu-val>"literal"</emu-val>, then<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>patternPart</var>.<var class="field">[[Value]]</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"number"</emu-val>, then<ol><li>Let <var>notationSubParts</var> be <emu-xref aoid="PartitionNotationSubPattern" id="_ref_904"><a href="#sec-partitionnotationsubpattern">PartitionNotationSubPattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>, <var>n</var>, <var>exponent</var>).</li><li>Set <var>result</var> to the <emu-xref href="#list-concatenation"><a href="https://tc39.es/ecma262/#list-concatenation">list-concatenation</a></emu-xref> of <var>result</var> and <var>notationSubParts</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"plusSign"</emu-val>, then<ol><li>Let <var>plusSignSymbol</var> be the <emu-xref href="#sec-implementation-dependencies" id="_ref_905"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String representing the plus sign.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"plusSign"</emu-val>, <var class="field">[[Value]]</var>: <var>plusSignSymbol</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"minusSign"</emu-val>, then<ol><li>Let <var>minusSignSymbol</var> be the <emu-xref href="#sec-implementation-dependencies" id="_ref_906"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String representing the minus sign.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"minusSign"</emu-val>, <var class="field">[[Value]]</var>: <var>minusSignSymbol</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"percentSign"</emu-val> and <var>numberFormat</var>.<var class="field">[[Style]]</var> is <emu-val>"percent"</emu-val>, then<ol><li>Let <var>percentSignSymbol</var> be the <emu-xref href="#sec-implementation-dependencies" id="_ref_907"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String representing the percent sign.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"percentSign"</emu-val>, <var class="field">[[Value]]</var>: <var>percentSignSymbol</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"unitPrefix"</emu-val> and <var>numberFormat</var>.<var class="field">[[Style]]</var> is <emu-val>"unit"</emu-val>, then<ol><li>Let <var>unit</var> be <var>numberFormat</var>.<var class="field">[[Unit]]</var>.</li><li>Let <var>unitDisplay</var> be <var>numberFormat</var>.<var class="field">[[UnitDisplay]]</var>.</li><li>Let <var>mu</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_908"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value representing <var>unit</var> before <var>x</var> in <var>unitDisplay</var> form, which may depend on <var>x</var> in languages having different plural forms.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"unit"</emu-val>, <var class="field">[[Value]]</var>: <var>mu</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"unitSuffix"</emu-val> and <var>numberFormat</var>.<var class="field">[[Style]]</var> is <emu-val>"unit"</emu-val>, then<ol><li>Let <var>unit</var> be <var>numberFormat</var>.<var class="field">[[Unit]]</var>.</li><li>Let <var>unitDisplay</var> be <var>numberFormat</var>.<var class="field">[[UnitDisplay]]</var>.</li><li>Let <var>mu</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_909"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value representing <var>unit</var> after <var>x</var> in <var>unitDisplay</var> form, which may depend on <var>x</var> in languages having different plural forms.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"unit"</emu-val>, <var class="field">[[Value]]</var>: <var>mu</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"currencyCode"</emu-val> and <var>numberFormat</var>.<var class="field">[[Style]]</var> is <emu-val>"currency"</emu-val>, then<ol><li>Let <var>currency</var> be <var>numberFormat</var>.<var class="field">[[Currency]]</var>.</li><li>Let <var>cd</var> be <var>currency</var>.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"currency"</emu-val>, <var class="field">[[Value]]</var>: <var>cd</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"currencyPrefix"</emu-val> and <var>numberFormat</var>.<var class="field">[[Style]]</var> is <emu-val>"currency"</emu-val>, then<ol><li>Let <var>currency</var> be <var>numberFormat</var>.<var class="field">[[Currency]]</var>.</li><li>Let <var>currencyDisplay</var> be <var>numberFormat</var>.<var class="field">[[CurrencyDisplay]]</var>.</li><li>Let <var>cd</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_910"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value representing <var>currency</var> before <var>x</var> in <var>currencyDisplay</var> form, which may depend on <var>x</var> in languages having different plural forms.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"currency"</emu-val>, <var class="field">[[Value]]</var>: <var>cd</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"currencySuffix"</emu-val> and <var>numberFormat</var>.<var class="field">[[Style]]</var> is <emu-val>"currency"</emu-val>, then<ol><li>Let <var>currency</var> be <var>numberFormat</var>.<var class="field">[[Currency]]</var>.</li><li>Let <var>currencyDisplay</var> be <var>numberFormat</var>.<var class="field">[[CurrencyDisplay]]</var>.</li><li>Let <var>cd</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_911"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value representing <var>currency</var> after <var>x</var> in <var>currencyDisplay</var> form, which may depend on <var>x</var> in languages having different plural forms. If the implementation does not have such a representation of <var>currency</var>, use <var>currency</var> itself.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"currency"</emu-val>, <var class="field">[[Value]]</var>: <var>cd</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else,<ol><li>Let <var>unknown</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_912"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String based on <var>x</var> and <var>p</var>.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"unknown"</emu-val>, <var class="field">[[Value]]</var>: <var>unknown</var>&nbsp;} to <var>result</var>.</li></ol></li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-partitionnotationsubpattern" type="abstract operation" aoid="PartitionNotationSubPattern">
      <h1><span class="secnum">16.5.5</span> PartitionNotationSubPattern ( <var>numberFormat</var>, <var>x</var>, <var>n</var>, <var>exponent</var> )</h1>
      <p>The abstract operation PartitionNotationSubPattern takes arguments <var>numberFormat</var> (an Intl.NumberFormat), <var>x</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_913"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>), <var>n</var> (a String), and <var>exponent</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String) and <var class="field">[[Value]]</var> (a String). 
          <var>x</var> is an <emu-xref href="#intl-mathematical-value" id="_ref_914"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref> after rounding is applied and <var>n</var> is an intermediate formatted string.
          It creates the corresponding parts for the number and notation according to the effective locale and the formatting options of <var>numberFormat</var>.
         It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>If <var>x</var> is <emu-const>not-a-number</emu-const>, then<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"nan"</emu-val>, <var class="field">[[Value]]</var>: <var>n</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>x</var> is <emu-const>positive-infinity</emu-const> or <emu-const>negative-infinity</emu-const>, then<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"infinity"</emu-val>, <var class="field">[[Value]]</var>: <var>n</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else,<ol><li>Let <var>notationSubPattern</var> be <emu-xref aoid="GetNotationSubPattern" id="_ref_915"><a href="#sec-getnotationsubpattern">GetNotationSubPattern</a></emu-xref>(<var>numberFormat</var>, <var>exponent</var>).</li><li>Let <var>patternParts</var> be <emu-xref aoid="PartitionPattern" id="_ref_916"><a href="#sec-partitionpattern">PartitionPattern</a></emu-xref>(<var>notationSubPattern</var>).</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>patternPart</var> of <var>patternParts</var>, do<ol><li>Let <var>p</var> be <var>patternPart</var>.<var class="field">[[Type]]</var>.</li><li>If <var>p</var> is <emu-val>"literal"</emu-val>, then<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>patternPart</var>.<var class="field">[[Value]]</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"number"</emu-val>, then<ol><li>If the <var>numberFormat</var>.<var class="field">[[NumberingSystem]]</var> matches one of the values in the Numbering System column of <emu-xref href="#table-numbering-system-digits" id="_ref_145"><a href="#table-numbering-system-digits">Table 28</a></emu-xref> below, then<ol><li>Let <var>digits</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> whose elements are the code points specified in the Digits column of the matching row in <emu-xref href="#table-numbering-system-digits" id="_ref_146"><a href="#table-numbering-system-digits">Table 28</a></emu-xref>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: The length of <var>digits</var> is 10.</li><li>Let <var>transliterated</var> be the empty String.</li><li>Let <var>len</var> be the length of <var>n</var>.</li><li>Let <var>position</var> be 0.</li><li>Repeat, while <var>position</var> &lt; <var>len</var>,<ol><li>Let <var>c</var> be the code unit at index <var>position</var> within <var>n</var>.</li><li>If 0x0030 ≤ <var>c</var> ≤ 0x0039, then<ol><li>NOTE: <var>c</var> is an ASCII digit.</li><li>Let <var>i</var> be <var>c</var> - 0x0030.</li><li>Set <var>c</var> to <emu-xref aoid="CodePointsToString"><a href="https://tc39.es/ecma262/#sec-codepointstostring">CodePointsToString</a></emu-xref>(« <var>digits</var>[<var>i</var>]&nbsp;»).</li></ol></li><li>Set <var>transliterated</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>transliterated</var> and <var>c</var>.</li><li>Set <var>position</var> to <var>position</var> + 1.</li></ol></li><li>Set <var>n</var> to <var>transliterated</var>.</li></ol></li><li>Else,<ol><li>Use an implementation dependent algorithm to map <var>n</var> to the appropriate representation of <var>n</var> in the given numbering system.</li></ol></li><li>Let <var>decimalSepIndex</var> be <emu-xref aoid="StringIndexOf"><a href="https://tc39.es/ecma262/#sec-stringindexof">StringIndexOf</a></emu-xref>(<var>n</var>, <emu-val>"."</emu-val>, 0).</li><li>If <var>decimalSepIndex</var> is not <emu-const>not-found</emu-const> and <var>decimalSepIndex</var> &gt; 0, then<ol><li>Let <var>integer</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>n</var> from 0 to <var>decimalSepIndex</var>.</li><li>Let <var>fraction</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>n</var> from <var>decimalSepIndex</var> + 1.</li></ol></li><li>Else,<ol><li>Let <var>integer</var> be <var>n</var>.</li><li>Let <var>fraction</var> be <emu-val>undefined</emu-val>.</li></ol></li><li>If the <var>numberFormat</var>.<var class="field">[[UseGrouping]]</var> is <emu-val>false</emu-val>, then<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"integer"</emu-val>, <var class="field">[[Value]]</var>: <var>integer</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else,<ol><li>Let <var>groupSepSymbol</var> be the <emu-xref href="#sec-implementation-dependencies" id="_ref_917"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String representing the grouping separator.</li><li>Let <var>groups</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> whose elements are, in left to right order, the substrings defined by <emu-xref href="#sec-implementation-dependencies" id="_ref_918"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> set of locations within the <var>integer</var>, which may depend on the value of <var>numberFormat</var>.<var class="field">[[UseGrouping]]</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: The number of elements in <var>groups</var> <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> is greater than 0.</li><li>Repeat, while <var>groups</var> <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> is not empty,<ol><li>Remove the first element from <var>groups</var> and let <var>integerGroup</var> be the value of that element.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"integer"</emu-val>, <var class="field">[[Value]]</var>: <var>integerGroup</var>&nbsp;} to <var>result</var>.</li><li>If <var>groups</var> <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> is not empty, then<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"group"</emu-val>, <var class="field">[[Value]]</var>: <var>groupSepSymbol</var>&nbsp;} to <var>result</var>.</li></ol></li></ol></li></ol></li><li>If <var>fraction</var> is not <emu-val>undefined</emu-val>, then<ol><li>Let <var>decimalSepSymbol</var> be the <emu-xref href="#sec-implementation-dependencies" id="_ref_919"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String representing the decimal separator.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"decimal"</emu-val>, <var class="field">[[Value]]</var>: <var>decimalSepSymbol</var>&nbsp;} to <var>result</var>.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"fraction"</emu-val>, <var class="field">[[Value]]</var>: <var>fraction</var>&nbsp;} to <var>result</var>.</li></ol></li></ol></li><li>Else if <var>p</var> is <emu-val>"compactSymbol"</emu-val>, then<ol><li>Let <var>compactSymbol</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_920"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> string representing <var>exponent</var> in short form, which may depend on <var>x</var> in languages having different plural forms. The implementation must be able to provide this string, or else the pattern would not have a <emu-val>"{compactSymbol}"</emu-val> placeholder.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"compact"</emu-val>, <var class="field">[[Value]]</var>: <var>compactSymbol</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"compactName"</emu-val>, then<ol><li>Let <var>compactName</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_921"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> string representing <var>exponent</var> in long form, which may depend on <var>x</var> in languages having different plural forms. The implementation must be able to provide this string, or else the pattern would not have a <emu-val>"{compactName}"</emu-val> placeholder.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"compact"</emu-val>, <var class="field">[[Value]]</var>: <var>compactName</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"scientificSeparator"</emu-val>, then<ol><li>Let <var>scientificSeparator</var> be the <emu-xref href="#sec-implementation-dependencies" id="_ref_922"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String representing the exponent separator.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"exponentSeparator"</emu-val>, <var class="field">[[Value]]</var>: <var>scientificSeparator</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else if <var>p</var> is <emu-val>"scientificExponent"</emu-val>, then<ol><li>If <var>exponent</var> &lt; 0, then<ol><li>Let <var>minusSignSymbol</var> be the <emu-xref href="#sec-implementation-dependencies" id="_ref_923"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String representing the minus sign.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"exponentMinusSign"</emu-val>, <var class="field">[[Value]]</var>: <var>minusSignSymbol</var>&nbsp;} to <var>result</var>.</li><li>Let <var>exponent</var> be -<var>exponent</var>.</li></ol></li><li>Let <var>exponentResult</var> be <emu-xref aoid="ToRawFixed" id="_ref_924"><a href="#sec-torawfixed">ToRawFixed</a></emu-xref>(<var>exponent</var>, 0, 0, 1, <emu-val>undefined</emu-val>).</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"exponentInteger"</emu-val>, <var class="field">[[Value]]</var>: <var>exponentResult</var>.<var class="field">[[FormattedString]]</var>&nbsp;} to <var>result</var>.</li></ol></li><li>Else,<ol><li>Let <var>unknown</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_925"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String based on <var>x</var> and <var>p</var>.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"unknown"</emu-val>, <var class="field">[[Value]]</var>: <var>unknown</var>&nbsp;} to <var>result</var>.</li></ol></li></ol></li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>

      <emu-table id="table-numbering-system-digits"><figure><figcaption>Table 28: Numbering systems with simple digit mappings</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Numbering System</th>
              <th>Digits</th>
            </tr>
          </thead>
          <tbody><tr>
            <td>adlm</td>
            <td>U+1E950 to U+1E959</td>
          </tr>
          <tr>
            <td>ahom</td>
            <td>U+11730 to U+11739</td>
          </tr>
          <tr>
            <td>arab</td>
            <td>U+0660 to U+0669</td>
          </tr>
          <tr>
            <td>arabext</td>
            <td>U+06F0 to U+06F9</td>
          </tr>
          <tr>
            <td>bali</td>
            <td>U+1B50 to U+1B59</td>
          </tr>
          <tr>
            <td>beng</td>
            <td>U+09E6 to U+09EF</td>
          </tr>
          <tr>
            <td>bhks</td>
            <td>U+11C50 to U+11C59</td>
          </tr>
          <tr>
            <td>brah</td>
            <td>U+11066 to U+1106F</td>
          </tr>
          <tr>
            <td>cakm</td>
            <td>U+11136 to U+1113F</td>
          </tr>
          <tr>
            <td>cham</td>
            <td>U+AA50 to U+AA59</td>
          </tr>
          <tr>
            <td>deva</td>
            <td>U+0966 to U+096F</td>
          </tr>
          <tr>
            <td>diak</td>
            <td>U+11950 to U+11959</td>
          </tr>
          <tr>
            <td>fullwide</td>
            <td>U+FF10 to U+FF19</td>
          </tr>
          <tr>
            <td>gara</td>
            <td>U+10D40 to U+10D49</td>
          </tr>
          <tr>
            <td>gong</td>
            <td>U+11DA0 to U+11DA9</td>
          </tr>
          <tr>
            <td>gonm</td>
            <td>U+11D50 to U+11D59</td>
          </tr>
          <tr>
            <td>gujr</td>
            <td>U+0AE6 to U+0AEF</td>
          </tr>
          <tr>
            <td>gukh</td>
            <td>U+16130 to U+16139</td>
          </tr>
          <tr>
            <td>guru</td>
            <td>U+0A66 to U+0A6F</td>
          </tr>
          <tr>
            <td>hanidec</td>
            <td>U+3007, U+4E00, U+4E8C, U+4E09, U+56DB, U+4E94, U+516D, U+4E03, U+516B, U+4E5D</td>
          </tr>
          <tr>
            <td>hmng</td>
            <td>U+16B50 to U+16B59</td>
          </tr>
          <tr>
            <td>hmnp</td>
            <td>U+1E140 to U+1E149</td>
          </tr>
          <tr>
            <td>java</td>
            <td>U+A9D0 to U+A9D9</td>
          </tr>
          <tr>
            <td>kali</td>
            <td>U+A900 to U+A909</td>
          </tr>
          <tr>
            <td>kawi</td>
            <td>U+11F50 to U+11F59</td>
          </tr>
          <tr>
            <td>khmr</td>
            <td>U+17E0 to U+17E9</td>
          </tr>
          <tr>
            <td>knda</td>
            <td>U+0CE6 to U+0CEF</td>
          </tr>
          <tr>
            <td>krai</td>
            <td>U+16D70 to U+16D79</td>
          </tr>
          <tr>
            <td>lana</td>
            <td>U+1A80 to U+1A89</td>
          </tr>
          <tr>
            <td>lanatham</td>
            <td>U+1A90 to U+1A99</td>
          </tr>
          <tr>
            <td>laoo</td>
            <td>U+0ED0 to U+0ED9</td>
          </tr>
          <tr>
            <td>latn</td>
            <td>U+0030 to U+0039</td>
          </tr>
          <tr>
            <td>lepc</td>
            <td>U+1C40 to U+1C49</td>
          </tr>
          <tr>
            <td>limb</td>
            <td>U+1946 to U+194F</td>
          </tr>
          <tr>
            <td>mathbold</td>
            <td>U+1D7CE to U+1D7D7</td>
          </tr>
          <tr>
            <td>mathdbl</td>
            <td>U+1D7D8 to U+1D7E1</td>
          </tr>
          <tr>
            <td>mathmono</td>
            <td>U+1D7F6 to U+1D7FF</td>
          </tr>
          <tr>
            <td>mathsanb</td>
            <td>U+1D7EC to U+1D7F5</td>
          </tr>
          <tr>
            <td>mathsans</td>
            <td>U+1D7E2 to U+1D7EB</td>
          </tr>
          <tr>
            <td>mlym</td>
            <td>U+0D66 to U+0D6F</td>
          </tr>
          <tr>
            <td>modi</td>
            <td>U+11650 to U+11659</td>
          </tr>
          <tr>
            <td>mong</td>
            <td>U+1810 to U+1819</td>
          </tr>
          <tr>
            <td>mroo</td>
            <td>U+16A60 to U+16A69</td>
          </tr>
          <tr>
            <td>mtei</td>
            <td>U+ABF0 to U+ABF9</td>
          </tr>
          <tr>
            <td>mymr</td>
            <td>U+1040 to U+1049</td>
          </tr>
          <tr>
            <td>mymrepka</td>
            <td>U+116DA to U+116E3</td>
          </tr>
          <tr>
            <td>mymrpao</td>
            <td>U+116D0 to U+116D9</td>
          </tr>
          <tr>
            <td>mymrshan</td>
            <td>U+1090 to U+1099</td>
          </tr>
          <tr>
            <td>mymrtlng</td>
            <td>U+A9F0 to U+A9F9</td>
          </tr>
          <tr>
            <td>nagm</td>
            <td>U+1E4F0 to U+1E4F9</td>
          </tr>
          <tr>
            <td>newa</td>
            <td>U+11450 to U+11459</td>
          </tr>
          <tr>
            <td>nkoo</td>
            <td>U+07C0 to U+07C9</td>
          </tr>
          <tr>
            <td>olck</td>
            <td>U+1C50 to U+1C59</td>
          </tr>
          <tr>
            <td>onao</td>
            <td>U+1E5F1 to U+1E5FA</td>
          </tr>
          <tr>
            <td>orya</td>
            <td>U+0B66 to U+0B6F</td>
          </tr>
          <tr>
            <td>osma</td>
            <td>U+104A0 to U+104A9</td>
          </tr>
          <tr>
            <td>outlined</td>
            <td>U+1CCF0 to U+1CCF9</td>
          </tr>
          <tr>
            <td>rohg</td>
            <td>U+10D30 to U+10D39</td>
          </tr>
          <tr>
            <td>saur</td>
            <td>U+A8D0 to U+A8D9</td>
          </tr>
          <tr>
            <td>segment</td>
            <td>U+1FBF0 to U+1FBF9</td>
          </tr>
          <tr>
            <td>shrd</td>
            <td>U+111D0 to U+111D9</td>
          </tr>
          <tr>
            <td>sind</td>
            <td>U+112F0 to U+112F9</td>
          </tr>
          <tr>
            <td>sinh</td>
            <td>U+0DE6 to U+0DEF</td>
          </tr>
          <tr>
            <td>sora</td>
            <td>U+110F0 to U+110F9</td>
          </tr>
          <tr>
            <td>sund</td>
            <td>U+1BB0 to U+1BB9</td>
          </tr>
          <tr>
            <td>sunu</td>
            <td>U+11BF0 to U+11BF9</td>
          </tr>
          <tr>
            <td>takr</td>
            <td>U+116C0 to U+116C9</td>
          </tr>
          <tr>
            <td>talu</td>
            <td>U+19D0 to U+19D9</td>
          </tr>
          <tr>
            <td>tamldec</td>
            <td>U+0BE6 to U+0BEF</td>
          </tr>
          <tr>
            <td>telu</td>
            <td>U+0C66 to U+0C6F</td>
          </tr>
          <tr>
            <td>thai</td>
            <td>U+0E50 to U+0E59</td>
          </tr>
          <tr>
            <td>tibt</td>
            <td>U+0F20 to U+0F29</td>
          </tr>
          <tr>
            <td>tirh</td>
            <td>U+114D0 to U+114D9</td>
          </tr>
          <tr>
            <td>tnsa</td>
            <td>U+16AC0 to U+16AC9</td>
          </tr>
          <tr>
            <td>vaii</td>
            <td>U+A620 to U+A629</td>
          </tr>
          <tr>
            <td>wara</td>
            <td>U+118E0 to U+118E9</td>
          </tr>
          <tr>
            <td>wcho</td>
            <td>U+1E2F0 to U+1E2F9</td>
          </tr>
        </tbody></table>
      </figure></emu-table>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        The computations rely on <emu-xref href="#sec-implementation-dependencies" id="_ref_926"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> and <emu-xref href="#sec-implementation-dependencies" id="_ref_927"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String values and locations within numeric strings that depend on the effective locale of <var>numberFormat</var>, or upon the effective locale and numbering system of <var>numberFormat</var>. The <emu-xref href="#sec-implementation-dependencies" id="_ref_928"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> and <emu-xref href="#sec-implementation-dependencies" id="_ref_929"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String values mentioned, other than those for currency names, must not contain any code points in the General Category "Number, decimal digit" as specified by the Unicode Standard.
      </div></emu-note>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        It is recommended that implementations use the locale provided by the Common Locale Data Repository (available at <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>).
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-formatnumber" type="abstract operation" aoid="FormatNumeric">
      <h1><span class="secnum">16.5.6</span> FormatNumeric ( <var>numberFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation FormatNumeric takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>x</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_930"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>) and returns a String. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>parts</var> be <emu-xref aoid="PartitionNumberPattern" id="_ref_931"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>).</li><li>Let <var>result</var> be the empty String.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do<ol><li>Set <var>result</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>result</var> and <var>part</var>.<var class="field">[[Value]]</var>.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatnumbertoparts" type="abstract operation" aoid="FormatNumericToParts">
      <h1><span class="secnum">16.5.7</span> FormatNumericToParts ( <var>numberFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation FormatNumericToParts takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>x</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_932"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>) and returns an Array. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>parts</var> be <emu-xref aoid="PartitionNumberPattern" id="_ref_933"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>).</li><li>Let <var>result</var> be !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0).</li><li>Let <var>n</var> be 0.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do<ol><li>Let <var>O</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>n</var>)), <var>O</var>).</li><li>Increment <var>n</var> by 1.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-torawprecision" type="abstract operation" aoid="ToRawPrecision">
      <h1><span class="secnum">16.5.8</span> ToRawPrecision ( <var>x</var>, <var>minPrecision</var>, <var>maxPrecision</var>, <var>unsignedRoundingMode</var> )</h1>
      <p>The abstract operation ToRawPrecision takes arguments <var>x</var> (a non-negative <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>), <var>minPrecision</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> in the <emu-xref href="#inclusive-interval"><a href="https://tc39.es/ecma262/#inclusive-interval">inclusive interval</a></emu-xref> from 1 to 21), <var>maxPrecision</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> in the <emu-xref href="#inclusive-interval"><a href="https://tc39.es/ecma262/#inclusive-interval">inclusive interval</a></emu-xref> from 1 to 21), and <var>unsignedRoundingMode</var> (a specification type from the Unsigned Rounding Mode column of <emu-xref href="#table-intl-unsigned-rounding-modes" id="_ref_147"><a href="#table-intl-unsigned-rounding-modes">Table 29</a></emu-xref>, or <emu-val>undefined</emu-val>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields <var class="field">[[FormattedString]]</var> (a String), <var class="field">[[RoundedNumber]]</var> (a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>), <var class="field">[[IntegerDigitsCount]]</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), and <var class="field">[[RoundingMagnitude]]</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>).</p>
          <p>It involves solving the following equation, which returns a valid <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref> given <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> inputs:</p>
          <emu-eqn id="eqn-ToRawPrecisionFn" aoid="ToRawPrecisionFn"><div>            ToRawPrecisionFn(<var>n</var>, <var>e</var>, <var>p</var>) = <var>n</var> × 10<sup><var>e</var>–<var>p</var>+1</sup></div><div>              where 10<sup><var>p</var>–1</sup> ≤ <var>n</var> &lt; 10<sup><var>p</var></sup></div></emu-eqn>
        
      <p>It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>p</var> be <var>maxPrecision</var>.</li><li>If <var>x</var> = 0, then<ol><li>Let <var>m</var> be the String consisting of <var>p</var> occurrences of the code unit 0x0030 (DIGIT ZERO).</li><li>Let <var>e</var> be 0.</li><li>Let <var>xFinal</var> be 0.</li></ol></li><li>Else,<ol><li declared="n1,e1,r1">Let <var>n1</var> and <var>e1</var> each be an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> and <var>r1</var> a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>, with <emu-eqn class="inline"><var>r1</var> = <emu-xref aoid="ToRawPrecisionFn" id="_ref_934"><a href="#eqn-ToRawPrecisionFn">ToRawPrecisionFn</a></emu-xref>(<var>n1</var>, <var>e1</var>, <var>p</var>)</emu-eqn>, such that <emu-eqn class="inline"><var>r1</var> ≤ <var>x</var></emu-eqn> and <var>r1</var> is maximized.</li><li declared="n2,e2,r2">Let <var>n2</var> and <var>e2</var> each be an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> and <var>r2</var> a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>, with <emu-eqn class="inline"><var>r2</var> = <emu-xref aoid="ToRawPrecisionFn" id="_ref_935"><a href="#eqn-ToRawPrecisionFn">ToRawPrecisionFn</a></emu-xref>(<var>n2</var>, <var>e2</var>, <var>p</var>)</emu-eqn>, such that <emu-eqn class="inline"><var>r2</var> ≥ <var>x</var></emu-eqn> and <var>r2</var> is minimized.</li><li>Let <var>xFinal</var> be <emu-xref aoid="ApplyUnsignedRoundingMode" id="_ref_936"><a href="#sec-applyunsignedroundingmode">ApplyUnsignedRoundingMode</a></emu-xref>(<var>x</var>, <var>r1</var>, <var>r2</var>, <var>unsignedRoundingMode</var>).</li><li>If <var>xFinal</var> is <var>r1</var>, then<ol><li>Let <var>n</var> be <var>n1</var>.</li><li>Let <var>e</var> be <var>e1</var>.</li></ol></li><li>Else,<ol><li>Let <var>n</var> be <var>n2</var>.</li><li>Let <var>e</var> be <var>e2</var>.</li></ol></li><li>Let <var>m</var> be the String consisting of the digits of the decimal representation of <var>n</var> (in order, with no leading zeroes).</li></ol></li><li>If <var>e</var> ≥ (<var>p</var> - 1), then<ol><li>Set <var>m</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>m</var> and <var>e</var> - <var>p</var> + 1 occurrences of the code unit 0x0030 (DIGIT ZERO).</li><li>Let <var>int</var> be <var>e</var> + 1.</li></ol></li><li>Else if <var>e</var> ≥ 0, then<ol><li>Set <var>m</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of the first <var>e</var> + 1 code units of <var>m</var>, the code unit 0x002E (FULL STOP), and the remaining <var>p</var> - (<var>e</var> + 1) code units of <var>m</var>.</li><li>Let <var>int</var> be <var>e</var> + 1.</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>e</var> &lt; 0.</li><li>Set <var>m</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <emu-val>"0."</emu-val>, -(<var>e</var> + 1) occurrences of the code unit 0x0030 (DIGIT ZERO), and <var>m</var>.</li><li>Let <var>int</var> be 1.</li></ol></li><li>If <var>m</var> contains the code unit 0x002E (FULL STOP) and <var>maxPrecision</var> &gt; <var>minPrecision</var>, then<ol><li>Let <var>cut</var> be <var>maxPrecision</var> - <var>minPrecision</var>.</li><li>Repeat, while <var>cut</var> &gt; 0 and the last code unit of <var>m</var> is 0x0030 (DIGIT ZERO),<ol><li>Remove the last code unit from <var>m</var>.</li><li>Set <var>cut</var> to <var>cut</var> - 1.</li></ol></li><li>If the last code unit of <var>m</var> is 0x002E (FULL STOP), then<ol><li>Remove the last code unit from <var>m</var>.</li></ol></li></ol></li><li>Return the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[FormattedString]]</var>: <var>m</var>, <var class="field">[[RoundedNumber]]</var>: <var>xFinal</var>, <var class="field">[[IntegerDigitsCount]]</var>: <var>int</var>, <var class="field">[[RoundingMagnitude]]</var>: <var>e</var>–<var>p</var>+1&nbsp;}.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-torawfixed" type="abstract operation" aoid="ToRawFixed">
      <h1><span class="secnum">16.5.9</span> ToRawFixed ( <var>x</var>, <var>minFraction</var>, <var>maxFraction</var>, <var>roundingIncrement</var>, <var>unsignedRoundingMode</var> )</h1>
      <p>The abstract operation ToRawFixed takes arguments <var>x</var> (a non-negative <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>), <var>minFraction</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> in the <emu-xref href="#inclusive-interval"><a href="https://tc39.es/ecma262/#inclusive-interval">inclusive interval</a></emu-xref> from 0 to 100), <var>maxFraction</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> in the <emu-xref href="#inclusive-interval"><a href="https://tc39.es/ecma262/#inclusive-interval">inclusive interval</a></emu-xref> from 0 to 100), <var>roundingIncrement</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), and <var>unsignedRoundingMode</var> (a specification type from the Unsigned Rounding Mode column of <emu-xref href="#table-intl-unsigned-rounding-modes" id="_ref_148"><a href="#table-intl-unsigned-rounding-modes">Table 29</a></emu-xref>, or <emu-val>undefined</emu-val>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields <var class="field">[[FormattedString]]</var> (a String), <var class="field">[[RoundedNumber]]</var> (a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>), <var class="field">[[IntegerDigitsCount]]</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), and <var class="field">[[RoundingMagnitude]]</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>).</p>
          <p>It involves solving the following equation, which returns a valid <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref> given <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> inputs:</p>
          <emu-eqn id="eqn-ToRawFixedFn" aoid="ToRawFixedFn"><div>            ToRawFixedFn(<var>n</var>, <var>f</var>) = <var>n</var> × 10<sup>–<var>f</var></sup></div></emu-eqn>
        
      <p>It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>f</var> be <var>maxFraction</var>.</li><li declared="n1,r1">Let <var>n1</var> be an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> and <var>r1</var> a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>, with <emu-eqn class="inline"><var>r1</var> = <emu-xref aoid="ToRawFixedFn" id="_ref_937"><a href="#eqn-ToRawFixedFn">ToRawFixedFn</a></emu-xref>(<var>n1</var>, <var>f</var>)</emu-eqn>, such that <emu-eqn class="inline"><var>n1</var> <emu-xref aoid="modulo"><a href="https://tc39.es/ecma262/#eqn-modulo">modulo</a></emu-xref> <var>roundingIncrement</var> = 0</emu-eqn>, <emu-eqn class="inline"><var>r1</var> ≤ <var>x</var></emu-eqn>, and <var>r1</var> is maximized.</li><li declared="n2,r2">Let <var>n2</var> be an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> and <var>r2</var> a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>, with <emu-eqn class="inline"><var>r2</var> = <emu-xref aoid="ToRawFixedFn" id="_ref_938"><a href="#eqn-ToRawFixedFn">ToRawFixedFn</a></emu-xref>(<var>n2</var>, <var>f</var>)</emu-eqn>, such that <emu-eqn class="inline"><var>n2</var> <emu-xref aoid="modulo"><a href="https://tc39.es/ecma262/#eqn-modulo">modulo</a></emu-xref> <var>roundingIncrement</var> = 0</emu-eqn>, <emu-eqn class="inline"><var>r2</var> ≥ <var>x</var></emu-eqn>, and <var>r2</var> is minimized.</li><li>Let <var>xFinal</var> be <emu-xref aoid="ApplyUnsignedRoundingMode" id="_ref_939"><a href="#sec-applyunsignedroundingmode">ApplyUnsignedRoundingMode</a></emu-xref>(<var>x</var>, <var>r1</var>, <var>r2</var>, <var>unsignedRoundingMode</var>).</li><li>If <var>xFinal</var> is <var>r1</var>, let <var>n</var> be <var>n1</var>. Otherwise, let <var>n</var> be <var>n2</var>.</li><li>If <var>n</var> = 0, let <var>m</var> be <emu-val>"0"</emu-val>. Otherwise, let <var>m</var> be the String consisting of the digits of the decimal representation of <var>n</var> (in order, with no leading zeroes).</li><li>If <var>f</var> ≠ 0, then<ol><li>Let <var>k</var> be the length of <var>m</var>.</li><li>If <var>k</var> ≤ <var>f</var>, then<ol><li>Let <var>z</var> be the String value consisting of <var>f</var> + 1 - <var>k</var> occurrences of the code unit 0x0030 (DIGIT ZERO).</li><li>Set <var>m</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>z</var> and <var>m</var>.</li><li>Set <var>k</var> to <var>f</var> + 1.</li></ol></li><li>Let <var>a</var> be the first <var>k</var> - <var>f</var> code units of <var>m</var>, and let <var>b</var> be the remaining <var>f</var> code units of <var>m</var>.</li><li>Set <var>m</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>a</var>, <emu-val>"."</emu-val>, and <var>b</var>.</li><li>Let <var>int</var> be the length of <var>a</var>.</li></ol></li><li>Else,<ol><li>Let <var>int</var> be the length of <var>m</var>.</li></ol></li><li>Let <var>cut</var> be <var>maxFraction</var> - <var>minFraction</var>.</li><li>Repeat, while <var>cut</var> &gt; 0 and the last code unit of <var>m</var> is 0x0030 (DIGIT ZERO),<ol><li>Remove the last code unit from <var>m</var>.</li><li>Set <var>cut</var> to <var>cut</var> - 1.</li></ol></li><li>If the last code unit of <var>m</var> is 0x002E (FULL STOP), then<ol><li>Remove the last code unit from <var>m</var>.</li></ol></li><li>Return the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[FormattedString]]</var>: <var>m</var>, <var class="field">[[RoundedNumber]]</var>: <var>xFinal</var>, <var class="field">[[IntegerDigitsCount]]</var>: <var>int</var>, <var class="field">[[RoundingMagnitude]]</var>: –<var>f</var>&nbsp;}.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-unwrapnumberformat" type="abstract operation" normative-optional="" aoid="UnwrapNumberFormat"><div class="attributes-tag"><emu-xref href="#sec-conformance"><a href="https://tc39.es/ecma262/#sec-conformance">Normative Optional</a></emu-xref></div>
      <h1><span class="secnum">16.5.10</span> UnwrapNumberFormat ( <var>nf</var> )</h1>
      <p>The abstract operation UnwrapNumberFormat takes argument <var>nf</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref> or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. 
          It returns the NumberFormat instance of its input object, which is either the value itself or a value associated with it by <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_940"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref> according to the normative optional <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> mode of <emu-xref href="#legacy-constructor" id="_ref_149"><a href="#legacy-constructor">4.3 Note 1</a></emu-xref>.
         It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>nf</var> <emu-xref href="#sec-object-type"><a href="https://tc39.es/ecma262/#sec-object-type">is not an Object</a></emu-xref>, throw a <emu-val>TypeError</emu-val> exception.</li><li>If <var>nf</var> does not have an <var class="field">[[InitializedNumberFormat]]</var> internal slot and ?&nbsp;<emu-xref aoid="OrdinaryHasInstance"><a href="https://tc39.es/ecma262/#sec-ordinaryhasinstance">OrdinaryHasInstance</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_941"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, <var>nf</var>) is <emu-val>true</emu-val>, then<ol><li>Return ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>nf</var>, <emu-xref href="#intl-object" id="_ref_942"><a href="#intl-object">%Intl%</a></emu-xref>.<var class="field">[[FallbackSymbol]]</var>).</li></ol></li><li>Return <var>nf</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getnumberformatpattern" type="abstract operation" aoid="GetNumberFormatPattern">
      <h1><span class="secnum">16.5.11</span> GetNumberFormatPattern ( <var>numberFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation GetNumberFormatPattern takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>x</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_943"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>) and returns a String. 
          It considers the resolved unit-related options in the number format object along with the final scaled and rounded number being formatted (an <emu-xref href="#intl-mathematical-value" id="_ref_944"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>) and returns a pattern, a String value as described in <emu-xref href="#sec-intl.numberformat-internal-slots" id="_ref_150"><a href="#sec-intl.numberformat-internal-slots">16.2.3</a></emu-xref>.
         It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>resolvedLocaleData</var> be <var>numberFormat</var>.<var class="field">[[LocaleData]]</var>.</li><li>Let <var>patterns</var> be <var>resolvedLocaleData</var>.<var class="field">[[patterns]]</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>patterns</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> (see <emu-xref href="#sec-intl.numberformat-internal-slots" id="_ref_151"><a href="#sec-intl.numberformat-internal-slots">16.2.3</a></emu-xref>).</li><li>Let <var>style</var> be <var>numberFormat</var>.<var class="field">[[Style]]</var>.</li><li>If <var>style</var> is <emu-val>"percent"</emu-val>, then<ol><li>Set <var>patterns</var> to <var>patterns</var>.<var class="field">[[percent]]</var>.</li></ol></li><li>Else if <var>style</var> is <emu-val>"unit"</emu-val>, then<ol><li>Let <var>unit</var> be <var>numberFormat</var>.<var class="field">[[Unit]]</var>.</li><li>Let <var>unitDisplay</var> be <var>numberFormat</var>.<var class="field">[[UnitDisplay]]</var>.</li><li>Set <var>patterns</var> to <var>patterns</var>.<var class="field">[[unit]]</var>.</li><li>If <var>patterns</var> doesn't have a field [[&lt;<var>unit</var>&gt;]], then<ol><li>Set <var>unit</var> to <emu-val>"fallback"</emu-val>.</li></ol></li><li>Set <var>patterns</var> to <var>patterns</var>.[[&lt;<var>unit</var>&gt;]].</li><li>Set <var>patterns</var> to <var>patterns</var>.[[&lt;<var>unitDisplay</var>&gt;]].</li></ol></li><li>Else if <var>style</var> is <emu-val>"currency"</emu-val>, then<ol><li>Let <var>currency</var> be <var>numberFormat</var>.<var class="field">[[Currency]]</var>.</li><li>Let <var>currencyDisplay</var> be <var>numberFormat</var>.<var class="field">[[CurrencyDisplay]]</var>.</li><li>Let <var>currencySign</var> be <var>numberFormat</var>.<var class="field">[[CurrencySign]]</var>.</li><li>Set <var>patterns</var> to <var>patterns</var>.<var class="field">[[currency]]</var>.</li><li>If <var>patterns</var> doesn't have a field [[&lt;<var>currency</var>&gt;]], then<ol><li>Set <var>currency</var> to <emu-val>"fallback"</emu-val>.</li></ol></li><li>Set <var>patterns</var> to <var>patterns</var>.[[&lt;<var>currency</var>&gt;]].</li><li>Set <var>patterns</var> to <var>patterns</var>.[[&lt;<var>currencyDisplay</var>&gt;]].</li><li>Set <var>patterns</var> to <var>patterns</var>.[[&lt;<var>currencySign</var>&gt;]].</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>style</var> is <emu-val>"decimal"</emu-val>.</li><li>Set <var>patterns</var> to <var>patterns</var>.<var class="field">[[decimal]]</var>.</li></ol></li><li>If <var>x</var> is <emu-const>negative-infinity</emu-const>, then<ol><li>Let <var>category</var> be <emu-const>negative-non-zero</emu-const>.</li></ol></li><li>Else if <var>x</var> is <emu-const>negative-zero</emu-const>, then<ol><li>Let <var>category</var> be <emu-const>negative-zero</emu-const>.</li></ol></li><li>Else if <var>x</var> is <emu-const>not-a-number</emu-const>, then<ol><li>Let <var>category</var> be <emu-const>positive-zero</emu-const>.</li></ol></li><li>Else if <var>x</var> is <emu-const>positive-infinity</emu-const>, then<ol><li>Let <var>category</var> be <emu-const>positive-non-zero</emu-const>.</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>x</var> is a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>.</li><li>If <var>x</var> &lt; 0, then<ol><li>Let <var>category</var> be <emu-const>negative-non-zero</emu-const>.</li></ol></li><li>Else if <var>x</var> &gt; 0, then<ol><li>Let <var>category</var> be <emu-const>positive-non-zero</emu-const>.</li></ol></li><li>Else,<ol><li>Let <var>category</var> be <emu-const>positive-zero</emu-const>.</li></ol></li></ol></li><li>Let <var>signDisplay</var> be <var>numberFormat</var>.<var class="field">[[SignDisplay]]</var>.</li><li>If <var>signDisplay</var> is <emu-val>"never"</emu-val>, then<ol><li>Let <var>pattern</var> be <var>patterns</var>.<var class="field">[[zeroPattern]]</var>.</li></ol></li><li>Else if <var>signDisplay</var> is <emu-val>"auto"</emu-val>, then<ol><li>If <var>category</var> is <emu-const>positive-non-zero</emu-const> or <emu-const>positive-zero</emu-const>, then<ol><li>Let <var>pattern</var> be <var>patterns</var>.<var class="field">[[zeroPattern]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>pattern</var> be <var>patterns</var>.<var class="field">[[negativePattern]]</var>.</li></ol></li></ol></li><li>Else if <var>signDisplay</var> is <emu-val>"always"</emu-val>, then<ol><li>If <var>category</var> is <emu-const>positive-non-zero</emu-const> or <emu-const>positive-zero</emu-const>, then<ol><li>Let <var>pattern</var> be <var>patterns</var>.<var class="field">[[positivePattern]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>pattern</var> be <var>patterns</var>.<var class="field">[[negativePattern]]</var>.</li></ol></li></ol></li><li>Else if <var>signDisplay</var> is <emu-val>"exceptZero"</emu-val>, then<ol><li>If <var>category</var> is <emu-const>positive-zero</emu-const> or <emu-const>negative-zero</emu-const>, then<ol><li>Let <var>pattern</var> be <var>patterns</var>.<var class="field">[[zeroPattern]]</var>.</li></ol></li><li>Else if <var>category</var> is <emu-const>positive-non-zero</emu-const>, then<ol><li>Let <var>pattern</var> be <var>patterns</var>.<var class="field">[[positivePattern]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>pattern</var> be <var>patterns</var>.<var class="field">[[negativePattern]]</var>.</li></ol></li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>signDisplay</var> is <emu-val>"negative"</emu-val>.</li><li>If <var>category</var> is <emu-const>negative-non-zero</emu-const>, then<ol><li>Let <var>pattern</var> be <var>patterns</var>.<var class="field">[[negativePattern]]</var>.</li></ol></li><li>Else,<ol><li>Let <var>pattern</var> be <var>patterns</var>.<var class="field">[[zeroPattern]]</var>.</li></ol></li></ol></li><li>Return <var>pattern</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getnotationsubpattern" type="abstract operation" aoid="GetNotationSubPattern">
      <h1><span class="secnum">16.5.12</span> GetNotationSubPattern ( <var>numberFormat</var>, <var>exponent</var> )</h1>
      <p>The abstract operation GetNotationSubPattern takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>exponent</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>) and returns a String. 
          It considers the resolved notation and <var>exponent</var>, and returns a String value for the notation sub pattern as described in <emu-xref href="#sec-intl.numberformat-internal-slots" id="_ref_152"><a href="#sec-intl.numberformat-internal-slots">16.2.3</a></emu-xref>.
         It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>resolvedLocaleData</var> be <var>numberFormat</var>.<var class="field">[[LocaleData]]</var>.</li><li>Let <var>notationSubPatterns</var> be <var>resolvedLocaleData</var>.<var class="field">[[notationSubPatterns]]</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>notationSubPatterns</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> (see <emu-xref href="#sec-intl.numberformat-internal-slots" id="_ref_153"><a href="#sec-intl.numberformat-internal-slots">16.2.3</a></emu-xref>).</li><li>Let <var>notation</var> be <var>numberFormat</var>.<var class="field">[[Notation]]</var>.</li><li>If <var>notation</var> is <emu-val>"scientific"</emu-val> or <var>notation</var> is <emu-val>"engineering"</emu-val>, then<ol><li>Return <var>notationSubPatterns</var>.<var class="field">[[scientific]]</var>.</li></ol></li><li>Else if <var>exponent</var> is not 0, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>notation</var> is <emu-val>"compact"</emu-val>.</li><li>Let <var>compactDisplay</var> be <var>numberFormat</var>.<var class="field">[[CompactDisplay]]</var>.</li><li>Let <var>compactPatterns</var> be <var>notationSubPatterns</var>.<var class="field">[[compact]]</var>.[[&lt;<var>compactDisplay</var>&gt;]].</li><li>Return <var>compactPatterns</var>.[[&lt;<var>exponent</var>&gt;]].</li></ol></li><li>Else,<ol><li>Return <emu-val>"{number}"</emu-val>.</li></ol></li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-computeexponent" type="abstract operation" aoid="ComputeExponent">
      <h1><span class="secnum">16.5.13</span> ComputeExponent ( <var>numberFormat</var>, <var>x</var> )</h1>
      <p>The abstract operation ComputeExponent takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>x</var> (a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>) and returns an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>. 
          It computes an exponent (power of ten) by which to scale <var>x</var> according to the number formatting settings.
          It handles cases such as 999 rounding up to 1000, requiring a different exponent.
         It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>x</var> = 0, then<ol><li>Return 0.</li></ol></li><li>If <var>x</var> &lt; 0, then<ol><li>Let <var>x</var> = -<var>x</var>.</li></ol></li><li>Let <var>magnitude</var> be the base 10 logarithm of <var>x</var> rounded down to the nearest <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>.</li><li>Let <var>exponent</var> be <emu-xref aoid="ComputeExponentForMagnitude" id="_ref_945"><a href="#sec-computeexponentformagnitude">ComputeExponentForMagnitude</a></emu-xref>(<var>numberFormat</var>, <var>magnitude</var>).</li><li>Let <var>x</var> be <var>x</var> × 10<sup>-<var>exponent</var></sup>.</li><li>Let <var>formatNumberResult</var> be <emu-xref aoid="FormatNumericToString" id="_ref_946"><a href="#sec-formatnumerictostring">FormatNumericToString</a></emu-xref>(<var>numberFormat</var>, <var>x</var>).</li><li>If <var>formatNumberResult</var>.<var class="field">[[RoundedNumber]]</var> = 0, then<ol><li>Return <var>exponent</var>.</li></ol></li><li>Let <var>newMagnitude</var> be the base 10 logarithm of <var>formatNumberResult</var>.<var class="field">[[RoundedNumber]]</var> rounded down to the nearest <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>.</li><li>If <var>newMagnitude</var> is <var>magnitude</var> - <var>exponent</var>, then<ol><li>Return <var>exponent</var>.</li></ol></li><li>Return <emu-xref aoid="ComputeExponentForMagnitude" id="_ref_947"><a href="#sec-computeexponentformagnitude">ComputeExponentForMagnitude</a></emu-xref>(<var>numberFormat</var>, <var>magnitude</var> + 1).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-computeexponentformagnitude" type="abstract operation" aoid="ComputeExponentForMagnitude">
      <h1><span class="secnum">16.5.14</span> ComputeExponentForMagnitude ( <var>numberFormat</var>, <var>magnitude</var> )</h1>
      <p>The abstract operation ComputeExponentForMagnitude takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>magnitude</var> (an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>) and returns an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>. 
          It computes an exponent by which to scale a number of the given magnitude (power of ten of the most significant digit) according to the locale and the desired notation (scientific, engineering, or compact).
         It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>notation</var> be <var>numberFormat</var>.<var class="field">[[Notation]]</var>.</li><li>If <var>notation</var> is <emu-val>"standard"</emu-val>, then<ol><li>Return 0.</li></ol></li><li>Else if <var>notation</var> is <emu-val>"scientific"</emu-val>, then<ol><li>Return <var>magnitude</var>.</li></ol></li><li>Else if <var>notation</var> is <emu-val>"engineering"</emu-val>, then<ol><li>Let <var>thousands</var> be the greatest <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> that is not greater than <var>magnitude</var> / 3.</li><li>Return <var>thousands</var> × 3.</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>notation</var> is <emu-val>"compact"</emu-val>.</li><li>Let <var>exponent</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_948"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> by which to scale a number of the given magnitude in compact notation for the current locale.</li><li>Return <var>exponent</var>.</li></ol></li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-runtime-semantics-stringintlmv" type="sdo" aoid="StringIntlMV">
      <h1><span class="secnum">16.5.15</span> Runtime Semantics: StringIntlMV</h1>
      <p>The <emu-xref href="#sec-algorithm-conventions-syntax-directed-operations"><a href="https://tc39.es/ecma262/#sec-algorithm-conventions-syntax-directed-operations">syntax-directed operation</a></emu-xref> StringIntlMV takes no arguments.</p>
      <emu-note><span class="note">Note</span><div class="note-contents">
        <p>The conversion of a <emu-nt><a href="https://tc39.es/ecma262/#prod-StringNumericLiteral">StringNumericLiteral</a></emu-nt> to a Number value is similar overall to the determination of the <emu-xref aoid="NumericValue"><a href="https://tc39.es/ecma262/#sec-numericvalue">NumericValue</a></emu-xref> of a <emu-nt><a href="https://tc39.es/ecma262/#prod-NumericLiteral">NumericLiteral</a></emu-nt> (see <emu-xref href="#sec-literals-numeric-literals"><a href="https://tc39.es/ecma262/#sec-literals-numeric-literals">12.9.3</a></emu-xref>), but some of the details are different.</p>
      </div></emu-note>
      <p>It is defined piecewise over the following productions:</p>
      <emu-grammar><emu-production name="StringNumericLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StringNumericLiteral">StringNumericLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="mkvpahdu"><emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-StrWhiteSpace">StrWhiteSpace</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt></emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li>Return 0.</li></ol></emu-alg>
      <emu-grammar><emu-production name="StringNumericLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StringNumericLiteral">StringNumericLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="_ljdljxm">
        <emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-StrWhiteSpace">StrWhiteSpace</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt>
        <emu-nt><a href="https://tc39.es/ecma262/#prod-StrNumericLiteral">StrNumericLiteral</a></emu-nt>
        <emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-StrWhiteSpace">StrWhiteSpace</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt>
    </emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li>Return <emu-xref aoid="StringIntlMV" id="_ref_949"><a href="#sec-runtime-semantics-stringintlmv">StringIntlMV</a></emu-xref> of <emu-nt><a href="https://tc39.es/ecma262/#prod-StrNumericLiteral">StrNumericLiteral</a></emu-nt>.</li></ol></emu-alg>
      <emu-grammar><emu-production name="StrNumericLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StrNumericLiteral">StrNumericLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="6ge3c7dq"><emu-nt><a href="https://tc39.es/ecma262/#prod-NonDecimalIntegerLiteral">NonDecimalIntegerLiteral</a></emu-nt></emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li>Return MV of <emu-nt><a href="https://tc39.es/ecma262/#prod-NonDecimalIntegerLiteral">NonDecimalIntegerLiteral</a></emu-nt>.</li></ol></emu-alg>
      <emu-grammar><emu-production name="StrDecimalLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StrDecimalLiteral">StrDecimalLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="1g8bpsll">
        <emu-t>-</emu-t>
        <emu-nt><a href="https://tc39.es/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt>
    </emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li>Let <var>a</var> be <emu-xref aoid="StringIntlMV" id="_ref_950"><a href="#sec-runtime-semantics-stringintlmv">StringIntlMV</a></emu-xref> of <emu-nt><a href="https://tc39.es/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt>.</li><li>If <var>a</var> is 0, return <emu-const>negative-zero</emu-const>.</li><li>If <var>a</var> is <emu-const>positive-infinity</emu-const>, return <emu-const>negative-infinity</emu-const>.</li><li>Return -<var>a</var>.</li></ol></emu-alg>
      <emu-grammar><emu-production name="StrUnsignedDecimalLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="sv6n-gkb"><emu-t>Infinity</emu-t></emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li>Return <emu-const>positive-infinity</emu-const>.</li></ol></emu-alg>
      <emu-grammar><emu-production name="StrUnsignedDecimalLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="iokglhcc">
        <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt>
        <emu-t>.</emu-t>
        <emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt>
        <emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt>
    </emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li>Let <var>a</var> be MV of the first <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt>.</li><li>If the second <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt> is present, then<ol><li>Let <var>b</var> be MV of the second <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt>.</li><li>Let <var>n</var> be the number of code points in the second <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt>.</li></ol></li><li>Else,<ol><li>Let <var>b</var> be 0.</li><li>Let <var>n</var> be 0.</li></ol></li><li>If <emu-nt><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a></emu-nt> is present, let <var>e</var> be MV of <emu-nt><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a></emu-nt>. Otherwise, let <var>e</var> be 0.</li><li>Return (<var>a</var> + (<var>b</var> × 10<sup>-<var>n</var></sup>)) × 10<sup><var>e</var></sup>.</li></ol></emu-alg>
      <emu-grammar><emu-production name="StrUnsignedDecimalLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="xpoqnclz">
        <emu-t>.</emu-t>
        <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt>
        <emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt>
    </emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li>Let <var>b</var> be MV of <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt>.</li><li>If <emu-nt><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a></emu-nt> is present, let <var>e</var> be MV of <emu-nt><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a></emu-nt>. Otherwise, let <var>e</var> be 0.</li><li>Let <var>n</var> be the number of code points in <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt>.</li><li>Return <var>b</var> × 10<sup><var>e</var> - <var>n</var></sup>.</li></ol></emu-alg>
      <emu-grammar><emu-production name="StrUnsignedDecimalLiteral" type="regexp" collapsed="">
    <emu-nt><a href="https://tc39.es/ecma262/#prod-StrUnsignedDecimalLiteral">StrUnsignedDecimalLiteral</a></emu-nt> <emu-geq>:::</emu-geq> <emu-rhs a="joj696lw">
        <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt>
        <emu-nt optional=""><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a><emu-mods><emu-opt>opt</emu-opt></emu-mods></emu-nt>
    </emu-rhs>
</emu-production>
</emu-grammar>
      <emu-alg><ol><li>Let <var>a</var> be MV of <emu-nt><a href="https://tc39.es/ecma262/#prod-DecimalDigits">DecimalDigits</a></emu-nt>.</li><li>If <emu-nt><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a></emu-nt> is present, let <var>e</var> be MV of <emu-nt><a href="https://tc39.es/ecma262/#prod-ExponentPart">ExponentPart</a></emu-nt>. Otherwise, let <var>e</var> be 0.</li><li>Return <var>a</var> × 10<sup><var>e</var></sup>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-tointlmathematicalvalue" type="abstract operation" aoid="ToIntlMathematicalValue">
      <h1><span class="secnum">16.5.16</span> ToIntlMathematicalValue ( <var>value</var> )</h1>
      <p>The abstract operation ToIntlMathematicalValue takes argument <var>value</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an <emu-xref href="#intl-mathematical-value" id="_ref_951"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref> or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. 
          It returns <var>value</var> converted to an <dfn id="intl-mathematical-value" tabindex="-1">Intl mathematical value</dfn>, which is a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref> together with <emu-const>positive-infinity</emu-const>, <emu-const>negative-infinity</emu-const>, <emu-const>not-a-number</emu-const>, and <emu-const>negative-zero</emu-const>.
          This abstract operation is similar to <emu-xref href="#sec-tonumeric"><a href="https://tc39.es/ecma262/#sec-tonumeric">7.1.3</a></emu-xref>, but a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref> can be returned instead of a Number or BigInt, so that exact decimal values can be represented.
         It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>primValue</var> be ?&nbsp;<emu-xref aoid="ToPrimitive"><a href="https://tc39.es/ecma262/#sec-toprimitive">ToPrimitive</a></emu-xref>(<var>value</var>, <emu-const>number</emu-const>).</li><li>If <var>primValue</var> <emu-xref href="#sec-ecmascript-language-types-bigint-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-bigint-type">is a BigInt</a></emu-xref>, return <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>primValue</var>).</li><li>If <var>primValue</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref>, then<ol><li>Let <var>str</var> be <var>primValue</var>.</li></ol></li><li>Else,<ol><li>Let <var>x</var> be ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>primValue</var>).</li><li>If <var>x</var> is <emu-val>-0</emu-val><sub>𝔽</sub>, return <emu-const>negative-zero</emu-const>.</li><li>Let <var>str</var> be <emu-xref aoid="Number::toString"><a href="https://tc39.es/ecma262/#sec-numeric-types-number-tostring">Number::toString</a></emu-xref>(<var>x</var>, 10).</li></ol></li><li>Let <var>text</var> be <emu-xref aoid="StringToCodePoints"><a href="https://tc39.es/ecma262/#sec-stringtocodepoints">StringToCodePoints</a></emu-xref>(<var>str</var>).</li><li>Let <var>literal</var> be <emu-xref aoid="ParseText"><a href="https://tc39.es/ecma262/#sec-parsetext">ParseText</a></emu-xref>(<var>text</var>, <emu-nt><a href="https://tc39.es/ecma262/#prod-StringNumericLiteral">StringNumericLiteral</a></emu-nt>).</li><li>If <var>literal</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of errors, return <emu-const>not-a-number</emu-const>.</li><li>Let <var>intlMV</var> be the <emu-xref aoid="StringIntlMV" id="_ref_952"><a href="#sec-runtime-semantics-stringintlmv">StringIntlMV</a></emu-xref> of <var>literal</var>.</li><li>If <var>intlMV</var> is a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>, then<ol><li>Let <var>rounded</var> be <emu-xref aoid="RoundMVResult"><a href="https://tc39.es/ecma262/#sec-roundmvresult">RoundMVResult</a></emu-xref>(<emu-xref aoid="abs"><a href="https://tc39.es/ecma262/#eqn-abs">abs</a></emu-xref>(<var>intlMV</var>)).</li><li>If <var>rounded</var> is <emu-val>+∞</emu-val><sub>𝔽</sub> and <var>intlMV</var> &lt; 0, return <emu-const>negative-infinity</emu-const>.</li><li>If <var>rounded</var> is <emu-val>+∞</emu-val><sub>𝔽</sub>, return <emu-const>positive-infinity</emu-const>.</li><li>If <var>rounded</var> is <emu-val>+0</emu-val><sub>𝔽</sub> and <var>intlMV</var> &lt; 0, return <emu-const>negative-zero</emu-const>.</li><li>If <var>rounded</var> is <emu-val>+0</emu-val><sub>𝔽</sub>, return 0.</li></ol></li><li>Return <var>intlMV</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-getunsignedroundingmode" type="abstract operation" aoid="GetUnsignedRoundingMode">
      <h1><span class="secnum">16.5.17</span> GetUnsignedRoundingMode ( <var>roundingMode</var>, <var>sign</var> )</h1>
      <p>The abstract operation GetUnsignedRoundingMode takes arguments <var>roundingMode</var> (a <emu-xref href="#rounding-mode" id="_ref_953"><a href="#rounding-mode">rounding mode</a></emu-xref>) and <var>sign</var> (<emu-const>negative</emu-const> or <emu-const>positive</emu-const>) and returns a specification type from the Unsigned Rounding Mode column of <emu-xref href="#table-intl-unsigned-rounding-modes" id="_ref_154"><a href="#table-intl-unsigned-rounding-modes">Table 29</a></emu-xref>. It returns the <emu-not-ref>rounding mode</emu-not-ref> that should be applied to the absolute value of a number to produce the same result as if <var>roundingMode</var> were applied to the signed value of the number (negative if <var>sign</var> is <emu-const>negative</emu-const>, or positive otherwise). It performs the following steps when called:</p>
      <emu-alg><ol><li>Return the specification type in the Unsigned Rounding Mode column of <emu-xref href="#table-intl-unsigned-rounding-modes" id="_ref_155"><a href="#table-intl-unsigned-rounding-modes">Table 29</a></emu-xref> for the row where the value in the Identifier column is <var>roundingMode</var> and the value in the Sign column is <var>sign</var>.</li></ol></emu-alg>
      <emu-table id="table-intl-unsigned-rounding-modes"><figure><figcaption>Table 29: Conversion from <emu-xref href="#rounding-mode" id="_ref_954"><a href="#rounding-mode">rounding mode</a></emu-xref> to unsigned <emu-xref href="#rounding-mode" id="_ref_955"><a href="#rounding-mode">rounding mode</a></emu-xref></figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Identifier</th>
              <th>Sign</th>
              <th>Unsigned Rounding Mode</th>
            </tr>
          </thead>
          <tbody><tr>
            <td rowspan="2"><emu-val>"ceil"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>infinity</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>zero</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"floor"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>zero</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>infinity</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"expand"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>infinity</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>infinity</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"trunc"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>zero</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>zero</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"halfCeil"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>half-infinity</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>half-zero</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"halfFloor"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>half-zero</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>half-infinity</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"halfExpand"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>half-infinity</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>half-infinity</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"halfTrunc"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>half-zero</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>half-zero</emu-const></td>
          </tr>
          <tr>
            <td rowspan="2"><emu-val>"halfEven"</emu-val></td>
            <td><emu-const>positive</emu-const></td>
            <td><emu-const>half-even</emu-const></td>
          </tr>
          <tr>
            <td><emu-const>negative</emu-const></td>
            <td><emu-const>half-even</emu-const></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-applyunsignedroundingmode" type="abstract operation" aoid="ApplyUnsignedRoundingMode">
      <h1><span class="secnum">16.5.18</span> ApplyUnsignedRoundingMode ( <var>x</var>, <var>r1</var>, <var>r2</var>, <var>unsignedRoundingMode</var> )</h1>
      <p>The abstract operation ApplyUnsignedRoundingMode takes arguments <var>x</var> (a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>), <var>r1</var> (a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>), <var>r2</var> (a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>), and <var>unsignedRoundingMode</var> (a specification type from the Unsigned Rounding Mode column of <emu-xref href="#table-intl-unsigned-rounding-modes" id="_ref_156"><a href="#table-intl-unsigned-rounding-modes">Table 29</a></emu-xref>, or <emu-val>undefined</emu-val>) and returns a <emu-xref href="#mathematical-value"><a href="https://tc39.es/ecma262/#mathematical-value">mathematical value</a></emu-xref>. It considers <var>x</var>, bracketed below by <var>r1</var> and above by <var>r2</var>, and returns either <var>r1</var> or <var>r2</var> according to <var>unsignedRoundingMode</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>x</var> is <var>r1</var>, return <var>r1</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>r1</var> &lt; <var>x</var> &lt; <var>r2</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>unsignedRoundingMode</var> is not <emu-val>undefined</emu-val>.</li><li>If <var>unsignedRoundingMode</var> is <emu-const>zero</emu-const>, return <var>r1</var>.</li><li>If <var>unsignedRoundingMode</var> is <emu-const>infinity</emu-const>, return <var>r2</var>.</li><li>Let <var>d1</var> be <emu-eqn class="inline"><var>x</var> – <var>r1</var></emu-eqn>.</li><li>Let <var>d2</var> be <emu-eqn class="inline"><var>r2</var> – <var>x</var></emu-eqn>.</li><li>If <var>d1</var> &lt; <var>d2</var>, return <var>r1</var>.</li><li>If <var>d2</var> &lt; <var>d1</var>, return <var>r2</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>d1</var> is <var>d2</var>.</li><li>If <var>unsignedRoundingMode</var> is <emu-const>half-zero</emu-const>, return <var>r1</var>.</li><li>If <var>unsignedRoundingMode</var> is <emu-const>half-infinity</emu-const>, return <var>r2</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>unsignedRoundingMode</var> is <emu-const>half-even</emu-const>.</li><li>Let <var>cardinality</var> be <emu-eqn class="inline">(<var>r1</var> / (<var>r2</var> – <var>r1</var>)) <emu-xref aoid="modulo"><a href="https://tc39.es/ecma262/#eqn-modulo">modulo</a></emu-xref> 2</emu-eqn>.</li><li>If <var>cardinality</var> is 0, return <var>r1</var>.</li><li>Return <var>r2</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-partitionnumberrangepattern" type="abstract operation" aoid="PartitionNumberRangePattern">
      <h1><span class="secnum">16.5.19</span> PartitionNumberRangePattern ( <var>numberFormat</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation PartitionNumberRangePattern takes arguments <var>numberFormat</var> (an Intl.NumberFormat), <var>x</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_956"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>), and <var>y</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_957"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String), <var class="field">[[Value]]</var> (a String), and <var class="field">[[Source]]</var> (a String), or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It creates the parts for a localized number range according to <var>x</var>, <var>y</var>, and the formatting options of <var>numberFormat</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>x</var> is <emu-const>not-a-number</emu-const> or <var>y</var> is <emu-const>not-a-number</emu-const>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>xResult</var> be <emu-xref aoid="PartitionNumberPattern" id="_ref_958"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>).</li><li>Let <var>yResult</var> be <emu-xref aoid="PartitionNumberPattern" id="_ref_959"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>numberFormat</var>, <var>y</var>).</li><li>If <emu-xref aoid="FormatNumeric" id="_ref_960"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>numberFormat</var>, <var>x</var>) is <emu-xref aoid="FormatNumeric" id="_ref_961"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>numberFormat</var>, <var>y</var>), then<ol><li>Let <var>appxResult</var> be <emu-xref aoid="FormatApproximately" id="_ref_962"><a href="#sec-formatapproximately">FormatApproximately</a></emu-xref>(<var>numberFormat</var>, <var>xResult</var>).</li><li>For each element <var>r</var> of <var>appxResult</var>, do<ol><li>Set <var>r</var>.<var class="field">[[Source]]</var> to <emu-val>"shared"</emu-val>.</li></ol></li><li>Return <var>appxResult</var>.</li></ol></li><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each element <var>r</var> of <var>xResult</var>, do<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>r</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>r</var>.<var class="field">[[Value]]</var>, <var class="field">[[Source]]</var>: <emu-val>"startRange"</emu-val>&nbsp;} to <var>result</var>.</li></ol></li><li>Let <var>rangeSeparator</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_963"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String value used to separate two numbers.</li><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>rangeSeparator</var>, <var class="field">[[Source]]</var>: <emu-val>"shared"</emu-val>&nbsp;} to <var>result</var>.</li><li>For each element <var>r</var> of <var>yResult</var>, do<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>r</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>r</var>.<var class="field">[[Value]]</var>, <var class="field">[[Source]]</var>: <emu-val>"endRange"</emu-val>&nbsp;} to <var>result</var>.</li></ol></li><li>Return <emu-xref aoid="CollapseNumberRange" id="_ref_964"><a href="#sec-collapsenumberrange">CollapseNumberRange</a></emu-xref>(<var>numberFormat</var>, <var>result</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatapproximately" type="abstract operation" aoid="FormatApproximately">
      <h1><span class="secnum">16.5.20</span> FormatApproximately ( <var>numberFormat</var>, <var>result</var> )</h1>
      <p>The abstract operation FormatApproximately takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>result</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String) and <var class="field">[[Value]]</var> (a String)) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String) and <var class="field">[[Value]]</var> (a String). It modifies <var>result</var>, which must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> values as described in <emu-xref aoid="PartitionNumberPattern" id="_ref_965"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>, by adding a new <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> for the approximately sign, which may depend on <var>numberFormat</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>approximatelySign</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_966"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> String value used to signify that a number is approximate.</li><li>If <var>approximatelySign</var> is not empty, insert the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"approximatelySign"</emu-val>, <var class="field">[[Value]]</var>: <var>approximatelySign</var>&nbsp;} at an <emu-xref href="#sec-implementation-dependencies" id="_ref_967"><a href="#sec-implementation-dependencies">ILND</a></emu-xref> index in <var>result</var>. For example, if <var>numberFormat</var> has <var class="field">[[Locale]]</var> <emu-val>"en-US"</emu-val> and <var class="field">[[NumberingSystem]]</var> <emu-val>"latn"</emu-val> and <var class="field">[[Style]]</var> <emu-val>"decimal"</emu-val>, the new <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> might be inserted before the first element of <var>result</var>.</li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-collapsenumberrange" type="implementation-defined abstract operation" aoid="CollapseNumberRange">
      <h1><span class="secnum">16.5.21</span> CollapseNumberRange ( <var>numberFormat</var>, <var>result</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation CollapseNumberRange takes arguments <var>numberFormat</var> (an Intl.NumberFormat) and <var>result</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String), <var class="field">[[Value]]</var> (a String), and <var class="field">[[Source]]</var> (a String)) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String), <var class="field">[[Value]]</var> (a String), and <var class="field">[[Source]]</var> (a String). It modifies <var>result</var> (which must be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> as constructed within <emu-xref aoid="PartitionNumberRangePattern" id="_ref_968"><a href="#sec-partitionnumberrangepattern">PartitionNumberRangePattern</a></emu-xref>) according to the effective locale and the formatting options of <var>numberFormat</var> by removing redundant information, resolving internal inconsistency, replacing characters when necessary, and inserting spacing when necessary. It then returns the resulting <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>. The algorithm is <emu-xref href="#sec-implementation-dependencies" id="_ref_969"><a href="#sec-implementation-dependencies">ILND</a></emu-xref>, but must not introduce ambiguity that would cause the result of <emu-xref href="#sec-intl.numberformat.prototype.formatrange" title="" id="_ref_157"><a href="#sec-intl.numberformat.prototype.formatrange">Intl.NumberFormat.prototype.formatRange ( <var>start</var>, <var>end</var> )</a></emu-xref> with arguments <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> « <var>start1</var>, <var>end1</var> » to equal the result with arguments <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> « <var>start2</var>, <var>end2</var> » if the results for those same arguments <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Lists</a></emu-xref> would not be equal with a trivial implementation of CollapseNumberRange that always returns <var>result</var> unmodified.</p>
      <p>For example, an implementation may remove the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> representing a currency symbol after a range separator to convert a <var>results</var> <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> representing <emu-val>"$3–$5"</emu-val> into one representing <emu-val>"$3–5"</emu-val>.</p>
      <p>An implementation may also modify <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> <var class="field">[[Value]]</var> fields for grammatical correctness; for example, converting a <var>results</var> <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> representing <emu-val>"0.5 miles–1 mile"</emu-val> into one representing <emu-val>"0.5–1 miles"</emu-val>.</p>
      <p>Returning <var>result</var> unmodified is guaranteed to be a correct implementation of CollapseNumberRange.</p>
    </emu-clause>

    <emu-clause id="sec-formatnumericrange" type="abstract operation" aoid="FormatNumericRange">
      <h1><span class="secnum">16.5.22</span> FormatNumericRange ( <var>numberFormat</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation FormatNumericRange takes arguments <var>numberFormat</var> (an Intl.NumberFormat), <var>x</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_970"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>), and <var>y</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_971"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a String or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>parts</var> be ?&nbsp;<emu-xref aoid="PartitionNumberRangePattern" id="_ref_972"><a href="#sec-partitionnumberrangepattern">PartitionNumberRangePattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>, <var>y</var>).</li><li>Let <var>result</var> be the empty String.</li><li>For each element <var>part</var> of <var>parts</var>, do<ol><li>Set <var>result</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>result</var> and <var>part</var>.<var class="field">[[Value]]</var>.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-formatnumericrangetoparts" type="abstract operation" aoid="FormatNumericRangeToParts">
      <h1><span class="secnum">16.5.23</span> FormatNumericRangeToParts ( <var>numberFormat</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation FormatNumericRangeToParts takes arguments <var>numberFormat</var> (an Intl.NumberFormat), <var>x</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_973"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>), and <var>y</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_974"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an Array or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>parts</var> be ?&nbsp;<emu-xref aoid="PartitionNumberRangePattern" id="_ref_975"><a href="#sec-partitionnumberrangepattern">PartitionNumberRangePattern</a></emu-xref>(<var>numberFormat</var>, <var>x</var>, <var>y</var>).</li><li>Let <var>result</var> be !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0).</li><li>Let <var>n</var> be 0.</li><li>For each element <var>part</var> of <var>parts</var>, do<ol><li>Let <var>O</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"source"</emu-val>, <var>part</var>.<var class="field">[[Source]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>n</var>)), <var>O</var>).</li><li>Increment <var>n</var> by 1.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="pluralrules-objects">
  <h1><span class="secnum">17</span> PluralRules Objects</h1>

  <emu-clause id="sec-intl-pluralrules-constructor">
    <h1><span class="secnum">17.1</span> The Intl.PluralRules Constructor</h1>

    <p>The Intl.PluralRules <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.PluralRules%</dfn>.</li>
      <li>is the initial value of the <emu-val>"PluralRules"</emu-val> property of the <emu-xref href="#intl-object" id="_ref_976"><a href="#intl-object">Intl object</a></emu-xref>.</li>
    </ul>

    <p>Behaviour common to all <emu-xref href="#service-constructor" id="_ref_977"><a href="#service-constructor">service constructor</a></emu-xref> properties of the <emu-xref href="#intl-object" id="_ref_978"><a href="#intl-object">Intl object</a></emu-xref> is specified in <emu-xref href="#sec-internal-slots" id="_ref_158"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

    <emu-clause id="sec-intl.pluralrules" oldids="sec-initializepluralrules"><span id="sec-initializepluralrules"></span>
      <h1><span class="secnum">17.1.1</span> Intl.PluralRules ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>When the <code>Intl.PluralRules</code> function is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>If NewTarget is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>pluralRules</var> be ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.PluralRules.prototype%"</emu-val>, « <var class="field">[[InitializedPluralRules]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[Type]]</var>, <var class="field">[[Notation]]</var>, <var class="field">[[CompactDisplay]]</var>, <var class="field">[[MinimumIntegerDigits]]</var>, <var class="field">[[MinimumFractionDigits]]</var>, <var class="field">[[MaximumFractionDigits]]</var>, <var class="field">[[MinimumSignificantDigits]]</var>, <var class="field">[[MaximumSignificantDigits]]</var>, <var class="field">[[RoundingType]]</var>, <var class="field">[[RoundingIncrement]]</var>, <var class="field">[[RoundingMode]]</var>, <var class="field">[[ComputedRoundingPriority]]</var>, <var class="field">[[TrailingZeroDisplay]]</var>&nbsp;»).</li><li>Let <var>optionsResolution</var> be ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_979"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_980"><a href="#sec-intl-pluralrules-constructor">%Intl.PluralRules%</a></emu-xref>, <emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_981"><a href="#sec-intl-pluralrules-constructor">%Intl.PluralRules%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>, <var>options</var>, « <emu-const>coerce-options</emu-const>&nbsp;»).</li><li>Set <var>options</var> to <var>optionsResolution</var>.<var class="field">[[Options]]</var>.</li><li>Let <var>r</var> be <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var>.</li><li>Set <var>pluralRules</var>.<var class="field">[[Locale]]</var> to <var>r</var>.<var class="field">[[Locale]]</var>.</li><li>Let <var>t</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_982"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"type"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"cardinal"</emu-val>, <emu-val>"ordinal"</emu-val>&nbsp;», <emu-val>"cardinal"</emu-val>).</li><li>Set <var>pluralRules</var>.<var class="field">[[Type]]</var> to <var>t</var>.</li><li>Let <var>notation</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_983"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"notation"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"standard"</emu-val>, <emu-val>"scientific"</emu-val>, <emu-val>"engineering"</emu-val>, <emu-val>"compact"</emu-val>&nbsp;», <emu-val>"standard"</emu-val>).</li><li>Set <var>pluralRules</var>.<var class="field">[[Notation]]</var> to <var>notation</var>.</li><li>Let <var>compactDisplay</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_984"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"compactDisplay"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"short"</emu-val>, <emu-val>"long"</emu-val>&nbsp;», <emu-val>"short"</emu-val>).</li><li>If <var>notation</var> is <emu-val>"compact"</emu-val>, then<ol><li>Set <var>pluralRules</var>.<var class="field">[[CompactDisplay]]</var> to <var>compactDisplay</var>.</li></ol></li><li>Perform ?&nbsp;<emu-xref aoid="SetNumberFormatDigitOptions" id="_ref_985"><a href="#sec-setnumberformatdigitoptions">SetNumberFormatDigitOptions</a></emu-xref>(<var>pluralRules</var>, <var>options</var>, 0, 3, <var>notation</var>).</li><li>Return <var>pluralRules</var>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-pluralrules-constructor">
    <h1><span class="secnum">17.2</span> Properties of the Intl.PluralRules Constructor</h1>

    <p>The Intl.PluralRules <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref>.</li>
      <li>has the following properties:</li>
    </ul>

    <emu-clause id="sec-intl.pluralrules.prototype">
      <h1><span class="secnum">17.2.1</span> Intl.PluralRules.prototype</h1>

      <p>The value of <code>Intl.PluralRules.prototype</code> is <emu-xref href="#sec-properties-of-intl-pluralrules-prototype-object" id="_ref_986"><a href="#sec-properties-of-intl-pluralrules-prototype-object">%Intl.PluralRules.prototype%</a></emu-xref>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> }.</p>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules.supportedlocalesof">
      <h1><span class="secnum">17.2.2</span> Intl.PluralRules.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p>When the <code>supportedLocalesOf</code> method is called with arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>availableLocales</var> be <emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_987"><a href="#sec-intl-pluralrules-constructor">%Intl.PluralRules%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var>.</li><li>Let <var>requestedLocales</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_988"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_989"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules-internal-slots">
      <h1><span class="secnum">17.2.3</span> Internal slots</h1>

      <p>The value of the <var class="field">[[AvailableLocales]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_159"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

      <p>The value of the <var class="field">[[RelevantExtensionKeys]]</var> internal slot is « ».</p>

      <p>The value of the <var class="field">[[ResolutionOptionDescriptors]]</var> internal slot is « ».</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode Technical Standard #35 Part 1 Core, Section 3.6.1 Key and Type Definitions</a> describes no locale extension keys that are relevant to the pluralization process.
      </div></emu-note>

      <p>The value of the <var class="field">[[LocaleData]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_160"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        It is recommended that implementations use the locale data provided by the Common Locale Data Repository (available at <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>).
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-pluralrules-prototype-object">
    <h1><span class="secnum">17.3</span> Properties of the Intl.PluralRules Prototype Object</h1>

    <p>The <dfn tabindex="-1">Intl.PluralRules prototype object</dfn>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.PluralRules.prototype%</dfn>.</li>
      <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
      <li>is not an Intl.PluralRules instance and does not have an <var class="field">[[InitializedPluralRules]]</var> internal slot or any of the other internal slots of Intl.PluralRules instance objects.</li>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>.</li>
    </ul>

    <emu-clause id="sec-intl.pluralrules.prototype.constructor">
      <h1><span class="secnum">17.3.1</span> Intl.PluralRules.prototype.constructor</h1>

      <p>The initial value of <code>Intl.PluralRules.prototype.constructor</code> is <emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_990"><a href="#sec-intl-pluralrules-constructor">%Intl.PluralRules%</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules.prototype.resolvedoptions">
      <h1><span class="secnum">17.3.2</span> Intl.PluralRules.prototype.resolvedOptions ( )</h1>

      <p>This function provides access to the locale and options computed during initialization of the object.</p>

      <emu-alg><ol><li>Let <var>pr</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>pr</var>, <var class="field">[[InitializedPluralRules]]</var>).</li><li>Let <var>options</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>Let <var>pluralCategories</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings containing all possible results of <emu-xref href="#sec-pluralruleselect" id="_ref_161"><a href="#sec-pluralruleselect">PluralRuleSelect</a></emu-xref> for the selected locale <var>pr</var>.<var class="field">[[Locale]]</var>, sorted according to the following order: <emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, <emu-val>"other"</emu-val>.</li><li>For each row of <emu-xref href="#table-pluralrules-resolvedoptions-properties" id="_ref_162"><a href="#table-pluralrules-resolvedoptions-properties">Table 30</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>p</var> be the Property value of the current row.</li><li>If <var>p</var> is <emu-val>"pluralCategories"</emu-val>, then<ol><li>Let <var>v</var> be <emu-xref aoid="CreateArrayFromList"><a href="https://tc39.es/ecma262/#sec-createarrayfromlist">CreateArrayFromList</a></emu-xref>(<var>pluralCategories</var>).</li></ol></li><li>Else,<ol><li>Let <var>v</var> be the value of <var>pr</var>'s internal slot whose name is the Internal Slot value of the current row.</li></ol></li><li>If <var>v</var> is not <emu-val>undefined</emu-val>, then<ol><li>If there is a Conversion value in the current row, then<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: The Conversion value of the current row is <emu-const>number</emu-const>.</li><li>Set <var>v</var> to <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>v</var>).</li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>).</li></ol></li></ol></li><li>Return <var>options</var>.</li></ol></emu-alg>

      <emu-table id="table-pluralrules-resolvedoptions-properties"><figure><figcaption>Table 30: Resolved Options of PluralRules Instances</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Property</th>
              <th>Conversion</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Type]]</var></td>
            <td><emu-val>"type"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[Notation]]</var></td>
            <td><emu-val>"notation"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[CompactDisplay]]</var></td>
            <td><emu-val>"compactDisplay"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[MinimumIntegerDigits]]</var></td>
            <td><emu-val>"minimumIntegerDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MinimumFractionDigits]]</var></td>
            <td><emu-val>"minimumFractionDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MaximumFractionDigits]]</var></td>
            <td><emu-val>"maximumFractionDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MinimumSignificantDigits]]</var></td>
            <td><emu-val>"minimumSignificantDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[MaximumSignificantDigits]]</var></td>
            <td><emu-val>"maximumSignificantDigits"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td></td>
            <td><emu-val>"pluralCategories"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[RoundingIncrement]]</var></td>
            <td><emu-val>"roundingIncrement"</emu-val></td>
            <td><emu-const>number</emu-const></td>
          </tr>
          <tr>
            <td><var class="field">[[RoundingMode]]</var></td>
            <td><emu-val>"roundingMode"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[ComputedRoundingPriority]]</var></td>
            <td><emu-val>"roundingPriority"</emu-val></td>
            <td></td>
          </tr>
          <tr>
            <td><var class="field">[[TrailingZeroDisplay]]</var></td>
            <td><emu-val>"trailingZeroDisplay"</emu-val></td>
            <td></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules.prototype.select">
      <h1><span class="secnum">17.3.3</span> Intl.PluralRules.prototype.select ( <var>value</var> )</h1>

      <p>When the <code>select</code> method is called with an argument <var>value</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>pr</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>pr</var>, <var class="field">[[InitializedPluralRules]]</var>).</li><li>Let <var>n</var> be ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_991"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>value</var>).</li><li>Return <emu-xref aoid="ResolvePlural" id="_ref_992"><a href="#sec-resolveplural">ResolvePlural</a></emu-xref>(<var>pr</var>, <var>n</var>).<var class="field">[[PluralCategory]]</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules.prototype.selectrange">
      <h1><span class="secnum">17.3.4</span> Intl.PluralRules.prototype.selectRange ( <var>start</var>, <var>end</var> )</h1>

      <p>When the <code>selectRange</code> method is called with arguments <var>start</var> and <var>end</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>pr</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>pr</var>, <var class="field">[[InitializedPluralRules]]</var>).</li><li>If <var>start</var> is <emu-val>undefined</emu-val> or <var>end</var> is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>x</var> be ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_993"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>start</var>).</li><li>Let <var>y</var> be ?&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_994"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>end</var>).</li><li>Return ?&nbsp;<emu-xref aoid="ResolvePluralRange" id="_ref_995"><a href="#sec-resolvepluralrange">ResolvePluralRange</a></emu-xref>(<var>pr</var>, <var>x</var>, <var>y</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.pluralrules.prototype-%symbol.tostringtag%" oldids="sec-intl.pluralrules.prototype-tostringtag"><span id="sec-intl.pluralrules.prototype-tostringtag"></span>
      <h1><span class="secnum">17.3.5</span> Intl.PluralRules.prototype [ %Symbol.toStringTag% ]</h1>

      <p>The initial value of the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property is the String value <emu-val>"Intl.PluralRules"</emu-val>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> }.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-pluralrules-instances">
    <h1><span class="secnum">17.4</span> Properties of Intl.PluralRules Instances</h1>

    <p>Intl.PluralRules instances are <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary objects</a></emu-xref> that inherit properties from <emu-xref href="#sec-properties-of-intl-pluralrules-prototype-object" id="_ref_996"><a href="#sec-properties-of-intl-pluralrules-prototype-object">%Intl.PluralRules.prototype%</a></emu-xref>.</p>

    <p>Intl.PluralRules instances have an <var class="field">[[InitializedPluralRules]]</var> internal slot.</p>

    <p>Intl.PluralRules instances also have several internal slots that are computed by <emu-xref href="#sec-intl-pluralrules-constructor" title="" id="_ref_163"><a href="#sec-intl-pluralrules-constructor">The Intl.PluralRules Constructor</a></emu-xref>:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value with the <emu-xref href="#sec-language-tags" id="_ref_997"><a href="#sec-language-tags">language tag</a></emu-xref> of the locale whose localization is used by the plural rules.</li>
      <li><var class="field">[[Type]]</var> is one of the String values <emu-val>"cardinal"</emu-val> or <emu-val>"ordinal"</emu-val>, identifying the plural rules used.</li>
      <li><var class="field">[[Notation]]</var> is one of the String values <emu-val>"standard"</emu-val>, <emu-val>"scientific"</emu-val>, <emu-val>"engineering"</emu-val>, or <emu-val>"compact"</emu-val>, identifying the notation used.</li>
      <li><var class="field">[[CompactDisplay]]</var> is one of the String values <emu-val>"short"</emu-val> or <emu-val>"long"</emu-val>, specifying whether to display compact notation affixes in short form ("5K") or long form ("5 thousand") if formatting with the <emu-val>"compact"</emu-val> notation, as this can in some cases influence plural form selection. It is only used when <var class="field">[[Notation]]</var> has the value <emu-val>"compact"</emu-val>.</li>
      <li><var class="field">[[MinimumIntegerDigits]]</var> is a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> indicating the minimum <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> digits to be used.</li>
      <li><var class="field">[[MinimumFractionDigits]]</var> and <var class="field">[[MaximumFractionDigits]]</var> are non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integers</a></emu-xref> indicating the minimum and maximum fraction digits to be used. Numbers will be rounded or padded with trailing zeroes if necessary.</li>
      <li><var class="field">[[MinimumSignificantDigits]]</var> and <var class="field">[[MaximumSignificantDigits]]</var> are positive <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integers</a></emu-xref> indicating the minimum and maximum fraction digits to be used. Either none or both of these properties are present; if they are, they override minimum and maximum <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> and fraction digits.</li>
      <li><var class="field">[[RoundingType]]</var> is one of the values <emu-const>fraction-digits</emu-const>, <emu-const>significant-digits</emu-const>, <emu-const>more-precision</emu-const>, or <emu-const>less-precision</emu-const>, indicating which rounding strategy to use, as discussed in <emu-xref href="#sec-properties-of-intl-numberformat-instances" id="_ref_164"><a href="#sec-properties-of-intl-numberformat-instances">16.4</a></emu-xref>.</li>
      <li><var class="field">[[ComputedRoundingPriority]]</var> is one of the String values <emu-val>"auto"</emu-val>, <emu-val>"morePrecision"</emu-val>, or <emu-val>"lessPrecision"</emu-val>. It is only used in <emu-xref href="#sec-intl.pluralrules.prototype.resolvedoptions" id="_ref_165"><a href="#sec-intl.pluralrules.prototype.resolvedoptions">17.3.2</a></emu-xref> to convert <var class="field">[[RoundingType]]</var> back to a valid <emu-val>"roundingPriority"</emu-val> option.</li>
      <li><var class="field">[[RoundingIncrement]]</var> is an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> that evenly divides 10, 100, 1000, or 10000 into tenths, fifths, quarters, or halves. It indicates the increment at which rounding should take place relative to the calculated rounding magnitude. For example, if <var class="field">[[MaximumFractionDigits]]</var> is 2 and <var class="field">[[RoundingIncrement]]</var> is 5, then formatted numbers are rounded to the nearest 0.05 ("nickel rounding").</li>
      <li><var class="field">[[RoundingMode]]</var> identifies the <emu-xref href="#rounding-mode" id="_ref_998"><a href="#rounding-mode">rounding mode</a></emu-xref> to use.</li>
      <li><var class="field">[[TrailingZeroDisplay]]</var> is one of the String values <emu-val>"auto"</emu-val> or <emu-val>"stripIfInteger"</emu-val>, indicating whether to strip trailing zeros if the formatted number is an <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref> (i.e., has no non-zero fraction digit).</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-intl-pluralrules-abstracts">
    <h1><span class="secnum">17.5</span> Abstract Operations for PluralRules Objects</h1>

    <emu-clause id="sec-pluralruleselect" type="implementation-defined abstract operation" aoid="PluralRuleSelect">
      <h1><span class="secnum">17.5.1</span> PluralRuleSelect ( <var>locale</var>, <var>type</var>, <var>notation</var>, <var>compactDisplay</var>, <var>s</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation PluralRuleSelect takes arguments <var>locale</var> (a <emu-xref href="#sec-language-tags" id="_ref_999"><a href="#sec-language-tags">language tag</a></emu-xref>), <var>type</var> (<emu-val>"cardinal"</emu-val> or <emu-val>"ordinal"</emu-val>), <var>notation</var> (a String), <var>compactDisplay</var> (<emu-val>"short"</emu-val> or <emu-val>"long"</emu-val>), and <var>s</var> (a decimal String) and returns <emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, or <emu-val>"other"</emu-val>. The returned String characterizes the plural category of <var>s</var> according to <var>type</var>, <var>notation</var>, and <var>compactDisplay</var> for the corresponding <var>locale</var>.</p>
    </emu-clause>

    <emu-clause id="sec-resolveplural" type="abstract operation" aoid="ResolvePlural">
      <h1><span class="secnum">17.5.2</span> ResolvePlural ( <var>pluralRules</var>, <var>n</var> )</h1>
      <p>The abstract operation ResolvePlural takes arguments <var>pluralRules</var> (an Intl.PluralRules) and <var>n</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_1000"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> with fields <var class="field">[[PluralCategory]]</var> (<emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, or <emu-val>"other"</emu-val>) and <var class="field">[[FormattedString]]</var> (a String). The returned <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> contains two string-valued fields describing <var>n</var> according to the effective locale and the options of <var>pluralRules</var>: <var class="field">[[PluralCategory]]</var> characterizing its <emu-xref href="#sec-pluralruleselect" id="_ref_166"><a href="#sec-pluralruleselect">plural category</a></emu-xref>, and <var class="field">[[FormattedString]]</var> containing its formatted representation. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>n</var> is <emu-const>not-a-number</emu-const>, then<ol><li>Let <var>s</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_1001"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value indicating the <emu-val>NaN</emu-val> value.</li><li>Return the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[PluralCategory]]</var>: <emu-val>"other"</emu-val>, <var class="field">[[FormattedString]]</var>: <var>s</var>&nbsp;}.</li></ol></li><li>If <var>n</var> is <emu-const>positive-infinity</emu-const>, then<ol><li>Let <var>s</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_1002"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value indicating positive infinity.</li><li>Return the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[PluralCategory]]</var>: <emu-val>"other"</emu-val>, <var class="field">[[FormattedString]]</var>: <var>s</var>&nbsp;}.</li></ol></li><li>If <var>n</var> is <emu-const>negative-infinity</emu-const>, then<ol><li>Let <var>s</var> be an <emu-xref href="#sec-implementation-dependencies" id="_ref_1003"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> String value indicating negative infinity.</li><li>Return the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[PluralCategory]]</var>: <emu-val>"other"</emu-val>, <var class="field">[[FormattedString]]</var>: <var>s</var>&nbsp;}.</li></ol></li><li>Let <var>res</var> be <emu-xref aoid="FormatNumericToString" id="_ref_1004"><a href="#sec-formatnumerictostring">FormatNumericToString</a></emu-xref>(<var>pluralRules</var>, <var>n</var>).</li><li>Let <var>s</var> be <var>res</var>.<var class="field">[[FormattedString]]</var>.</li><li>Let <var>locale</var> be <var>pluralRules</var>.<var class="field">[[Locale]]</var>.</li><li>Let <var>type</var> be <var>pluralRules</var>.<var class="field">[[Type]]</var>.</li><li>Let <var>notation</var> be <var>pluralRules</var>.<var class="field">[[Notation]]</var>.</li><li>Let <var>compactDisplay</var> be <var>pluralRules</var>.<var class="field">[[CompactDisplay]]</var>.</li><li>Let <var>p</var> be <emu-xref aoid="PluralRuleSelect" id="_ref_1005"><a href="#sec-pluralruleselect">PluralRuleSelect</a></emu-xref>(<var>locale</var>, <var>type</var>, <var>notation</var>, <var>compactDisplay</var>, <var>s</var>).</li><li>Return the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[PluralCategory]]</var>: <var>p</var>, <var class="field">[[FormattedString]]</var>: <var>s</var>&nbsp;}.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-pluralruleselectrange" type="implementation-defined abstract operation" aoid="PluralRuleSelectRange">
      <h1><span class="secnum">17.5.3</span> PluralRuleSelectRange ( <var>locale</var>, <var>type</var>, <var>notation</var>, <var>compactDisplay</var>, <var>xp</var>, <var>yp</var> )</h1>
      <p>The <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> abstract operation PluralRuleSelectRange takes arguments <var>locale</var> (a <emu-xref href="#sec-language-tags" id="_ref_1006"><a href="#sec-language-tags">language tag</a></emu-xref>), <var>type</var> (<emu-val>"cardinal"</emu-val> or <emu-val>"ordinal"</emu-val>), <var>notation</var> (a String), <var>compactDisplay</var> (<emu-val>"short"</emu-val> or <emu-val>"long"</emu-val>), <var>xp</var> (<emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, or <emu-val>"other"</emu-val>), and <var>yp</var> (<emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, or <emu-val>"other"</emu-val>) and returns <emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, or <emu-val>"other"</emu-val>. It performs an implementation-dependent algorithm to map the <emu-xref href="#sec-pluralruleselect" id="_ref_167"><a href="#sec-pluralruleselect">plural category</a></emu-xref> String values <var>xp</var> and <var>yp</var>, respectively characterizing the start and end of a range, to a resolved String value for the plural form of the range as a whole denoted by <var>type</var>, <var>notation</var>, and <var>compactDisplay</var> for the corresponding <var>locale</var>, or the String value <emu-val>"other"</emu-val>.</p>
    </emu-clause>

    <emu-clause id="sec-resolvepluralrange" type="abstract operation" aoid="ResolvePluralRange">
      <h1><span class="secnum">17.5.4</span> ResolvePluralRange ( <var>pluralRules</var>, <var>x</var>, <var>y</var> )</h1>
      <p>The abstract operation ResolvePluralRange takes arguments <var>pluralRules</var> (an Intl.PluralRules), <var>x</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_1007"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>), and <var>y</var> (an <emu-xref href="#intl-mathematical-value" id="_ref_1008"><a href="#intl-mathematical-value">Intl mathematical value</a></emu-xref>) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> either <emu-val>"zero"</emu-val>, <emu-val>"one"</emu-val>, <emu-val>"two"</emu-val>, <emu-val>"few"</emu-val>, <emu-val>"many"</emu-val>, or <emu-val>"other"</emu-val>, or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. The returned String value represents the plural form of the range starting from <var>x</var> and ending at <var>y</var> according to the effective locale and the options of <var>pluralRules</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>If <var>x</var> is <emu-const>not-a-number</emu-const> or <var>y</var> is <emu-const>not-a-number</emu-const>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>xp</var> be <emu-xref aoid="ResolvePlural" id="_ref_1009"><a href="#sec-resolveplural">ResolvePlural</a></emu-xref>(<var>pluralRules</var>, <var>x</var>).</li><li>Let <var>yp</var> be <emu-xref aoid="ResolvePlural" id="_ref_1010"><a href="#sec-resolveplural">ResolvePlural</a></emu-xref>(<var>pluralRules</var>, <var>y</var>).</li><li>If <var>xp</var>.<var class="field">[[FormattedString]]</var> is <var>yp</var>.<var class="field">[[FormattedString]]</var>, then<ol><li>Return <var>xp</var>.<var class="field">[[PluralCategory]]</var>.</li></ol></li><li>Let <var>locale</var> be <var>pluralRules</var>.<var class="field">[[Locale]]</var>.</li><li>Let <var>type</var> be <var>pluralRules</var>.<var class="field">[[Type]]</var>.</li><li>Let <var>notation</var> be <var>pluralRules</var>.<var class="field">[[Notation]]</var>.</li><li>Let <var>compactDisplay</var> be <var>pluralRules</var>.<var class="field">[[CompactDisplay]]</var>.</li><li>Return <emu-xref aoid="PluralRuleSelectRange" id="_ref_1011"><a href="#sec-pluralruleselectrange">PluralRuleSelectRange</a></emu-xref>(<var>locale</var>, <var>type</var>, <var>notation</var>, <var>compactDisplay</var>, <var>xp</var>.<var class="field">[[PluralCategory]]</var>, <var>yp</var>.<var class="field">[[PluralCategory]]</var>).</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="relativetimeformat-objects">
  <h1><span class="secnum">18</span> RelativeTimeFormat Objects</h1>

  <emu-clause id="sec-intl-relativetimeformat-constructor">
    <h1><span class="secnum">18.1</span> The Intl.RelativeTimeFormat Constructor</h1>

    <p>The Intl.RelativeTimeFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.RelativeTimeFormat%</dfn>.</li>
      <li>is the initial value of the <emu-val>"RelativeTimeFormat"</emu-val> property of the <emu-xref href="#intl-object" id="_ref_1012"><a href="#intl-object">Intl object</a></emu-xref>.</li>
    </ul>

    <p>Behaviour common to all <emu-xref href="#service-constructor" id="_ref_1013"><a href="#service-constructor">service constructor</a></emu-xref> properties of the <emu-xref href="#intl-object" id="_ref_1014"><a href="#intl-object">Intl object</a></emu-xref> is specified in <emu-xref href="#sec-internal-slots" id="_ref_168"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

    <emu-clause id="sec-Intl.RelativeTimeFormat" oldids="sec-InitializeRelativeTimeFormat"><span id="sec-InitializeRelativeTimeFormat"></span>
      <h1><span class="secnum">18.1.1</span> Intl.RelativeTimeFormat ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>When the <code>Intl.RelativeTimeFormat</code> function is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>If NewTarget is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>relativeTimeFormat</var> be ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.RelativeTimeFormat.prototype%"</emu-val>, « <var class="field">[[InitializedRelativeTimeFormat]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[LocaleData]]</var>, <var class="field">[[Style]]</var>, <var class="field">[[Numeric]]</var>, <var class="field">[[NumberFormat]]</var>, <var class="field">[[NumberingSystem]]</var>, <var class="field">[[PluralRules]]</var>&nbsp;»).</li><li>Let <var>optionsResolution</var> be ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_1015"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_1016"><a href="#sec-intl-relativetimeformat-constructor">%Intl.RelativeTimeFormat%</a></emu-xref>, <emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_1017"><a href="#sec-intl-relativetimeformat-constructor">%Intl.RelativeTimeFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>, <var>options</var>, « <emu-const>coerce-options</emu-const>&nbsp;»).</li><li>Set <var>options</var> to <var>optionsResolution</var>.<var class="field">[[Options]]</var>.</li><li>Let <var>r</var> be <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var>.</li><li>Let <var>locale</var> be <var>r</var>.<var class="field">[[Locale]]</var>.</li><li>Set <var>relativeTimeFormat</var>.<var class="field">[[Locale]]</var> to <var>locale</var>.</li><li>Set <var>relativeTimeFormat</var>.<var class="field">[[LocaleData]]</var> to <var>r</var>.<var class="field">[[LocaleData]]</var>.</li><li>Set <var>relativeTimeFormat</var>.<var class="field">[[NumberingSystem]]</var> to <var>r</var>.<var class="field">[[nu]]</var>.</li><li>Let <var>style</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_1018"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"style"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, <emu-val>"narrow"</emu-val>&nbsp;», <emu-val>"long"</emu-val>).</li><li>Set <var>relativeTimeFormat</var>.<var class="field">[[Style]]</var> to <var>style</var>.</li><li>Let <var>numeric</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_1019"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"numeric"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"always"</emu-val>, <emu-val>"auto"</emu-val>&nbsp;», <emu-val>"always"</emu-val>).</li><li>Set <var>relativeTimeFormat</var>.<var class="field">[[Numeric]]</var> to <var>numeric</var>.</li><li>Let <var>nfOptions</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-val>null</emu-val>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>nfOptions</var>, <emu-val>"numberingSystem"</emu-val>, <var>relativeTimeFormat</var>.<var class="field">[[NumberingSystem]]</var>).</li><li>Let <var>relativeTimeFormat</var>.<var class="field">[[NumberFormat]]</var> be !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_1020"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>locale</var>, <var>nfOptions</var>&nbsp;»).</li><li>Let <var>relativeTimeFormat</var>.<var class="field">[[PluralRules]]</var> be !&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-pluralrules-constructor" id="_ref_1021"><a href="#sec-intl-pluralrules-constructor">%Intl.PluralRules%</a></emu-xref>, « <var>locale</var>&nbsp;»).</li><li>Return <var>relativeTimeFormat</var>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-relativetimeformat-constructor">
    <h1><span class="secnum">18.2</span> Properties of the Intl.RelativeTimeFormat Constructor</h1>

    <p>The Intl.RelativeTimeFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref>.</li>
      <li>has the following properties:</li>
    </ul>

    <emu-clause id="sec-Intl.RelativeTimeFormat.prototype">
      <h1><span class="secnum">18.2.1</span> Intl.RelativeTimeFormat.prototype</h1>

      <p>The value of <code>Intl.RelativeTimeFormat.prototype</code> is <emu-xref href="#sec-properties-of-intl-relativetimeformat-prototype-object" id="_ref_1022"><a href="#sec-properties-of-intl-relativetimeformat-prototype-object">%Intl.RelativeTimeFormat.prototype%</a></emu-xref>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> }.</p>
    </emu-clause>

    <emu-clause id="sec-Intl.RelativeTimeFormat.supportedLocalesOf">
      <h1><span class="secnum">18.2.2</span> Intl.RelativeTimeFormat.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p>When the <code>supportedLocalesOf</code> method is called with arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>availableLocales</var> be <emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_1023"><a href="#sec-intl-relativetimeformat-constructor">%Intl.RelativeTimeFormat%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var>.</li><li>Let <var>requestedLocales</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_1024"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_1025"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.RelativeTimeFormat-internal-slots">
      <h1><span class="secnum">18.2.3</span> Internal slots</h1>

      <p>The value of the <var class="field">[[AvailableLocales]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_169"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

      <p>The value of the <var class="field">[[RelevantExtensionKeys]]</var> internal slot is « <emu-val>"nu"</emu-val> ».</p>

      <p>The value of the <var class="field">[[ResolutionOptionDescriptors]]</var> internal slot is « { <var class="field">[[Key]]</var>: <emu-val>"nu"</emu-val>, <var class="field">[[Property]]</var>: <emu-val>"numberingSystem"</emu-val> } ».</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        <a href="https://unicode.org/reports/tr35/#Key_And_Type_Definitions_">Unicode Technical Standard #35 Part 1 Core, Section 3.6.1 Key and Type Definitions</a> describes one locale extension key that is relevant to relative time formatting: <emu-val>"nu"</emu-val> for numbering system (of formatted numbers).
      </div></emu-note>

      <p>The value of the <var class="field">[[LocaleData]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_170"><a href="#sec-internal-slots">9.1</a></emu-xref> and the following additional constraints, for all locale values <var>locale</var>:</p>

      <ul>
        <li><var class="field">[[LocaleData]]</var>.[[&lt;<var>locale</var>&gt;]] has fields <emu-val>"second"</emu-val>, <emu-val>"minute"</emu-val>, <emu-val>"hour"</emu-val>, <emu-val>"day"</emu-val>, <emu-val>"week"</emu-val>, <emu-val>"month"</emu-val>, <emu-val>"quarter"</emu-val>, and <emu-val>"year"</emu-val>. Additional fields may exist with the previous names concatenated with the strings <emu-val>"-narrow"</emu-val> or <emu-val>"-short"</emu-val>. The values corresponding to these fields are <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> which contain these two categories of fields:
          <ul>
            <li><emu-val>"future"</emu-val> and <emu-val>"past"</emu-val> fields, which are <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with a field for each of the plural categories relevant for <var>locale</var>. The value corresponding to those fields is a pattern which may contain <emu-val>"{0}"</emu-val> to be replaced by a formatted number.</li>
            <li>Optionally, additional fields whose key is the result of <emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref> of a Number, and whose values are literal Strings which are not treated as templates.</li>
          </ul>
        </li>
        <li>
          The <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> that is the value of the <emu-val>"nu"</emu-val> field of any locale field of <var class="field">[[LocaleData]]</var> must not include the values <emu-val>"native"</emu-val>, <emu-val>"traditio"</emu-val>, or <emu-val>"finance"</emu-val>.
        </li>
      </ul>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        It is recommended that implementations use the locale data provided by the Common Locale Data Repository (available at <a href="https://cldr.unicode.org/">https://cldr.unicode.org/</a>).
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-relativetimeformat-prototype-object">
    <h1><span class="secnum">18.3</span> Properties of the Intl.RelativeTimeFormat Prototype Object</h1>

    <p>The <dfn tabindex="-1">Intl.RelativeTimeFormat prototype object</dfn>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.RelativeTimeFormat.prototype%</dfn>.</li>
      <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
      <li>is not an Intl.RelativeTimeFormat instance and does not have an <var class="field">[[InitializedRelativeTimeFormat]]</var> internal slot or any of the other internal slots of Intl.RelativeTimeFormat instance objects.</li>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>.</li>
    </ul>

    <emu-clause id="sec-Intl.RelativeTimeFormat.prototype.constructor">
      <h1><span class="secnum">18.3.1</span> Intl.RelativeTimeFormat.prototype.constructor</h1>

      <p>The initial value of <code>Intl.RelativeTimeFormat.prototype.constructor</code> is <emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_1026"><a href="#sec-intl-relativetimeformat-constructor">%Intl.RelativeTimeFormat%</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.relativetimeformat.prototype.resolvedoptions">
      <h1><span class="secnum">18.3.2</span> Intl.RelativeTimeFormat.prototype.resolvedOptions ( )</h1>

      <p>This function provides access to the locale and options computed during initialization of the object.</p>

      <emu-alg><ol><li>Let <var>relativeTimeFormat</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>relativeTimeFormat</var>, <var class="field">[[InitializedRelativeTimeFormat]]</var>).</li><li>Let <var>options</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>For each row of <emu-xref href="#table-relativetimeformat-resolvedoptions-properties" id="_ref_171"><a href="#table-relativetimeformat-resolvedoptions-properties">Table 31</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>p</var> be the Property value of the current row.</li><li>Let <var>v</var> be the value of <var>relativeTimeFormat</var>'s internal slot whose name is the Internal Slot value of the current row.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>v</var> is not <emu-val>undefined</emu-val>.</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>).</li></ol></li><li>Return <var>options</var>.</li></ol></emu-alg>

      <emu-table id="table-relativetimeformat-resolvedoptions-properties"><figure><figcaption>Table 31: Resolved Options of RelativeTimeFormat Instances</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Property</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Style]]</var></td>
            <td><emu-val>"style"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[Numeric]]</var></td>
            <td><emu-val>"numeric"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[NumberingSystem]]</var></td>
            <td><emu-val>"numberingSystem"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-Intl.RelativeTimeFormat.prototype.format">
      <h1><span class="secnum">18.3.3</span> Intl.RelativeTimeFormat.prototype.format ( <var>value</var>, <var>unit</var> )</h1>

      <p>When the <code>format</code> method is called with arguments <var>value</var> and <var>unit</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>relativeTimeFormat</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>relativeTimeFormat</var>, <var class="field">[[InitializedRelativeTimeFormat]]</var>).</li><li>Let <var>value</var> be ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>value</var>).</li><li>Let <var>unit</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>unit</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FormatRelativeTime" id="_ref_1027"><a href="#sec-FormatRelativeTime">FormatRelativeTime</a></emu-xref>(<var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.RelativeTimeFormat.prototype.formatToParts">
      <h1><span class="secnum">18.3.4</span> Intl.RelativeTimeFormat.prototype.formatToParts ( <var>value</var>, <var>unit</var> )</h1>

      <p>When the <code>formatToParts</code> method is called with arguments <var>value</var> and <var>unit</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>relativeTimeFormat</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>relativeTimeFormat</var>, <var class="field">[[InitializedRelativeTimeFormat]]</var>).</li><li>Let <var>value</var> be ?&nbsp;<emu-xref aoid="ToNumber"><a href="https://tc39.es/ecma262/#sec-tonumber">ToNumber</a></emu-xref>(<var>value</var>).</li><li>Let <var>unit</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>unit</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FormatRelativeTimeToParts" id="_ref_1028"><a href="#sec-FormatRelativeTimeToParts">FormatRelativeTimeToParts</a></emu-xref>(<var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-Intl.RelativeTimeFormat.prototype-toStringTag">
      <h1><span class="secnum">18.3.5</span> Intl.RelativeTimeFormat.prototype [ %Symbol.toStringTag% ]</h1>

      <p>The initial value of the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property is the String value <emu-val>"Intl.RelativeTimeFormat"</emu-val>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> }.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-relativetimeformat-instances">
    <h1><span class="secnum">18.4</span> Properties of Intl.RelativeTimeFormat Instances</h1>

    <p>Intl.RelativeTimeFormat instances are <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary objects</a></emu-xref> that inherit properties from <emu-xref href="#sec-properties-of-intl-relativetimeformat-prototype-object" id="_ref_1029"><a href="#sec-properties-of-intl-relativetimeformat-prototype-object">%Intl.RelativeTimeFormat.prototype%</a></emu-xref>.</p>

    <p>Intl.RelativeTimeFormat instances have an <var class="field">[[InitializedRelativeTimeFormat]]</var> internal slot.</p>

    <p>Intl.RelativeTimeFormat instances also have several internal slots that are computed by <emu-xref href="#sec-intl-relativetimeformat-constructor" title="" id="_ref_172"><a href="#sec-intl-relativetimeformat-constructor">The Intl.RelativeTimeFormat Constructor</a></emu-xref>:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value with the <emu-xref href="#sec-language-tags" id="_ref_1030"><a href="#sec-language-tags">language tag</a></emu-xref> of the locale whose localization is used for formatting.</li>
      <li><var class="field">[[LocaleData]]</var> is a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> representing the data available to the implementation for formatting. It is the value of an entry in <emu-xref href="#sec-intl-relativetimeformat-constructor" id="_ref_1031"><a href="#sec-intl-relativetimeformat-constructor">%Intl.RelativeTimeFormat%</a></emu-xref>.<var class="field">[[LocaleData]]</var> associated with either the value of <var class="field">[[Locale]]</var> or a prefix thereof.</li>
      <li><var class="field">[[Style]]</var> is one of the String values <emu-val>"long"</emu-val>, <emu-val>"short"</emu-val>, or <emu-val>"narrow"</emu-val>, identifying the relative time format style used.</li>
      <li><var class="field">[[Numeric]]</var> is one of the String values <emu-val>"always"</emu-val> or <emu-val>"auto"</emu-val>, identifying whether numerical descriptions are always used, or used only when no more specific version is available (e.g., "1 day ago" vs "yesterday").</li>
      <li><var class="field">[[NumberFormat]]</var> is an Intl.NumberFormat object used for formatting.</li>
      <li><var class="field">[[NumberingSystem]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value representing the <a href="https://unicode.org/reports/tr35/#UnicodeNumberSystemIdentifier">Unicode Number System Identifier</a> used for formatting.</li>
      <li><var class="field">[[PluralRules]]</var> is an Intl.PluralRules object used for formatting.</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-intl-relativetimeformat--abstracts">
    <h1><span class="secnum">18.5</span> Abstract Operations for RelativeTimeFormat Objects</h1>

    <emu-clause id="sec-singularrelativetimeunit" type="abstract operation" aoid="SingularRelativeTimeUnit">
      <h1><span class="secnum">18.5.1</span> SingularRelativeTimeUnit ( <var>unit</var> )</h1>

      <p>The abstract operation SingularRelativeTimeUnit takes argument <var>unit</var> (a String) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a String or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>

      <emu-alg><ol><li>If <var>unit</var> is <emu-val>"seconds"</emu-val>, return <emu-val>"second"</emu-val>.</li><li>If <var>unit</var> is <emu-val>"minutes"</emu-val>, return <emu-val>"minute"</emu-val>.</li><li>If <var>unit</var> is <emu-val>"hours"</emu-val>, return <emu-val>"hour"</emu-val>.</li><li>If <var>unit</var> is <emu-val>"days"</emu-val>, return <emu-val>"day"</emu-val>.</li><li>If <var>unit</var> is <emu-val>"weeks"</emu-val>, return <emu-val>"week"</emu-val>.</li><li>If <var>unit</var> is <emu-val>"months"</emu-val>, return <emu-val>"month"</emu-val>.</li><li>If <var>unit</var> is <emu-val>"quarters"</emu-val>, return <emu-val>"quarter"</emu-val>.</li><li>If <var>unit</var> is <emu-val>"years"</emu-val>, return <emu-val>"year"</emu-val>.</li><li>If <var>unit</var> is not one of <emu-val>"second"</emu-val>, <emu-val>"minute"</emu-val>, <emu-val>"hour"</emu-val>, <emu-val>"day"</emu-val>, <emu-val>"week"</emu-val>, <emu-val>"month"</emu-val>, <emu-val>"quarter"</emu-val>, or <emu-val>"year"</emu-val>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Return <var>unit</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-PartitionRelativeTimePattern" type="abstract operation" aoid="PartitionRelativeTimePattern">
      <h1><span class="secnum">18.5.2</span> PartitionRelativeTimePattern ( <var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var> )</h1>

      <p>The abstract operation PartitionRelativeTimePattern takes arguments <var>relativeTimeFormat</var> (an Intl.RelativeTimeFormat), <var>value</var> (a Number), and <var>unit</var> (a String) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String), <var class="field">[[Value]]</var> (a String), and <var class="field">[[Unit]]</var> (a String or <emu-const>empty</emu-const>), or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. The returned <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> represents <var>value</var> according to the effective locale and the formatting options of <var>relativeTimeFormat</var>. It performs the following steps when called:</p>

      <emu-alg><ol><li>If <var>value</var> is <emu-val>NaN</emu-val>, <emu-val>+∞</emu-val><sub>𝔽</sub>, or <emu-val>-∞</emu-val><sub>𝔽</sub>, throw a <emu-val>RangeError</emu-val> exception.</li><li>Let <var>unit</var> be ?&nbsp;<emu-xref aoid="SingularRelativeTimeUnit" id="_ref_1032"><a href="#sec-singularrelativetimeunit">SingularRelativeTimeUnit</a></emu-xref>(<var>unit</var>).</li><li>Let <var>fields</var> be <var>relativeTimeFormat</var>.<var class="field">[[LocaleData]]</var>.</li><li>Let <var>patterns</var> be <var>fields</var>.[[&lt;<var>unit</var>&gt;]].</li><li>Let <var>style</var> be <var>relativeTimeFormat</var>.<var class="field">[[Style]]</var>.</li><li>If <var>style</var> is <emu-val>"short"</emu-val> or <emu-val>"narrow"</emu-val>, then<ol><li>Let <var>key</var> be the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>unit</var>, <emu-val>"-"</emu-val>, and <var>style</var>.</li><li>If <var>fields</var> has a field [[&lt;<var>key</var>&gt;]], set <var>patterns</var> to <var>fields</var>.[[&lt;<var>key</var>&gt;]].</li></ol></li><li>If <var>relativeTimeFormat</var>.<var class="field">[[Numeric]]</var> is <emu-val>"auto"</emu-val>, then<ol><li>Let <var>valueString</var> be !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>value</var>).</li><li>If <var>patterns</var> has a field [[&lt;<var>valueString</var>&gt;]], then<ol><li>Let <var>result</var> be <var>patterns</var>.[[&lt;<var>valueString</var>&gt;]].</li><li>Return a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> containing the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>result</var>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>&nbsp;}.</li></ol></li></ol></li><li>If <var>value</var> is <emu-val>-0</emu-val><sub>𝔽</sub> or <var>value</var> &lt; <emu-val>-0</emu-val><sub>𝔽</sub>, then<ol><li>Let <var>tl</var> be <emu-val>"past"</emu-val>.</li></ol></li><li>Else,<ol><li>Let <var>tl</var> be <emu-val>"future"</emu-val>.</li></ol></li><li>Let <var>po</var> be <var>patterns</var>.[[&lt;<var>tl</var>&gt;]].</li><li>Let <var>fv</var> be <emu-xref aoid="PartitionNumberPattern" id="_ref_1033"><a href="#sec-partitionnumberpattern">PartitionNumberPattern</a></emu-xref>(<var>relativeTimeFormat</var>.<var class="field">[[NumberFormat]]</var>, <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>value</var>)).</li><li>Let <var>pr</var> be <emu-xref aoid="ResolvePlural" id="_ref_1034"><a href="#sec-resolveplural">ResolvePlural</a></emu-xref>(<var>relativeTimeFormat</var>.<var class="field">[[PluralRules]]</var>, <var>value</var>).<var class="field">[[PluralCategory]]</var>.</li><li>Let <var>pattern</var> be <var>po</var>.[[&lt;<var>pr</var>&gt;]].</li><li>Return <emu-xref aoid="MakePartsList" id="_ref_1035"><a href="#sec-makepartslist">MakePartsList</a></emu-xref>(<var>pattern</var>, <var>unit</var>, <var>fv</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-makepartslist" type="abstract operation" aoid="MakePartsList">
      <h1><span class="secnum">18.5.3</span> MakePartsList ( <var>pattern</var>, <var>unit</var>, <var>parts</var> )</h1>

      <p>The abstract operation MakePartsList takes arguments <var>pattern</var> (a <emu-xref href="#sec-pattern-string-types" id="_ref_1036"><a href="#sec-pattern-string-types">Pattern String</a></emu-xref>), <var>unit</var> (a String), and <var>parts</var> (a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> representing a formatted Number) and returns a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> with fields <var class="field">[[Type]]</var> (a String), <var class="field">[[Value]]</var> (a String), and <var class="field">[[Unit]]</var> (a String or <emu-const>empty</emu-const>). It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>patternParts</var> be <emu-xref aoid="PartitionPattern" id="_ref_1037"><a href="#sec-partitionpattern">PartitionPattern</a></emu-xref>(<var>pattern</var>).</li><li>Let <var>result</var> be a new empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>patternPart</var> of <var>patternParts</var>, do<ol><li>If <var>patternPart</var>.<var class="field">[[Type]]</var> is <emu-val>"literal"</emu-val>, then<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <var>patternPart</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>&nbsp;} to <var>result</var>.</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>patternPart</var>.<var class="field">[[Type]]</var> is <emu-val>"0"</emu-val>.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do<ol><li>Append the <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <var>part</var>.<var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>: <var>part</var>.<var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>: <var>unit</var>&nbsp;} to <var>result</var>.</li></ol></li></ol></li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        Example:
        <emu-alg><ol><li>Return <emu-xref aoid="MakePartsList" id="_ref_1038"><a href="#sec-makepartslist">MakePartsList</a></emu-xref>(<emu-val>"AA{0}BB"</emu-val>, <emu-val>"hour"</emu-val>, « <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>: <emu-val>"integer"</emu-val>, <var class="field">[[Value]]</var>: <emu-val>"15"</emu-val>&nbsp;}&nbsp;»).</li></ol></emu-alg>
        will return a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Records</a></emu-xref> like
        <kbd style="font: inherit; white-space: pre-wrap">
          «
          { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <emu-val>"AA"</emu-val>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>},
          { <var class="field">[[Type]]</var>: <emu-val>"integer"</emu-val>, <var class="field">[[Value]]</var>: <emu-val>"15"</emu-val>, <var class="field">[[Unit]]</var>: <emu-val>"hour"</emu-val>},
          { <var class="field">[[Type]]</var>: <emu-val>"literal"</emu-val>, <var class="field">[[Value]]</var>: <emu-val>"BB"</emu-val>, <var class="field">[[Unit]]</var>: <emu-const>empty</emu-const>}
          »
        </kbd>
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sec-FormatRelativeTime" type="abstract operation" aoid="FormatRelativeTime">
      <h1><span class="secnum">18.5.4</span> FormatRelativeTime ( <var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var> )</h1>

      <p>The abstract operation FormatRelativeTime takes arguments <var>relativeTimeFormat</var> (an Intl.RelativeTimeFormat), <var>value</var> (a Number), and <var>unit</var> (a String) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> a String or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>parts</var> be ?&nbsp;<emu-xref aoid="PartitionRelativeTimePattern" id="_ref_1039"><a href="#sec-PartitionRelativeTimePattern">PartitionRelativeTimePattern</a></emu-xref>(<var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var>).</li><li>Let <var>result</var> be the empty String.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do<ol><li>Set <var>result</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>result</var> and <var>part</var>.<var class="field">[[Value]]</var>.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-FormatRelativeTimeToParts" type="abstract operation" aoid="FormatRelativeTimeToParts">
      <h1><span class="secnum">18.5.5</span> FormatRelativeTimeToParts ( <var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var> )</h1>

      <p>The abstract operation FormatRelativeTimeToParts takes arguments <var>relativeTimeFormat</var> (an Intl.RelativeTimeFormat), <var>value</var> (a Number), and <var>unit</var> (a String) and returns either a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">normal completion containing</a></emu-xref> an Array or a <emu-xref href="#sec-completion-record-specification-type"><a href="https://tc39.es/ecma262/#sec-completion-record-specification-type">throw completion</a></emu-xref>. It performs the following steps when called:</p>

      <emu-alg><ol><li>Let <var>parts</var> be ?&nbsp;<emu-xref aoid="PartitionRelativeTimePattern" id="_ref_1040"><a href="#sec-PartitionRelativeTimePattern">PartitionRelativeTimePattern</a></emu-xref>(<var>relativeTimeFormat</var>, <var>value</var>, <var>unit</var>).</li><li>Let <var>result</var> be !&nbsp;<emu-xref aoid="ArrayCreate"><a href="https://tc39.es/ecma262/#sec-arraycreate">ArrayCreate</a></emu-xref>(0).</li><li>Let <var>n</var> be 0.</li><li>For each <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">Record</a></emu-xref> { <var class="field">[[Type]]</var>, <var class="field">[[Value]]</var>, <var class="field">[[Unit]]</var>&nbsp;} <var>part</var> of <var>parts</var>, do<ol><li>Let <var>O</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"type"</emu-val>, <var>part</var>.<var class="field">[[Type]]</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"value"</emu-val>, <var>part</var>.<var class="field">[[Value]]</var>).</li><li>If <var>part</var>.<var class="field">[[Unit]]</var> is not <emu-const>empty</emu-const>, then<ol><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>O</var>, <emu-val>"unit"</emu-val>, <var>part</var>.<var class="field">[[Unit]]</var>).</li></ol></li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>n</var>)), <var>O</var>).</li><li>Increment <var>n</var> by 1.</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-clause id="segmenter-objects">
  <h1><span class="secnum">19</span> Segmenter Objects</h1>

  <emu-clause id="sec-intl-segmenter-constructor">
    <h1><span class="secnum">19.1</span> The Intl.Segmenter Constructor</h1>

    <p>The Intl.Segmenter <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.Segmenter%</dfn>.</li>
      <li>is the initial value of the <emu-val>"Segmenter"</emu-val> property of the <emu-xref href="#intl-object" id="_ref_1041"><a href="#intl-object">Intl object</a></emu-xref>.</li>
    </ul>

    <p>Behaviour common to all <emu-xref href="#service-constructor" id="_ref_1042"><a href="#service-constructor">service constructor</a></emu-xref> properties of the <emu-xref href="#intl-object" id="_ref_1043"><a href="#intl-object">Intl object</a></emu-xref> is specified in <emu-xref href="#sec-internal-slots" id="_ref_173"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

    <emu-clause id="sec-intl.segmenter">
      <h1><span class="secnum">19.1.1</span> Intl.Segmenter ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>When the <code>Intl.Segmenter</code> function is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>If NewTarget is <emu-val>undefined</emu-val>, throw a <emu-val>TypeError</emu-val> exception.</li><li>Let <var>internalSlotsList</var> be « <var class="field">[[InitializedSegmenter]]</var>, <var class="field">[[Locale]]</var>, <var class="field">[[SegmenterGranularity]]</var>&nbsp;».</li><li>Let <var>segmenter</var> be ?&nbsp;<emu-xref aoid="OrdinaryCreateFromConstructor"><a href="https://tc39.es/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a></emu-xref>(NewTarget, <emu-val>"%Intl.Segmenter.prototype%"</emu-val>, <var>internalSlotsList</var>).</li><li>Let <var>optionsResolution</var> be ?&nbsp;<emu-xref aoid="ResolveOptions" id="_ref_1044"><a href="#sec-resolveoptions">ResolveOptions</a></emu-xref>(<emu-xref href="#sec-intl-segmenter-constructor" id="_ref_1045"><a href="#sec-intl-segmenter-constructor">%Intl.Segmenter%</a></emu-xref>, <emu-xref href="#sec-intl-segmenter-constructor" id="_ref_1046"><a href="#sec-intl-segmenter-constructor">%Intl.Segmenter%</a></emu-xref>.<var class="field">[[LocaleData]]</var>, <var>locales</var>, <var>options</var>).</li><li>Set <var>options</var> to <var>optionsResolution</var>.<var class="field">[[Options]]</var>.</li><li>Let <var>r</var> be <var>optionsResolution</var>.<var class="field">[[ResolvedLocale]]</var>.</li><li>Set <var>segmenter</var>.<var class="field">[[Locale]]</var> to <var>r</var>.<var class="field">[[Locale]]</var>.</li><li>Let <var>granularity</var> be ?&nbsp;<emu-xref aoid="GetOption" id="_ref_1047"><a href="#sec-getoption">GetOption</a></emu-xref>(<var>options</var>, <emu-val>"granularity"</emu-val>, <emu-const>string</emu-const>, « <emu-val>"grapheme"</emu-val>, <emu-val>"word"</emu-val>, <emu-val>"sentence"</emu-val>&nbsp;», <emu-val>"grapheme"</emu-val>).</li><li>Set <var>segmenter</var>.<var class="field">[[SegmenterGranularity]]</var> to <var>granularity</var>.</li><li>Return <var>segmenter</var>.</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-segmenter-constructor">
    <h1><span class="secnum">19.2</span> Properties of the Intl.Segmenter Constructor</h1>

    <p>The Intl.Segmenter <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref>:</p>
    <ul>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-function-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-function-prototype-object">%Function.prototype%</a></emu-xref>.</li>
      <li>has the following properties:</li>
    </ul>

    <emu-clause id="sec-intl.segmenter.prototype">
      <h1><span class="secnum">19.2.1</span> Intl.Segmenter.prototype</h1>

      <p>The value of <code>Intl.Segmenter.prototype</code> is <emu-xref href="#sec-properties-of-intl-segmenter-prototype-object" id="_ref_1048"><a href="#sec-properties-of-intl-segmenter-prototype-object">%Intl.Segmenter.prototype%</a></emu-xref>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>false</emu-val> }.</p>
    </emu-clause>

    <emu-clause id="sec-intl.segmenter.supportedlocalesof">
      <h1><span class="secnum">19.2.2</span> Intl.Segmenter.supportedLocalesOf ( <var>locales</var> [ , <var>options</var> ] )</h1>

      <p>When the <code>supportedLocalesOf</code> method is called with arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>availableLocales</var> be <emu-xref href="#sec-intl-segmenter-constructor" id="_ref_1049"><a href="#sec-intl-segmenter-constructor">%Intl.Segmenter%</a></emu-xref>.<var class="field">[[AvailableLocales]]</var>.</li><li>Let <var>requestedLocales</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_1050"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>Return ?&nbsp;<emu-xref aoid="FilterLocales" id="_ref_1051"><a href="#sec-filterlocales">FilterLocales</a></emu-xref>(<var>availableLocales</var>, <var>requestedLocales</var>, <var>options</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.segmenter-internal-slots">
      <h1><span class="secnum">19.2.3</span> Internal slots</h1>

      <p>The value of the <var class="field">[[AvailableLocales]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_174"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>

      <p>The value of the <var class="field">[[RelevantExtensionKeys]]</var> internal slot is « ».</p>

      <p>The value of the <var class="field">[[ResolutionOptionDescriptors]]</var> internal slot is « ».</p>
      <emu-note><span class="note">Note</span><div class="note-contents">
        Intl.Segmenter does not have any relevant extension keys.
      </div></emu-note>

      <p>The value of the <var class="field">[[LocaleData]]</var> internal slot is <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> within the constraints described in <emu-xref href="#sec-internal-slots" id="_ref_175"><a href="#sec-internal-slots">9.1</a></emu-xref>.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-segmenter-prototype-object">
    <h1><span class="secnum">19.3</span> Properties of the Intl.Segmenter Prototype Object</h1>

    <p>The <dfn tabindex="-1">Intl.Segmenter prototype object</dfn>:</p>
    <ul>
      <li>is <dfn tabindex="-1">%Intl.Segmenter.prototype%</dfn>.</li>
      <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
      <li>is not an Intl.Segmenter instance and does not have an <var class="field">[[InitializedSegmenter]]</var> internal slot or any of the other internal slots of Intl.Segmenter instance objects.</li>
      <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>.</li>
    </ul>

    <emu-clause id="sec-intl.segmenter.prototype.constructor">
      <h1><span class="secnum">19.3.1</span> Intl.Segmenter.prototype.constructor</h1>

      <p>The initial value of <code>Intl.Segmenter.prototype.constructor</code> is <emu-xref href="#sec-intl-segmenter-constructor" id="_ref_1052"><a href="#sec-intl-segmenter-constructor">%Intl.Segmenter%</a></emu-xref>.</p>
    </emu-clause>

    <emu-clause id="sec-intl.segmenter.prototype.resolvedoptions">
      <h1><span class="secnum">19.3.2</span> Intl.Segmenter.prototype.resolvedOptions ( )</h1>

      <p>This function provides access to the locale and options computed during initialization of the object.</p>

      <emu-alg><ol><li>Let <var>segmenter</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>segmenter</var>, <var class="field">[[InitializedSegmenter]]</var>).</li><li>Let <var>options</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>For each row of <emu-xref href="#table-segmenter-resolvedoptions-properties" id="_ref_176"><a href="#table-segmenter-resolvedoptions-properties">Table 32</a></emu-xref>, except the header row, in table order, do<ol><li>Let <var>p</var> be the Property value of the current row.</li><li>Let <var>v</var> be the value of <var>segmenter</var>'s internal slot whose name is the Internal Slot value of the current row.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>v</var> is not <emu-val>undefined</emu-val>.</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>options</var>, <var>p</var>, <var>v</var>).</li></ol></li><li>Return <var>options</var>.</li></ol></emu-alg>

      <emu-table id="table-segmenter-resolvedoptions-properties"><figure><figcaption>Table 32: Resolved Options of Segmenter Instances</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Property</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[Locale]]</var></td>
            <td><emu-val>"locale"</emu-val></td>
          </tr>
          <tr>
            <td><var class="field">[[SegmenterGranularity]]</var></td>
            <td><emu-val>"granularity"</emu-val></td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>

    <emu-clause id="sec-intl.segmenter.prototype.segment">
      <h1><span class="secnum">19.3.3</span> Intl.Segmenter.prototype.segment ( <var>string</var> )</h1>

      <p>The <code>Intl.Segmenter.prototype.segment</code> method is called on an Intl.Segmenter instance with argument <var>string</var> to create a <emu-xref href="#sec-segments-objects" id="_ref_1053"><a href="#sec-segments-objects">Segments instance</a></emu-xref> for the string using the locale and options of the Intl.Segmenter instance. The following steps are taken:</p>

      <emu-alg><ol><li>Let <var>segmenter</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>segmenter</var>, <var class="field">[[InitializedSegmenter]]</var>).</li><li>Let <var>string</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>string</var>).</li><li>Return <emu-xref aoid="CreateSegmentsObject" id="_ref_1054"><a href="#sec-createsegmentsobject">CreateSegmentsObject</a></emu-xref>(<var>segmenter</var>, <var>string</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-intl.segmenter.prototype-%symbol.tostringtag%" oldids="sec-intl.segmenter.prototype-@@tostringtag"><span id="sec-intl.segmenter.prototype-@@tostringtag"></span>
      <h1><span class="secnum">19.3.4</span> Intl.Segmenter.prototype [ %Symbol.toStringTag% ]</h1>

      <p>The initial value of the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property is the String value <emu-val>"Intl.Segmenter"</emu-val>.</p>
      <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> }.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-intl-segmenter-instances">
    <h1><span class="secnum">19.4</span> Properties of Intl.Segmenter Instances</h1>

    <p>Intl.Segmenter instances are <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary objects</a></emu-xref> that inherit properties from <emu-xref href="#sec-properties-of-intl-segmenter-prototype-object" id="_ref_1055"><a href="#sec-properties-of-intl-segmenter-prototype-object">%Intl.Segmenter.prototype%</a></emu-xref>.</p>

    <p>Intl.Segmenter instances have an <var class="field">[[InitializedSegmenter]]</var> internal slot.</p>

    <p>Intl.Segmenter instances also have internal slots that are computed by <emu-xref href="#sec-intl-segmenter-constructor" title="" id="_ref_177"><a href="#sec-intl-segmenter-constructor">The Intl.Segmenter Constructor</a></emu-xref>:</p>

    <ul>
      <li><var class="field">[[Locale]]</var> <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">is a String</a></emu-xref> value with the <emu-xref href="#sec-language-tags" id="_ref_1056"><a href="#sec-language-tags">language tag</a></emu-xref> of the locale whose localization is used for segmentation.</li>
      <li><var class="field">[[SegmenterGranularity]]</var> is one of the String values <emu-val>"grapheme"</emu-val>, <emu-val>"word"</emu-val>, or <emu-val>"sentence"</emu-val>, identifying the kind of text element to segment.</li>
    </ul>
  </emu-clause>

  <emu-clause id="sec-segments-objects">
    <h1><span class="secnum">19.5</span> Segments Objects</h1>

    <p>A <dfn tabindex="-1">Segments instance</dfn> is an object that represents the segments of a specific string, subject to the locale and options of its constructing Intl.Segmenter instance.</p>

    <emu-clause id="sec-createsegmentsobject" type="abstract operation" aoid="CreateSegmentsObject">
      <h1><span class="secnum">19.5.1</span> CreateSegmentsObject ( <var>segmenter</var>, <var>string</var> )</h1>
      <p>The abstract operation CreateSegmentsObject takes arguments <var>segmenter</var> (an Intl.Segmenter) and <var>string</var> (a String) and returns a <emu-xref href="#sec-segments-objects" id="_ref_1057"><a href="#sec-segments-objects">Segments instance</a></emu-xref>. The <emu-xref href="#sec-segments-objects" id="_ref_1058"><a href="#sec-segments-objects">Segments instance</a></emu-xref> references <var>segmenter</var> and <var>string</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>internalSlotsList</var> be « <var class="field">[[SegmentsSegmenter]]</var>, <var class="field">[[SegmentsString]]</var>&nbsp;».</li><li>Let <var>segments</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-%intlsegmentsprototype%-object" id="_ref_1059"><a href="#sec-%intlsegmentsprototype%-object">%IntlSegmentsPrototype%</a></emu-xref>, <var>internalSlotsList</var>).</li><li>Set <var>segments</var>.<var class="field">[[SegmentsSegmenter]]</var> to <var>segmenter</var>.</li><li>Set <var>segments</var>.<var class="field">[[SegmentsString]]</var> to <var>string</var>.</li><li>Return <var>segments</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-%intlsegmentsprototype%-object" oldids="sec-%segmentsprototype%-object"><span id="sec-%segmentsprototype%-object"></span>
      <h1><span class="secnum">19.5.2</span> The %IntlSegmentsPrototype% Object</h1>
      <p>The <dfn tabindex="-1">%IntlSegmentsPrototype%</dfn> object:</p>
      <ul>
        <li>is the prototype of all Segments objects.</li>
        <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
        <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>.</li>
        <li>has the following properties:</li>
      </ul>

      <emu-clause id="sec-%intlsegmentsprototype%.containing" oldids="sec-%segmentsprototype%.containing"><span id="sec-%segmentsprototype%.containing"></span>
        <h1><span class="secnum">19.5.2.1</span> %IntlSegmentsPrototype%.containing ( <var>index</var> )</h1>
        <p>The <code>containing</code> method is called on a <emu-xref href="#sec-segments-objects" id="_ref_1060"><a href="#sec-segments-objects">Segments instance</a></emu-xref> with argument <var>index</var> to return a <emu-xref href="#sec-segment-data-objects" id="_ref_1061"><a href="#sec-segment-data-objects">Segment Data object</a></emu-xref> describing the segment in the string including the code unit at the specified index according to the locale and options of the <emu-xref href="#sec-segments-objects" id="_ref_1062"><a href="#sec-segments-objects">Segments instance</a></emu-xref>'s constructing Intl.Segmenter instance. The following steps are taken:</p>
        <emu-alg><ol><li>Let <var>segments</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>segments</var>, <var class="field">[[SegmentsSegmenter]]</var>).</li><li>Let <var>segmenter</var> be <var>segments</var>.<var class="field">[[SegmentsSegmenter]]</var>.</li><li>Let <var>string</var> be <var>segments</var>.<var class="field">[[SegmentsString]]</var>.</li><li>Let <var>len</var> be the length of <var>string</var>.</li><li>Let <var>n</var> be ?&nbsp;<emu-xref aoid="ToIntegerOrInfinity"><a href="https://tc39.es/ecma262/#sec-tointegerorinfinity">ToIntegerOrInfinity</a></emu-xref>(<var>index</var>).</li><li>If <var>n</var> &lt; 0 or <var>n</var> ≥ <var>len</var>, return <emu-val>undefined</emu-val>.</li><li>Let <var>startIndex</var> be <emu-xref aoid="FindBoundary" id="_ref_1063"><a href="#sec-findboundary">FindBoundary</a></emu-xref>(<var>segmenter</var>, <var>string</var>, <var>n</var>, <emu-const>before</emu-const>).</li><li>Let <var>endIndex</var> be <emu-xref aoid="FindBoundary" id="_ref_1064"><a href="#sec-findboundary">FindBoundary</a></emu-xref>(<var>segmenter</var>, <var>string</var>, <var>n</var>, <emu-const>after</emu-const>).</li><li>Return <emu-xref aoid="CreateSegmentDataObject" id="_ref_1065"><a href="#sec-createsegmentdataobject">CreateSegmentDataObject</a></emu-xref>(<var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <var>endIndex</var>).</li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-%intlsegmentsprototype%-%symbol.iterator%" oldids="sec-%intlsegmentsprototype%-@@iterator,sec-%segmentsprototype%-@@iterator"><span id="sec-%segmentsprototype%-@@iterator"></span><span id="sec-%intlsegmentsprototype%-@@iterator"></span>
        <h1><span class="secnum">19.5.2.2</span> %IntlSegmentsPrototype% [ %Symbol.iterator% ] ( )</h1>
        <p>The <code>%Symbol.iterator%</code> method is called on a <emu-xref href="#sec-segments-objects" id="_ref_1066"><a href="#sec-segments-objects">Segments instance</a></emu-xref> to create a <emu-xref href="#sec-segment-iterator-objects" id="_ref_1067"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> over its string using the locale and options of its constructing Intl.Segmenter instance. The following steps are taken:</p>
        <emu-alg><ol><li>Let <var>segments</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>segments</var>, <var class="field">[[SegmentsSegmenter]]</var>).</li><li>Let <var>segmenter</var> be <var>segments</var>.<var class="field">[[SegmentsSegmenter]]</var>.</li><li>Let <var>string</var> be <var>segments</var>.<var class="field">[[SegmentsString]]</var>.</li><li>Return <emu-xref aoid="CreateSegmentIterator" id="_ref_1068"><a href="#sec-createsegmentiterator">CreateSegmentIterator</a></emu-xref>(<var>segmenter</var>, <var>string</var>).</li></ol></emu-alg>
        <p>The value of the <emu-val>"name"</emu-val> property of this function is <emu-val>"[Symbol.iterator]"</emu-val>.</p>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-properties-of-segments-instances">
      <h1><span class="secnum">19.5.3</span> Properties of Segments Instances</h1>

      <p>Segments instances are <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary objects</a></emu-xref> that inherit properties from <emu-xref href="#sec-%intlsegmentsprototype%-object" id="_ref_1069"><a href="#sec-%intlsegmentsprototype%-object">%IntlSegmentsPrototype%</a></emu-xref>.</p>

      <p>Segments instances have a <var class="field">[[SegmentsSegmenter]]</var> internal slot that references the constructing Intl.Segmenter instance.</p>

      <p>Segments instances have a <var class="field">[[SegmentsString]]</var> internal slot that references the String value whose segments they expose.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-segment-iterator-objects">
    <h1><span class="secnum">19.6</span> Segment Iterator Objects</h1>

    <p>A <dfn tabindex="-1">Segment Iterator</dfn> is an object that represents a particular iteration over the segments of a specific string.</p>

    <emu-clause id="sec-createsegmentiterator" type="abstract operation" aoid="CreateSegmentIterator">
      <h1><span class="secnum">19.6.1</span> CreateSegmentIterator ( <var>segmenter</var>, <var>string</var> )</h1>
      <p>The abstract operation CreateSegmentIterator takes arguments <var>segmenter</var> (an Intl.Segmenter) and <var>string</var> (a String) and returns a <emu-xref href="#sec-segment-iterator-objects" id="_ref_1070"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref>. The <emu-xref href="#sec-segment-iterator-objects" id="_ref_1071"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> iterates over <var>string</var> using the locale and options of <var>segmenter</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>internalSlotsList</var> be « <var class="field">[[IteratingSegmenter]]</var>, <var class="field">[[IteratedString]]</var>, <var class="field">[[IteratedStringNextSegmentCodeUnitIndex]]</var>&nbsp;».</li><li>Let <var>iterator</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-%intlsegmentiteratorprototype%-object" id="_ref_1072"><a href="#sec-%intlsegmentiteratorprototype%-object">%IntlSegmentIteratorPrototype%</a></emu-xref>, <var>internalSlotsList</var>).</li><li>Set <var>iterator</var>.<var class="field">[[IteratingSegmenter]]</var> to <var>segmenter</var>.</li><li>Set <var>iterator</var>.<var class="field">[[IteratedString]]</var> to <var>string</var>.</li><li>Set <var>iterator</var>.<var class="field">[[IteratedStringNextSegmentCodeUnitIndex]]</var> to 0.</li><li>Return <var>iterator</var>.</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sec-%intlsegmentiteratorprototype%-object" oldids="sec-%segmentiteratorprototype%-object"><span id="sec-%segmentiteratorprototype%-object"></span>
      <h1><span class="secnum">19.6.2</span> The %IntlSegmentIteratorPrototype% Object</h1>
      <p>The <dfn tabindex="-1">%IntlSegmentIteratorPrototype%</dfn> object:</p>
      <ul>
        <li>is the prototype of all <emu-xref href="#sec-segment-iterator-objects" id="_ref_1073"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> objects.</li>
        <li>is an <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary object</a></emu-xref>.</li>
        <li>has a <var class="field">[[Prototype]]</var> internal slot whose value is <emu-xref href="#sec-%iterator.prototype%-object"><a href="https://tc39.es/ecma262/#sec-%iterator.prototype%-object">%Iterator.prototype%</a></emu-xref>.</li>
        <li>has the following properties:</li>
      </ul>

      <emu-clause id="sec-%intlsegmentiteratorprototype%.next" oldids="sec-%segmentiteratorprototype%.next"><span id="sec-%segmentiteratorprototype%.next"></span>
        <h1><span class="secnum">19.6.2.1</span> %IntlSegmentIteratorPrototype%.next ( )</h1>
        <p>The <code>next</code> method is called on a <emu-xref href="#sec-segment-iterator-objects" id="_ref_1074"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> instance to advance it forward one segment and return an <i>IteratorResult</i> object either describing the new segment or declaring iteration done. The following steps are taken:</p>
        <emu-alg><ol><li>Let <var>iterator</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>iterator</var>, <var class="field">[[IteratingSegmenter]]</var>).</li><li>Let <var>segmenter</var> be <var>iterator</var>.<var class="field">[[IteratingSegmenter]]</var>.</li><li>Let <var>string</var> be <var>iterator</var>.<var class="field">[[IteratedString]]</var>.</li><li>Let <var>startIndex</var> be <var>iterator</var>.<var class="field">[[IteratedStringNextSegmentCodeUnitIndex]]</var>.</li><li>Let <var>len</var> be the length of <var>string</var>.</li><li>If <var>startIndex</var> ≥ <var>len</var>, then<ol><li>Return <emu-xref aoid="CreateIteratorResultObject"><a href="https://tc39.es/ecma262/#sec-createiterresultobject">CreateIteratorResultObject</a></emu-xref>(<emu-val>undefined</emu-val>, <emu-val>true</emu-val>).</li></ol></li><li>Let <var>endIndex</var> be <emu-xref aoid="FindBoundary" id="_ref_1075"><a href="#sec-findboundary">FindBoundary</a></emu-xref>(<var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <emu-const>after</emu-const>).</li><li>Set <var>iterator</var>.<var class="field">[[IteratedStringNextSegmentCodeUnitIndex]]</var> to <var>endIndex</var>.</li><li>Let <var>segmentData</var> be <emu-xref aoid="CreateSegmentDataObject" id="_ref_1076"><a href="#sec-createsegmentdataobject">CreateSegmentDataObject</a></emu-xref>(<var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <var>endIndex</var>).</li><li>Return <emu-xref aoid="CreateIteratorResultObject"><a href="https://tc39.es/ecma262/#sec-createiterresultobject">CreateIteratorResultObject</a></emu-xref>(<var>segmentData</var>, <emu-val>false</emu-val>).</li></ol></emu-alg>
      </emu-clause>

      <emu-clause id="sec-%intlsegmentiteratorprototype%.%symbol.tostringtag%" oldids="sec-%intlsegmentiteratorprototype%.@@tostringtag,sec-%segmentiteratorprototype%.@@tostringtag"><span id="sec-%segmentiteratorprototype%.@@tostringtag"></span><span id="sec-%intlsegmentiteratorprototype%.@@tostringtag"></span>
        <h1><span class="secnum">19.6.2.2</span> %IntlSegmentIteratorPrototype% [ %Symbol.toStringTag% ]</h1>

        <p>The initial value of the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property is the String value <emu-val>"Segmenter String Iterator"</emu-val>.</p>
        <p>This property has the attributes { <var class="field">[[Writable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Enumerable]]</var>: <emu-val>false</emu-val>, <var class="field">[[Configurable]]</var>: <emu-val>true</emu-val> }.</p>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sec-properties-of-segment-iterator-instances">
      <h1><span class="secnum">19.6.3</span> Properties of Segment Iterator Instances</h1>
      <p><emu-xref href="#sec-segment-iterator-objects" id="_ref_1077"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> instances are <emu-xref href="#ordinary-object"><a href="https://tc39.es/ecma262/#ordinary-object">ordinary objects</a></emu-xref> that inherit properties from %SegmentIteratorPrototype%. <emu-xref href="#sec-segment-iterator-objects" id="_ref_1078"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> instances are initially created with the internal slots described in <emu-xref href="#table-segment-iterator-instance-slots" id="_ref_178"><a href="#table-segment-iterator-instance-slots">Table 33</a></emu-xref>.</p>
      <emu-table id="table-segment-iterator-instance-slots"><figure><figcaption>Table 33: Internal Slots of <emu-xref href="#sec-segment-iterator-objects" id="_ref_1079"><a href="#sec-segment-iterator-objects">Segment Iterator</a></emu-xref> Instances</figcaption>
        
        <table class="real-table">
          <thead>
            <tr>
              <th>Internal Slot</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody><tr>
            <td><var class="field">[[IteratingSegmenter]]</var></td>
            <td>The Intl.Segmenter instance used for iteration.</td>
          </tr>
          <tr>
            <td><var class="field">[[IteratedString]]</var></td>
            <td>The String value being iterated upon.</td>
          </tr>
          <tr>
            <td><var class="field">[[IteratedStringNextSegmentCodeUnitIndex]]</var></td>
            <td>The code unit index in the String value being iterated upon at the start of the next segment.</td>
          </tr>
        </tbody></table>
      </figure></emu-table>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-segment-data-objects">
    <h1><span class="secnum">19.7</span> Segment Data Objects</h1>

    <p>A <dfn tabindex="-1">Segment Data object</dfn> is an object that represents a particular segment from a string.</p>

    <emu-clause id="sec-createsegmentdataobject" type="abstract operation" aoid="CreateSegmentDataObject">
      <h1><span class="secnum">19.7.1</span> CreateSegmentDataObject ( <var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <var>endIndex</var> )</h1>
      <p>The abstract operation CreateSegmentDataObject takes arguments <var>segmenter</var> (an Intl.Segmenter), <var>string</var> (a String), <var>startIndex</var> (a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), and <var>endIndex</var> (a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>) and returns a <emu-xref href="#sec-segment-data-objects" id="_ref_1080"><a href="#sec-segment-data-objects">Segment Data object</a></emu-xref>. The <emu-xref href="#sec-segment-data-objects" id="_ref_1081"><a href="#sec-segment-data-objects">Segment Data object</a></emu-xref> describes the segment within <var>string</var> from <var>segmenter</var> that is bounded by the indices <var>startIndex</var> and <var>endIndex</var>. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>len</var> be the length of <var>string</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>endIndex</var> ≤ <var>len</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>startIndex</var> &lt; <var>endIndex</var>.</li><li>Let <var>result</var> be <emu-xref aoid="OrdinaryObjectCreate"><a href="https://tc39.es/ecma262/#sec-ordinaryobjectcreate">OrdinaryObjectCreate</a></emu-xref>(<emu-xref href="#sec-properties-of-the-object-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-object-prototype-object">%Object.prototype%</a></emu-xref>).</li><li>Let <var>segment</var> be the <emu-xref href="#substring"><a href="https://tc39.es/ecma262/#substring">substring</a></emu-xref> of <var>string</var> from <var>startIndex</var> to <var>endIndex</var>.</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, <emu-val>"segment"</emu-val>, <var>segment</var>).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, <emu-val>"index"</emu-val>, <emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>startIndex</var>)).</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, <emu-val>"input"</emu-val>, <var>string</var>).</li><li>Let <var>granularity</var> be <var>segmenter</var>.<var class="field">[[SegmenterGranularity]]</var>.</li><li>If <var>granularity</var> is <code>"word"</code>, then<ol><li>Let <var>isWordLike</var> be a Boolean value indicating whether the <var>segment</var> in <var>string</var> is "word-like" according to locale <var>segmenter</var>.<var class="field">[[Locale]]</var>.</li><li>Perform !&nbsp;<emu-xref aoid="CreateDataPropertyOrThrow"><a href="https://tc39.es/ecma262/#sec-createdatapropertyorthrow">CreateDataPropertyOrThrow</a></emu-xref>(<var>result</var>, <emu-val>"isWordLike"</emu-val>, <var>isWordLike</var>).</li></ol></li><li>Return <var>result</var>.</li></ol></emu-alg>
      <emu-note><span class="note">Note</span><div class="note-contents">Whether a segment is "word-like" is implementation-dependent, and implementations are recommended to use locale-sensitive tailorings. In general, segments consisting solely of spaces and/or punctuation (such as those terminated with "WORD_NONE" boundaries by ICU [International Components for Unicode, documented at <a href="https://unicode-org.github.io/icu-docs/">https://unicode-org.github.io/icu-docs/</a>]) are not considered to be "word-like".</div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-intl-segmenter-abstracts">
    <h1><span class="secnum">19.8</span> Abstract Operations for Segmenter Objects</h1>

    <emu-clause id="sec-findboundary" type="abstract operation" aoid="FindBoundary">
      <h1><span class="secnum">19.8.1</span> FindBoundary ( <var>segmenter</var>, <var>string</var>, <var>startIndex</var>, <var>direction</var> )</h1>
      <p>The abstract operation FindBoundary takes arguments <var>segmenter</var> (an Intl.Segmenter), <var>string</var> (a String), <var>startIndex</var> (a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>), and <var>direction</var> (<emu-const>before</emu-const> or <emu-const>after</emu-const>) and returns a non-negative <emu-xref href="#integer"><a href="https://tc39.es/ecma262/#integer">integer</a></emu-xref>. It finds a segmentation boundary between two code units in <var>string</var> in the specified <var>direction</var> from the code unit at index <var>startIndex</var> according to the locale and options of <var>segmenter</var> and returns the immediately following code unit index. It performs the following steps when called:</p>
      <emu-alg><ol><li>Let <var>len</var> be the length of <var>string</var>.</li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>startIndex</var> &lt; <var>len</var>.</li><li>Let <var>locale</var> be <var>segmenter</var>.<var class="field">[[Locale]]</var>.</li><li>Let <var>granularity</var> be <var>segmenter</var>.<var class="field">[[SegmenterGranularity]]</var>.</li><li>If <var>direction</var> is <emu-const>before</emu-const>, then<ol><li>Search <var>string</var> for the last segmentation boundary that is preceded by at most <var>startIndex</var> code units from the beginning, using locale <var>locale</var> and text element granularity <var>granularity</var>.</li><li>If a boundary is found, return the count of code units in <var>string</var> preceding it.</li><li>Return 0.</li></ol></li><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>direction</var> is <emu-const>after</emu-const>.</li><li>Search <var>string</var> for the first segmentation boundary that follows the code unit at index <var>startIndex</var>, using locale <var>locale</var> and text element granularity <var>granularity</var>.</li><li>If a boundary is found, return the count of code units in <var>string</var> preceding it.</li><li>Return <var>len</var>.</li></ol></emu-alg>
      <emu-note><span class="note">Note</span><div class="note-contents">Boundary determination is implementation-dependent, but general default algorithms are specified in <a href="https://unicode.org/reports/tr29/">Unicode Standard Annex #29</a>. It is recommended that implementations use locale-sensitive tailorings such as those provided by the Common Locale Data Repository (available at <a href="https://cldr.unicode.org">https://cldr.unicode.org</a>).</div></emu-note>
    </emu-clause>
  </emu-clause>
</emu-clause>


<emu-clause id="locale-sensitive-functions">
  <h1><span class="secnum">20</span> Locale Sensitive Functions of the ECMAScript Language Specification</h1>

  <p><emu-xref href="#ecma262" id="_ref_1082"><a href="#ecma262">ECMA-262</a></emu-xref> describes several locale-sensitive functions. An ECMAScript implementation that implements this specification shall implement these functions as described here.</p>

  <emu-note><span class="note">Note</span><div class="note-contents">
    The Collator, NumberFormat, or DateTimeFormat objects created in the algorithms in this clause are only used within these algorithms. They are never directly accessed by ECMAScript code and need not actually exist within an implementation.
  </div></emu-note>

  <emu-clause id="sup-properties-of-the-string-prototype-object">
    <h1><span class="secnum">20.1</span> Properties of the String Prototype Object</h1>

    <emu-clause id="sup-String.prototype.localeCompare">
      <h1><span class="secnum">20.1.1</span> String.prototype.localeCompare ( <var>that</var> [ , <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>This definition supersedes the definition provided in <emu-xref href="#ecma262" id="_ref_1083"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-string.prototype.localecompare"><a href="https://tc39.es/ecma262/#sec-string.prototype.localecompare">22.1.3.12</a></emu-xref>.</p>

      <p>When the <code>localeCompare</code> method is called with argument <var>that</var> and optional arguments <var>locales</var>, and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>O</var> be ?&nbsp;<emu-xref aoid="RequireObjectCoercible"><a href="https://tc39.es/ecma262/#sec-requireobjectcoercible">RequireObjectCoercible</a></emu-xref>(<emu-val>this</emu-val> value).</li><li>Let <var>S</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>O</var>).</li><li>Let <var>thatValue</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>that</var>).</li><li>Let <var>collator</var> be ?&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-collator-constructor" id="_ref_1084"><a href="#sec-intl-collator-constructor">%Intl.Collator%</a></emu-xref>, « <var>locales</var>, <var>options</var>&nbsp;»).</li><li>Return <emu-xref aoid="CompareStrings" id="_ref_1085"><a href="#sec-collator-comparestrings">CompareStrings</a></emu-xref>(<var>collator</var>, <var>S</var>, <var>thatValue</var>).</li></ol></emu-alg>

      <p>The <emu-val>"length"</emu-val> property of this function is <emu-val>1</emu-val><sub>𝔽</sub>.</p>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        The <code>localeCompare</code> method itself is not directly suitable as an argument to <code>Array.prototype.sort</code> because the latter requires a function of two arguments.
      </div></emu-note>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        The <code>localeCompare</code> function is intentionally generic; it does not require that its <emu-val>this</emu-val> value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.
      </div></emu-note>
    </emu-clause>

    <emu-clause id="sup-string.prototype.tolocalelowercase">
      <h1><span class="secnum">20.1.2</span> String.prototype.toLocaleLowerCase ( [ <var>locales</var> ] )</h1>

      <p>This definition supersedes the definition provided in <emu-xref href="#ecma262" id="_ref_1086"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-string.prototype.tolocalelowercase"><a href="https://tc39.es/ecma262/#sec-string.prototype.tolocalelowercase">22.1.3.26</a></emu-xref>.</p>

      <p>This function interprets a String value as a sequence of code points, as described in <emu-xref href="#ecma262" id="_ref_1087"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">6.1.4</a></emu-xref>. The following steps are taken:</p>

      <emu-alg><ol><li>Let <var>O</var> be ?&nbsp;<emu-xref aoid="RequireObjectCoercible"><a href="https://tc39.es/ecma262/#sec-requireobjectcoercible">RequireObjectCoercible</a></emu-xref>(<emu-val>this</emu-val> value).</li><li>Let <var>S</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>O</var>).</li><li>Return ?&nbsp;<emu-xref aoid="TransformCase" id="_ref_1088"><a href="#sec-transform-case">TransformCase</a></emu-xref>(<var>S</var>, <var>locales</var>, <emu-const>lower</emu-const>).</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        The <code>toLocaleLowerCase</code> function is intentionally generic; it does not require that its <emu-val>this</emu-val> value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.
      </div></emu-note>

      <emu-clause id="sec-transform-case" type="abstract operation" aoid="TransformCase">
        <h1><span class="secnum">20.1.2.1</span> TransformCase ( <var>S</var>, <var>locales</var>, <var>targetCase</var> )</h1>
        <p>The abstract operation TransformCase takes arguments <var>S</var> (a String), <var>locales</var> (an <emu-xref href="#sec-ecmascript-language-types"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types">ECMAScript language value</a></emu-xref>), and <var>targetCase</var> (<emu-const>lower</emu-const> or <emu-const>upper</emu-const>). It interprets <var>S</var> as a sequence of UTF-16 encoded code points, as described in <emu-xref href="#ecma262" id="_ref_1089"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">6.1.4</a></emu-xref>, and returns the result of <emu-xref href="#sec-implementation-dependencies" id="_ref_1090"><a href="#sec-implementation-dependencies">ILD</a></emu-xref> transformation into <var>targetCase</var> as a new String value. It performs the following steps when called:</p>
        <emu-alg><ol><li>Let <var>requestedLocales</var> be ?&nbsp;<emu-xref aoid="CanonicalizeLocaleList" id="_ref_1091"><a href="#sec-canonicalizelocalelist">CanonicalizeLocaleList</a></emu-xref>(<var>locales</var>).</li><li>If <var>requestedLocales</var> is not an empty <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref>, then<ol><li>Let <var>requestedLocale</var> be <var>requestedLocales</var>[0].</li></ol></li><li>Else,<ol><li>Let <var>requestedLocale</var> be <emu-xref aoid="DefaultLocale" id="_ref_1092"><a href="#sec-defaultlocale">DefaultLocale</a></emu-xref>().</li></ol></li><li>Let <var>availableLocales</var> be an <emu-xref href="#available-locales-list" id="_ref_1093"><a href="#available-locales-list">Available Locales List</a></emu-xref> which includes the <emu-xref href="#sec-language-tags" id="_ref_1094"><a href="#sec-language-tags">language tags</a></emu-xref> for which the Unicode Character Database contains language-sensitive case mappings. If the implementation supports additional locale-sensitive case mappings, <var>availableLocales</var> should also include their corresponding <emu-xref href="#sec-language-tags" id="_ref_1095"><a href="#sec-language-tags">language tags</a></emu-xref>.</li><li>Let <var>match</var> be <emu-xref aoid="LookupMatchingLocaleByPrefix" id="_ref_1096"><a href="#sec-lookupmatchinglocalebyprefix">LookupMatchingLocaleByPrefix</a></emu-xref>(<var>availableLocales</var>, « <var>requestedLocale</var>&nbsp;»).</li><li>If <var>match</var> is not <emu-val>undefined</emu-val>, let <var>locale</var> be <var>match</var>.<var class="field">[[locale]]</var>; else let <var>locale</var> be <emu-val>"und"</emu-val>.</li><li>Let <var>codePoints</var> be <emu-xref aoid="StringToCodePoints"><a href="https://tc39.es/ecma262/#sec-stringtocodepoints">StringToCodePoints</a></emu-xref>(<var>S</var>).</li><li>If <var>targetCase</var> is <emu-const>lower</emu-const>, then<ol><li>Let <var>newCodePoints</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> whose elements are the result of a lowercase transformation of <var>codePoints</var> according to an implementation-derived algorithm using <var>locale</var> or the Unicode Default Case Conversion algorithm.</li></ol></li><li>Else,<ol><li><emu-xref href="#assert"><a href="https://tc39.es/ecma262/#assert">Assert</a></emu-xref>: <var>targetCase</var> is <emu-const>upper</emu-const>.</li><li>Let <var>newCodePoints</var> be a <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> whose elements are the result of an uppercase transformation of <var>codePoints</var> according to an implementation-derived algorithm using <var>locale</var> or the Unicode Default Case Conversion algorithm.</li></ol></li><li>Return <emu-xref aoid="CodePointsToString"><a href="https://tc39.es/ecma262/#sec-codepointstostring">CodePointsToString</a></emu-xref>(<var>newCodePoints</var>).</li></ol></emu-alg>

        <p>Code point mappings may be derived according to a tailored version of the Default Case Conversion Algorithms of the Unicode Standard. Implementations may use locale-sensitive tailoring defined in the file <a href="https://unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt"><code>SpecialCasing.txt</code></a> of the Unicode Character Database and/or CLDR and/or any other custom tailoring. Regardless of tailoring, a conforming implementation's case transformation algorithm must always yield the same result given the same input code points, locale, and target case.</p>

        <emu-note><span class="note">Note</span><div class="note-contents">
          The case mapping of some code points may produce multiple code points, and therefore the result may not be the same length as the input. Because both <code>toLocaleUpperCase</code> and <code>toLocaleLowerCase</code> have context-sensitive behaviour, the functions are not symmetrical. In other words, <code>s.toLocaleUpperCase().toLocaleLowerCase()</code> is not necessarily equal to <code>s.toLocaleLowerCase()</code> and <code>s.toLocaleLowerCase().toLocaleUpperCase()</code> is not necessarily equal to <code>s.toLocaleUpperCase()</code>.
        </div></emu-note>
      </emu-clause>
    </emu-clause>

    <emu-clause id="sup-string.prototype.tolocaleuppercase">
      <h1><span class="secnum">20.1.3</span> String.prototype.toLocaleUpperCase ( [ <var>locales</var> ] )</h1>

      <p>This definition supersedes the definition provided in <emu-xref href="#ecma262" id="_ref_1097"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-string.prototype.tolocaleuppercase"><a href="https://tc39.es/ecma262/#sec-string.prototype.tolocaleuppercase">22.1.3.27</a></emu-xref>.</p>

      <p>This function interprets a String value as a sequence of code points, as described in <emu-xref href="#ecma262" id="_ref_1098"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-ecmascript-language-types-string-type"><a href="https://tc39.es/ecma262/#sec-ecmascript-language-types-string-type">6.1.4</a></emu-xref>. The following steps are taken:</p>

      <emu-alg><ol><li>Let <var>O</var> be ?&nbsp;<emu-xref aoid="RequireObjectCoercible"><a href="https://tc39.es/ecma262/#sec-requireobjectcoercible">RequireObjectCoercible</a></emu-xref>(<emu-val>this</emu-val> value).</li><li>Let <var>S</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<var>O</var>).</li><li>Return ?&nbsp;<emu-xref aoid="TransformCase" id="_ref_1099"><a href="#sec-transform-case">TransformCase</a></emu-xref>(<var>S</var>, <var>locales</var>, <emu-const>upper</emu-const>).</li></ol></emu-alg>

      <emu-note><span class="note">Note</span><div class="note-contents">
        The <code>toLocaleUpperCase</code> function is intentionally generic; it does not require that its <emu-val>this</emu-val> value be a String object. Therefore, it can be transferred to other kinds of objects for use as a method.
      </div></emu-note>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sup-properties-of-the-number-prototype-object">
    <h1><span class="secnum">20.2</span> Properties of the Number Prototype Object</h1>

    <p>The following definition(s) refer to the abstract operation thisNumberValue as defined in <emu-xref href="#ecma262" id="_ref_1100"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-properties-of-the-number-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-number-prototype-object">21.1.3</a></emu-xref>.</p>

    <emu-clause id="sup-number.prototype.tolocalestring">
      <h1><span class="secnum">20.2.1</span> Number.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>This definition supersedes the definition provided in <emu-xref href="#ecma262" id="_ref_1101"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-number.prototype.tolocalestring"><a href="https://tc39.es/ecma262/#sec-number.prototype.tolocalestring">21.1.3.4</a></emu-xref>.</p>

      <p>When the <code>toLocaleString</code> method is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>x</var> be ?&nbsp;<emu-xref aoid="ThisNumberValue"><a href="https://tc39.es/ecma262/#sec-thisnumbervalue">ThisNumberValue</a></emu-xref>(<emu-val>this</emu-val> value).</li><li>Let <var>numberFormat</var> be ?&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_1102"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>locales</var>, <var>options</var>&nbsp;»).</li><li>Return <emu-xref aoid="FormatNumeric" id="_ref_1103"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>numberFormat</var>, !&nbsp;<emu-xref aoid="ToIntlMathematicalValue" id="_ref_1104"><a href="#sec-tointlmathematicalvalue">ToIntlMathematicalValue</a></emu-xref>(<var>x</var>)).</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sup-properties-of-the-bigint-prototype-object">
    <h1><span class="secnum">20.3</span> Properties of the BigInt Prototype Object</h1>

    <p>The following definition(s) refer to the abstract operation thisBigIntValue as defined in <emu-xref href="#ecma262" id="_ref_1105"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-properties-of-the-bigint-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-bigint-prototype-object">21.2.3</a></emu-xref>.</p>

    <emu-clause id="sup-bigint.prototype.tolocalestring">
      <h1><span class="secnum">20.3.1</span> BigInt.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>This definition supersedes the definition provided in <emu-xref href="#ecma262" id="_ref_1106"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-bigint.prototype.tolocalestring"><a href="https://tc39.es/ecma262/#sec-bigint.prototype.tolocalestring">21.2.3.2</a></emu-xref>.</p>

      <p>When the <code>toLocaleString</code> method is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>x</var> be ?&nbsp;<emu-xref aoid="ThisBigIntValue"><a href="https://tc39.es/ecma262/#sec-thisbigintvalue">ThisBigIntValue</a></emu-xref>(<emu-val>this</emu-val> value).</li><li>Let <var>numberFormat</var> be ?&nbsp;<emu-xref aoid="Construct"><a href="https://tc39.es/ecma262/#sec-construct">Construct</a></emu-xref>(<emu-xref href="#sec-intl-numberformat-constructor" id="_ref_1107"><a href="#sec-intl-numberformat-constructor">%Intl.NumberFormat%</a></emu-xref>, « <var>locales</var>, <var>options</var>&nbsp;»).</li><li>Return <emu-xref aoid="FormatNumeric" id="_ref_1108"><a href="#sec-formatnumber">FormatNumeric</a></emu-xref>(<var>numberFormat</var>, <emu-xref aoid="ℝ"><a href="https://tc39.es/ecma262/#ℝ">ℝ</a></emu-xref>(<var>x</var>)).</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sup-properties-of-the-date-prototype-object">
    <h1><span class="secnum">20.4</span> Properties of the Date Prototype Object</h1>

    <p>The following definition(s) refer to the abstract operation thisTimeValue as defined in <emu-xref href="#ecma262" id="_ref_1109"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-properties-of-the-date-prototype-object"><a href="https://tc39.es/ecma262/#sec-properties-of-the-date-prototype-object">21.4.4</a></emu-xref>.</p>

    <emu-clause id="sup-date.prototype.tolocalestring">
      <h1><span class="secnum">20.4.1</span> Date.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>This definition supersedes the definition provided in <emu-xref href="#ecma262" id="_ref_1110"><a href="#ecma262">ECMA-262</a></emu-xref>, <emu-xref href="#sec-date.prototype.tolocalestring"><a href="https://tc39.es/ecma262/#sec-date.prototype.tolocalestring">21.4.4.39</a></emu-xref>.</p>

      <p>When the <code>toLocaleString</code> method is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>dateObject</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dateObject</var>, <var class="field">[[DateValue]]</var>).</li><li>Let <var>x</var> be <var>dateObject</var>.<var class="field">[[DateValue]]</var>.</li><li>If <var>x</var> is <emu-val>NaN</emu-val>, return <emu-val>"Invalid Date"</emu-val>.</li><li>Let <var>dateFormat</var> be ?&nbsp;<emu-xref aoid="CreateDateTimeFormat" id="_ref_1111"><a href="#sec-createdatetimeformat">CreateDateTimeFormat</a></emu-xref>(<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_1112"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, <var>locales</var>, <var>options</var>, <emu-const>any</emu-const>, <emu-const>all</emu-const>).</li><li>Return !&nbsp;<emu-xref aoid="FormatDateTime" id="_ref_1113"><a href="#sec-formatdatetime">FormatDateTime</a></emu-xref>(<var>dateFormat</var>, <var>x</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sup-date.prototype.tolocaledatestring">
      <h1><span class="secnum">20.4.2</span> Date.prototype.toLocaleDateString ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>This definition supersedes the definition provided in <emu-xref href="#sec-date.prototype.tolocaledatestring" title=""><a href="https://tc39.es/ecma262/#sec-date.prototype.tolocaledatestring">Date.prototype.toLocaleDateString ( [ <var>reserved1</var> [ , <var>reserved2</var> ] ] )</a></emu-xref>.</p>

      <p>When the <code>toLocaleDateString</code> method is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>dateObject</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dateObject</var>, <var class="field">[[DateValue]]</var>).</li><li>Let <var>x</var> be <var>dateObject</var>.<var class="field">[[DateValue]]</var>.</li><li>If <var>x</var> is <emu-val>NaN</emu-val>, return <emu-val>"Invalid Date"</emu-val>.</li><li>Let <var>dateFormat</var> be ?&nbsp;<emu-xref aoid="CreateDateTimeFormat" id="_ref_1114"><a href="#sec-createdatetimeformat">CreateDateTimeFormat</a></emu-xref>(<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_1115"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, <var>locales</var>, <var>options</var>, <emu-const>date</emu-const>, <emu-const>date</emu-const>).</li><li>Return !&nbsp;<emu-xref aoid="FormatDateTime" id="_ref_1116"><a href="#sec-formatdatetime">FormatDateTime</a></emu-xref>(<var>dateFormat</var>, <var>x</var>).</li></ol></emu-alg>
    </emu-clause>

    <emu-clause id="sup-date.prototype.tolocaletimestring">
      <h1><span class="secnum">20.4.3</span> Date.prototype.toLocaleTimeString ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>This definition supersedes the definition provided in <emu-xref href="#sec-date.prototype.tolocaletimestring" title=""><a href="https://tc39.es/ecma262/#sec-date.prototype.tolocaletimestring">Date.prototype.toLocaleTimeString ( [ <var>reserved1</var> [ , <var>reserved2</var> ] ] )</a></emu-xref>.</p>

      <p>When the <code>toLocaleTimeString</code> method is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>dateObject</var> be the <emu-val>this</emu-val> value.</li><li>Perform ?&nbsp;<emu-xref aoid="RequireInternalSlot"><a href="https://tc39.es/ecma262/#sec-requireinternalslot">RequireInternalSlot</a></emu-xref>(<var>dateObject</var>, <var class="field">[[DateValue]]</var>).</li><li>Let <var>x</var> be <var>dateObject</var>.<var class="field">[[DateValue]]</var>.</li><li>If <var>x</var> is <emu-val>NaN</emu-val>, return <emu-val>"Invalid Date"</emu-val>.</li><li>Let <var>timeFormat</var> be ?&nbsp;<emu-xref aoid="CreateDateTimeFormat" id="_ref_1117"><a href="#sec-createdatetimeformat">CreateDateTimeFormat</a></emu-xref>(<emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_1118"><a href="#sec-intl-datetimeformat-constructor">%Intl.DateTimeFormat%</a></emu-xref>, <var>locales</var>, <var>options</var>, <emu-const>time</emu-const>, <emu-const>time</emu-const>).</li><li>Return !&nbsp;<emu-xref aoid="FormatDateTime" id="_ref_1119"><a href="#sec-formatdatetime">FormatDateTime</a></emu-xref>(<var>timeFormat</var>, <var>x</var>).</li></ol></emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sup-properties-of-the-array-prototype-object">
    <h1><span class="secnum">20.5</span> Properties of the Array Prototype Object</h1>

    <emu-clause id="sup-array.prototype.tolocalestring">
      <h1><span class="secnum">20.5.1</span> Array.prototype.toLocaleString ( [ <var>locales</var> [ , <var>options</var> ] ] )</h1>

      <p>This definition supersedes the definition provided in <emu-xref href="#sec-array.prototype.tolocalestring" title=""><a href="https://tc39.es/ecma262/#sec-array.prototype.tolocalestring">Array.prototype.toLocaleString ( [ <var>reserved1</var> [ , <var>reserved2</var> ] ] )</a></emu-xref>.</p>

      <p>When the <code>toLocaleString</code> method is called with optional arguments <var>locales</var> and <var>options</var>, the following steps are taken:</p>

      <emu-alg><ol><li>Let <var>array</var> be ?&nbsp;<emu-xref aoid="ToObject"><a href="https://tc39.es/ecma262/#sec-toobject">ToObject</a></emu-xref>(<emu-val>this</emu-val> value).</li><li>Let <var>len</var> be ?&nbsp;<emu-xref aoid="LengthOfArrayLike"><a href="https://tc39.es/ecma262/#sec-lengthofarraylike">LengthOfArrayLike</a></emu-xref>(<var>array</var>).</li><li>Let <var>separator</var> be the <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> list-separator String value appropriate for the <emu-xref href="#host-environment"><a href="https://tc39.es/ecma262/#host-environment">host environment</a></emu-xref>'s current locale (such as <emu-val>", "</emu-val>).</li><li>Let <var>R</var> be the empty String.</li><li>Let <var>k</var> be 0.</li><li>Repeat, while <var>k</var> &lt; <var>len</var>,<ol><li>If <var>k</var> &gt; 0, then<ol><li>Set <var>R</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>R</var> and <var>separator</var>.</li></ol></li><li>Let <var>nextElement</var> be ?&nbsp;<emu-xref aoid="Get"><a href="https://tc39.es/ecma262/#sec-get-o-p">Get</a></emu-xref>(<var>array</var>, !&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(<emu-xref aoid="𝔽"><a href="https://tc39.es/ecma262/#𝔽">𝔽</a></emu-xref>(<var>k</var>))).</li><li>If <var>nextElement</var> is not <emu-val>undefined</emu-val> or <emu-val>null</emu-val>, then<ol><li>Let <var>S</var> be ?&nbsp;<emu-xref aoid="ToString"><a href="https://tc39.es/ecma262/#sec-tostring">ToString</a></emu-xref>(? <emu-xref aoid="Invoke"><a href="https://tc39.es/ecma262/#sec-invoke">Invoke</a></emu-xref>(<var>nextElement</var>, <emu-val>"toLocaleString"</emu-val>, « <var>locales</var>, <var>options</var>&nbsp;»)).</li><li>Set <var>R</var> to the <emu-xref href="#string-concatenation"><a href="https://tc39.es/ecma262/#string-concatenation">string-concatenation</a></emu-xref> of <var>R</var> and <var>S</var>.</li></ol></li><li>Set <var>k</var> to <var>k</var> + 1.</li></ol></li><li>Return <var>R</var>.</li></ol></emu-alg>

      <emu-note><span class="note">Note 1</span><div class="note-contents">
        This algorithm's steps mirror the steps taken in <emu-xref href="#sec-array.prototype.tolocalestring" title=""><a href="https://tc39.es/ecma262/#sec-array.prototype.tolocalestring">Array.prototype.toLocaleString ( [ <var>reserved1</var> [ , <var>reserved2</var> ] ] )</a></emu-xref>, with the exception that <emu-xref aoid="Invoke"><a href="https://tc39.es/ecma262/#sec-invoke">Invoke</a></emu-xref>(<var>nextElement</var>, <emu-val>"toLocaleString"</emu-val>) now takes <var>locales</var> and <var>options</var> as arguments.
      </div></emu-note>

      <emu-note><span class="note">Note 2</span><div class="note-contents">
        The elements of the array are converted to Strings using their <code>toLocaleString</code> methods, and these Strings are then concatenated, separated by occurrences of an <emu-xref href="#implementation-defined"><a href="https://tc39.es/ecma262/#implementation-defined">implementation-defined</a></emu-xref> locale-sensitive separator String. This function is analogous to <code>toString</code> except that it is intended to yield a locale-sensitive result corresponding with conventions of the <emu-xref href="#host-environment"><a href="https://tc39.es/ecma262/#host-environment">host environment</a></emu-xref>'s current locale.
      </div></emu-note>

      <emu-note><span class="note">Note 3</span><div class="note-contents">
        The <code>toLocaleString</code> function is intentionally generic; it does not require that its <emu-val>this</emu-val> value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method.
      </div></emu-note>
    </emu-clause>
  </emu-clause>
</emu-clause>

<emu-annex id="annex-implementation-dependent-behaviour">
  <h1><span class="secnum">Annex A <span class="annex-kind">(informative)</span></span> Implementation Dependent Behaviour</h1>

  <p>The following aspects of this specification are implementation dependent:</p>

  <ul>
    <li>
      In all functionality:
      <ul>
        <li>
          Additional values for some properties of <var>options</var> arguments (<emu-xref href="#conformance" id="_ref_179"><a href="#conformance">2</a></emu-xref>)
        </li>
        <li>
          The default locale (<emu-xref href="#sec-defaultlocale" id="_ref_180"><a href="#sec-defaultlocale">6.2.3</a></emu-xref>)
        </li>
        <li>
          The set of available locales for each <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> (<emu-xref href="#sec-internal-slots" id="_ref_181"><a href="#sec-internal-slots">9.1</a></emu-xref>)
        </li>
        <li>
          The <emu-xref aoid="LookupMatchingLocaleByBestFit" id="_ref_1120"><a href="#sec-lookupmatchinglocalebybestfit">LookupMatchingLocaleByBestFit</a></emu-xref> algorithm (<emu-xref href="#sec-lookupmatchinglocalebybestfit" id="_ref_182"><a href="#sec-lookupmatchinglocalebybestfit">9.2.4</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      In Collator:
      <ul>
        <li>
          Support for the Unicode extensions keys <emu-val>"kf"</emu-val>, <emu-val>"kn"</emu-val> and the parallel options properties <emu-val>"caseFirst"</emu-val>, <emu-val>"numeric"</emu-val> (<emu-xref href="#sec-intl.collator" id="_ref_183"><a href="#sec-intl.collator">10.1.1</a></emu-xref>)
        </li>
        <li>
          The set of supported <emu-val>"co"</emu-val> key values (collations) per locale beyond a default collation (<emu-xref href="#sec-intl-collator-internal-slots" id="_ref_184"><a href="#sec-intl-collator-internal-slots">10.2.3</a></emu-xref>)
        </li>
        <li>
          The set of supported <emu-val>"kf"</emu-val> key values (case order) per locale (<emu-xref href="#sec-intl-collator-internal-slots" id="_ref_185"><a href="#sec-intl-collator-internal-slots">10.2.3</a></emu-xref>)
        </li>
        <li>
          The set of supported <emu-val>"kn"</emu-val> key values (numeric collation) per locale (<emu-xref href="#sec-intl-collator-internal-slots" id="_ref_186"><a href="#sec-intl-collator-internal-slots">10.2.3</a></emu-xref>)
        </li>
        <li>
          The default search sensitivity per locale (<emu-xref href="#sec-intl-collator-internal-slots" id="_ref_187"><a href="#sec-intl-collator-internal-slots">10.2.3</a></emu-xref>)
        </li>
        <li>
          The default ignore punctuation value per locale (<emu-xref href="#sec-intl-collator-internal-slots" id="_ref_188"><a href="#sec-intl-collator-internal-slots">10.2.3</a></emu-xref>)
        </li>
        <li>
          The <emu-xref href="#sort-order"><a href="https://tc39.es/ecma262/#sort-order">sort order</a></emu-xref> for each supported locale and options combination (<emu-xref href="#sec-collator-compare-functions" id="_ref_189"><a href="#sec-collator-compare-functions">10.3.3.1</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>In DateTimeFormat:
      <ul>
        <li>
          The <emu-xref aoid="BestFitFormatMatcher" id="_ref_1121"><a href="#sec-bestfitformatmatcher">BestFitFormatMatcher</a></emu-xref> algorithm (<emu-xref href="#sec-createdatetimeformat" id="_ref_190"><a href="#sec-createdatetimeformat">11.1.2</a></emu-xref>)
        </li>
        <li>
          The set of supported <emu-val>"ca"</emu-val> key values (calendars) per locale (<emu-xref href="#sec-intl.datetimeformat-internal-slots" id="_ref_191"><a href="#sec-intl.datetimeformat-internal-slots">11.2.3</a></emu-xref>)
        </li>
        <li>
          The set of supported <emu-val>"nu"</emu-val> key values (numbering systems) per locale (<emu-xref href="#sec-intl.datetimeformat-internal-slots" id="_ref_192"><a href="#sec-intl.datetimeformat-internal-slots">11.2.3</a></emu-xref>)
        </li>
        <li>
          The default hourCycle setting per locale (<emu-xref href="#sec-intl.datetimeformat-internal-slots" id="_ref_193"><a href="#sec-intl.datetimeformat-internal-slots">11.2.3</a></emu-xref>)
        </li>
        <li>
          The set of supported date-time formats per locale beyond a core set, including the representations used for each component and the associated patterns (<emu-xref href="#sec-intl.datetimeformat-internal-slots" id="_ref_194"><a href="#sec-intl.datetimeformat-internal-slots">11.2.3</a></emu-xref>)
        </li>
        <li>
          Localized weekday names, era names, month names, day period names, am/pm indicators, and time zone names (<emu-xref href="#sec-formatdatetimepattern" id="_ref_195"><a href="#sec-formatdatetimepattern">11.5.5</a></emu-xref>)
        </li>
        <li>
          The calendric calculations used for calendars other than <emu-val>"gregory"</emu-val> (<emu-xref href="#sec-tolocaltime" id="_ref_196"><a href="#sec-tolocaltime">11.5.12</a></emu-xref>)
        </li>
        <li>
          The set of all known registered Zone and Link names of the IANA Time Zone Database and the information about their offsets from UTC and their daylight saving time rules (<emu-xref href="#sec-time-zone-identifiers"><a href="https://tc39.es/ecma262/#sec-time-zone-identifiers">21.4.1.19</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      In DisplayNames:
      <ul>
        <li>
          The localized names (<emu-xref href="#sec-Intl.DisplayNames-internal-slots" id="_ref_197"><a href="#sec-Intl.DisplayNames-internal-slots">12.2.3</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      In DurationFormat:
      <ul>
        <li>
          The set of supported <emu-val>"nu"</emu-val> key values (numbering systems) per locale (<emu-xref href="#sec-Intl.DurationFormat-internal-slots" id="_ref_198"><a href="#sec-Intl.DurationFormat-internal-slots">13.2.3</a></emu-xref>)
        </li>
        <li>
          The digital formatting configuration (use of two-digit hours with style <emu-val>"numeric"</emu-val> and separators for numeric hours, minutes, and seconds) per locale (<emu-xref href="#sec-Intl.DurationFormat-internal-slots" id="_ref_199"><a href="#sec-Intl.DurationFormat-internal-slots">13.2.3</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      In ListFormat:
      <ul>
        <li>
          The patterns used for formatting values (<emu-xref href="#sec-Intl.ListFormat-internal-slots" id="_ref_200"><a href="#sec-Intl.ListFormat-internal-slots">14.2.3</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      In Locale:
      <ul>
        <li>
          Support for the Unicode extensions keys <emu-val>"kf"</emu-val>, <emu-val>"kn"</emu-val> and the parallel options properties <emu-val>"caseFirst"</emu-val>, <emu-val>"numeric"</emu-val> (<emu-xref href="#sec-Intl.Locale" id="_ref_201"><a href="#sec-Intl.Locale">15.1.1</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      In NumberFormat:
      <ul>
        <li>
          The set of supported <emu-val>"nu"</emu-val> key values (numbering systems) per locale (<emu-xref href="#sec-intl.numberformat-internal-slots" id="_ref_202"><a href="#sec-intl.numberformat-internal-slots">16.2.3</a></emu-xref>)
        </li>
        <li>
          The patterns used for formatting values as decimal, percent, currency, or unit values per locale, with or without the sign, with or without accounting format for currencies, and in standard, compact, or scientific notation (<emu-xref href="#sec-formatnumber" id="_ref_203"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          The number of fractional digits used when formatting currency values (<emu-xref href="#sec-formatnumber" id="_ref_204"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          Localized representations of <emu-val>NaN</emu-val> and <emu-val>Infinity</emu-val> (<emu-xref href="#sec-formatnumber" id="_ref_205"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          The implementation of numbering systems not listed in <emu-xref href="#table-numbering-system-digits" id="_ref_206"><a href="#table-numbering-system-digits">Table 28</a></emu-xref> (<emu-xref href="#sec-formatnumber" id="_ref_207"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          Localized decimal and grouping separators (<emu-xref href="#sec-formatnumber" id="_ref_208"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          Localized plus and minus signs (<emu-xref href="#sec-formatnumber" id="_ref_209"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          Localized digit grouping schemata (<emu-xref href="#sec-formatnumber" id="_ref_210"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          Localized magnitude thresholds for compact notation (<emu-xref href="#sec-formatnumber" id="_ref_211"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          Localized symbols for compact and scientific notation (<emu-xref href="#sec-formatnumber" id="_ref_212"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          Localized narrow, short, and long currency symbols and names (<emu-xref href="#sec-formatnumber" id="_ref_213"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
        <li>
          Localized narrow, short, and long unit symbols (<emu-xref href="#sec-formatnumber" id="_ref_214"><a href="#sec-formatnumber">16.5.6</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      In PluralRules:
      <ul>
        <li>
          <emu-xref href="#sec-list-and-record-specification-type"><a href="https://tc39.es/ecma262/#sec-list-and-record-specification-type">List</a></emu-xref> of Strings representing the possible results of plural selection and their corresponding order per locale. (<emu-xref href="#sec-intl.pluralrules" id="_ref_215"><a href="#sec-intl.pluralrules">17.1.1</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      In RelativeTimeFormat:
      <ul>
        <li>
          The set of supported <emu-val>"nu"</emu-val> key values (numbering systems) per locale (<emu-xref href="#sec-Intl.RelativeTimeFormat-internal-slots" id="_ref_216"><a href="#sec-Intl.RelativeTimeFormat-internal-slots">18.2.3</a></emu-xref>)
        </li>
        <li>
          The patterns used for formatting values (<emu-xref href="#sec-Intl.RelativeTimeFormat-internal-slots" id="_ref_217"><a href="#sec-Intl.RelativeTimeFormat-internal-slots">18.2.3</a></emu-xref>)
        </li>
      </ul>
    </li>
    <li>
      In Segmenter:
      <ul>
        <li>
          Boundary determination algorithms (<emu-xref href="#sec-findboundary" id="_ref_218"><a href="#sec-findboundary">19.8.1</a></emu-xref>)
        </li>
        <li>
          Classification of segments as "word-like" (<emu-xref href="#sec-createsegmentdataobject" id="_ref_219"><a href="#sec-createsegmentdataobject">19.7.1</a></emu-xref>)
        </li>
      </ul>
    </li>
  </ul>
</emu-annex>

<emu-annex id="annex-incompatibilities">
  <h1><span class="secnum">Annex B <span class="annex-kind">(informative)</span></span> Additions and Changes That Introduce Incompatibilities with Prior Editions</h1>

  <ul>
    <li>
      <emu-xref href="#sec-intl-collator-constructor" id="_ref_220"><a href="#sec-intl-collator-constructor">10.1</a></emu-xref>, <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_221"><a href="#sec-intl-numberformat-constructor">16.1</a></emu-xref>, <emu-xref href="#sec-intl-datetimeformat-constructor" id="_ref_222"><a href="#sec-intl-datetimeformat-constructor">11.1</a></emu-xref> In ECMA-402, 1<sup>st</sup> Edition, <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructors</a></emu-xref> could be used to create Intl objects from arbitrary objects. This is no longer possible in 2nd Edition.
    </li>
    <li>
      <emu-xref href="#sec-intl.datetimeformat.prototype.format" id="_ref_223"><a href="#sec-intl.datetimeformat.prototype.format">11.3.3</a></emu-xref> In ECMA-402, 1<sup>st</sup> Edition, the <emu-val>"length"</emu-val> property of the <emu-xref href="#function-object"><a href="https://tc39.es/ecma262/#function-object">function object</a></emu-xref> <var>F</var> was set to <emu-val>+0</emu-val><sub>𝔽</sub>. In 2nd Edition, <emu-val>"length"</emu-val> is set to <emu-val>1</emu-val><sub>𝔽</sub>.
    </li>
    <li>
      <emu-xref href="#sec-intl.collator.prototype-%symbol.tostringtag%" id="_ref_224"><a href="#sec-intl.collator.prototype-%symbol.tostringtag%">10.3.4</a></emu-xref> In ECMA-402, 7<sup>th</sup> Edition, the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property of <code>Intl.Collator.prototype</code> was set to <emu-val>"Object"</emu-val>. In 8<sup>th</sup> Edition, <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> is set to <emu-val>"Intl.Collator"</emu-val>.
    </li>
    <li>
      <emu-xref href="#sec-intl.datetimeformat.prototype-%symbol.tostringtag%" id="_ref_225"><a href="#sec-intl.datetimeformat.prototype-%symbol.tostringtag%">11.3.7</a></emu-xref> In ECMA-402, 7<sup>th</sup> Edition, the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property of <code>Intl.DateTimeFormat.prototype</code> was set to <emu-val>"Object"</emu-val>. In 8<sup>th</sup> Edition, <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> is set to <emu-val>"Intl.DateTimeFormat"</emu-val>.
    </li>
    <li>
      <emu-xref href="#sec-intl.numberformat.prototype-%symbol.tostringtag%" id="_ref_226"><a href="#sec-intl.numberformat.prototype-%symbol.tostringtag%">16.3.7</a></emu-xref> In ECMA-402, 7<sup>th</sup> Edition, the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property of <code>Intl.NumberFormat.prototype</code> was set to <emu-val>"Object"</emu-val>. In 8<sup>th</sup> Edition, <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> is set to <emu-val>"Intl.NumberFormat"</emu-val>.
    </li>
    <li>
      <emu-xref href="#sec-intl.pluralrules.prototype-%symbol.tostringtag%" id="_ref_227"><a href="#sec-intl.pluralrules.prototype-%symbol.tostringtag%">17.3.5</a></emu-xref> In ECMA-402, 7<sup>th</sup> Edition, the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property of <code>Intl.PluralRules.prototype</code> was set to <emu-val>"Object"</emu-val>. In 8<sup>th</sup> Edition, <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> is set to <emu-val>"Intl.PluralRules"</emu-val>.
    </li>
    <li>
      <emu-xref href="#sec-intl-%symbol.tostringtag%" id="_ref_228"><a href="#sec-intl-%symbol.tostringtag%">8.1.1</a></emu-xref> In ECMA-402, 7<sup>th</sup> Edition, the <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> property of <code>Intl</code> was not defined. In 8<sup>th</sup> Edition, <emu-xref href="#sec-well-known-symbols"><a href="https://tc39.es/ecma262/#sec-well-known-symbols">%Symbol.toStringTag%</a></emu-xref> is set to <emu-val>"Intl"</emu-val>.
    </li>
    <li>
      <emu-xref href="#sec-intl-numberformat-constructor" id="_ref_229"><a href="#sec-intl-numberformat-constructor">16.1</a></emu-xref> In ECMA-402, 8<sup>th</sup> Edition, the NumberFormat <emu-xref href="#constructor"><a href="https://tc39.es/ecma262/#constructor">constructor</a></emu-xref> used to throw an error when style is <emu-val>"currency"</emu-val> and maximumFractionDigits was set to a value lower than the default fractional digits for that currency. This behaviour was corrected in the 9<sup>th</sup> edition, and it no longer throws an error.
    </li>
  </ul>
</emu-annex>

<emu-annex id="sec-colophon">
  <h1><span class="secnum">Annex C <span class="annex-kind">(informative)</span></span> Colophon</h1>
  <p>This specification is authored on <a href="https://github.com/tc39/ecma402">GitHub</a> in a plaintext source format called <a href="https://github.com/tc39/ecmarkup">Ecmarkup</a>. Ecmarkup is an HTML and Markdown dialect that provides a framework and toolset for authoring ECMAScript specifications in plaintext and processing the specification into a full-featured HTML rendering that follows the editorial conventions for this document. Ecmarkup builds on and integrates a number of other formats and technologies including <a href="https://github.com/rbuckton/grammarkdown">Grammarkdown</a> for defining syntax and <a href="https://github.com/tc39/ecmarkdown">Ecmarkdown</a> for authoring algorithm steps. PDF renderings of this specification are produced using a print stylesheet which takes advantage of the CSS Paged Media specification and is converted using <a href="https://www.princexml.com/">PrinceXML</a>.</p>
  <p>Prior editions of this specification were authored using Word—the Ecmarkup source text that formed the basis of this edition was produced by converting the ECMAScript 2015 Word document to Ecmarkup using an automated conversion tool.</p>
</emu-annex><emu-annex id="sec-copyright-and-software-license" back-matter="">
        <h1>Copyright &amp; Software License</h1>
        <p class="ECMAaddress">Ecma International</p>
<p class="ECMAaddress">Rue du Rhone 114</p>
<p class="ECMAaddress">CH-1204 Geneva</p>
<p class="ECMAaddress">Tel: +41 22 849 6000</p>
<p class="ECMAaddress">Fax: +41 22 849 6001</p>
<p class="ECMAaddress">Web: <a href="https://ecma-international.org/">https://ecma-international.org/</a></p>

        <div class="copyright-notice" id="copyright-notice"><h2>Copyright Notice</h2>
<p>© 2025 Ecma International</p>

<p>This draft document may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published, and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this section are included on all such copies and derivative works. However, this document itself may not be modified in any way, including by removing the copyright notice or references to Ecma International, except as needed for the purpose of developing any document or deliverable produced by Ecma International.</p>

<p>This disclaimer is valid only prior to final version of this document. After approval all rights on the standard are reserved by Ecma International.</p>

<p>The limited permissions are granted through the standardization phase and will not be revoked by Ecma International or its successors or assigns during this time.</p>

<p>This document and the information contained herein is provided on an "AS IS" basis and ECMA INTERNATIONAL DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.</p>
</div>
        <h2>Software License</h2>
        <p>All Software contained in this document ("Software") is protected by copyright and is being made available under the "BSD License", included below. This Software may be subject to third party rights (rights from parties other than Ecma International), including patent rights, and no licenses under such third party rights are granted under this license even if the third party concerned is a member of Ecma International. SEE THE ECMA CODE OF CONDUCT IN PATENT MATTERS AVAILABLE AT <a href="https://ecma-international.org/memento/codeofconduct.htm">https://ecma-international.org/memento/codeofconduct.htm</a> FOR INFORMATION REGARDING THE LICENSING OF PATENT CLAIMS THAT ARE REQUIRED TO IMPLEMENT ECMA INTERNATIONAL STANDARDS.</p>

<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>

<ol>
  <li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
  <li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
  <li>Neither the name of the authors nor Ecma International may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>

<p>THIS SOFTWARE IS PROVIDED BY THE ECMA INTERNATIONAL "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL ECMA INTERNATIONAL BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>

      </emu-annex>

</div></body></html>